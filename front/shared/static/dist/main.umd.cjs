(function(e){typeof define==`function`&&define.amd?define([],e):e()})(function(){var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),l=Array.isArray,u=Array.prototype.indexOf,d=Array.from;Object.keys;var f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyDescriptors,h=Object.prototype,g=Array.prototype,_=Object.getPrototypeOf,v=Object.isExtensible;function y(e){return typeof e==`function`}let b=()=>{};function x(e){for(var t=0;t<e.length;t++)e[t]()}function S(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function C(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);let n=[];for(let r of e)if(n.push(r),n.length===t)break;return n}let w=Symbol(`$state`),T=Symbol(`legacy props`),E=Symbol(``),D=new class extends Error{name=`StaleReactionError`;message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function O(e){throw Error(`https://svelte.dev/e/lifecycle_outside_component`)}function k(){throw Error(`https://svelte.dev/e/async_derived_orphan`)}function A(e){throw Error(`https://svelte.dev/e/effect_in_teardown`)}function ee(){throw Error(`https://svelte.dev/e/effect_in_unowned_derived`)}function j(e){throw Error(`https://svelte.dev/e/effect_orphan`)}function te(){throw Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}function ne(e){throw Error(`https://svelte.dev/e/props_invalid_value`)}function re(){throw Error(`https://svelte.dev/e/state_descriptors_fixed`)}function ie(){throw Error(`https://svelte.dev/e/state_prototype_fixed`)}function M(){throw Error(`https://svelte.dev/e/state_unsafe_mutation`)}function ae(){throw Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`)}let oe={},N=Symbol();function se(e){console.warn(`https://svelte.dev/e/hydration_mismatch`)}function ce(){console.warn(`https://svelte.dev/e/select_multiple_invalid_value`)}function le(){console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`)}let P=!1;function ue(e){P=e}let F;function de(e){if(e===null)throw se(),oe;return F=e}function fe(){return de(It(F))}function I(e){if(P){if(It(F)!==null)throw se(),oe;F=e}}function pe(e=1){if(P){for(var t=e,n=F;t--;)n=It(n);F=n}}function me(e=!0){for(var t=0,n=F;;){if(n.nodeType===8){var r=n.data;if(r===`]`){if(t===0)return n;--t}else (r===`[`||r===`[!`)&&(t+=1)}var i=It(n);e&&n.remove(),n=i}}function he(e){if(!e||e.nodeType!==8)throw se(),oe;return e.data}function ge(e){return e===this.v}function _e(e,t){return e==e?e!==t||typeof e==`object`&&!!e||typeof e==`function`:t==t}function ve(e,t){return e!==t}function ye(e){return!_e(e,this.v)}let be=null;function xe(e){be=e}function Se(e){return De(`getContext`).get(e)}function Ce(e,t){return De(`setContext`).set(e,t),t}function we(e){return De(`hasContext`).has(e)}function Te(){return De(`getAllContexts`)}function L(e,t=!1,n){be={p:be,c:null,e:null,s:e,x:null,l:null}}function R(e){var t=be,n=t.e;if(n!==null){t.e=null;for(var r of n)Xt(r)}return e!==void 0&&(t.x=e),be=t.p,e??{}}function Ee(){return!0}function De(e){return be===null&&O(e),be.c??=new Map(Oe(be)||void 0)}function Oe(e){let t=e.p;for(;t!==null;){let e=t.c;if(e!==null)return e;t=t.p}return null}var ke=typeof requestIdleCallback>`u`?e=>setTimeout(e,1):requestIdleCallback,Ae=[],je=[];function Me(){var e=Ae;Ae=[],x(e)}function Ne(){var e=je;je=[],x(e)}function Pe(){return Ae.length>0||je.length>0}function Fe(e){if(Ae.length===0&&!Xe){var t=Ae;queueMicrotask(()=>{t===Ae&&Me()})}Ae.push(e)}function Ie(e){je.length===0&&ke(Ne),je.push(e)}function Le(){Ae.length>0&&Me(),je.length>0&&Ne()}var Re=new WeakMap;function ze(e){var t=wn;if(t===null)return xn.f|=8388608,e;if(t.f&32768)Be(e,t);else{if(!(t.f&128))throw!t.parent&&e instanceof Error&&Ve(e),e;t.b.error(e)}}function Be(e,t){for(;t!==null;){if(t.f&128)try{t.b.error(e);return}catch(t){e=t}t=t.parent}throw e instanceof Error&&Ve(e),e}function Ve(e){let t=Re.get(e);t&&(f(e,`message`,{value:t.message}),f(e,`stack`,{value:t.stack}))}var He=new Set;let Ue=null,We=null,Ge=null,Ke=new Set;var qe=[],Je=null,Ye=!1;let Xe=!1;var Ze=class e{current=new Map;#previous=new Map;#callbacks=new Set;#pending=0;#deferred=null;#neutered=!1;#async_effects=[];#boundary_async_effects=[];#render_effects=[];#effects=[];#block_effects=[];#dirty_effects=[];#maybe_dirty_effects=[];skipped_effects=new Set;process(e){qe=[],We=null;var t=null;for(let t of e)this.#traverse_effect_tree(t);if(this.#async_effects.length===0&&this.#pending===0){this.#commit();var n=this.#render_effects,r=this.#effects;this.#render_effects=[],this.#effects=[],this.#block_effects=[],We=Ue,Ue=null,nt(n),nt(r),Ue===null?Ue=this:He.delete(this),this.#deferred?.resolve()}else this.#defer_effects(this.#render_effects),this.#defer_effects(this.#effects),this.#defer_effects(this.#block_effects);if(t){for(let[e,{v:n,wv:r}]of t)e.wv<=r&&(e.v=n);Ge=null}for(let e of this.#async_effects)Un(e);for(let e of this.#boundary_async_effects)Un(e);this.#async_effects=[],this.#boundary_async_effects=[]}#traverse_effect_tree(e){e.f^=1024;for(var t=e.first;t!==null;){var n=t.f,r=(n&96)!=0;if(!(r&&n&1024||n&8192||this.skipped_effects.has(t))&&t.fn!==null){r?t.f^=1024:n&4?this.#effects.push(t):n&1024||(n&4194304?(t.b?.is_pending()?this.#boundary_async_effects:this.#async_effects).push(t):Rn(t)&&(t.f&16&&this.#block_effects.push(t),Un(t)));var i=t.first;if(i!==null){t=i;continue}}var a=t.parent;for(t=t.next;t===null&&a!==null;)t=a.next,a=a.parent}}#defer_effects(e){for(let t of e)(t.f&2048?this.#dirty_effects:this.#maybe_dirty_effects).push(t),Jn(t,1024);e.length=0}capture(e,t){this.#previous.has(e)||this.#previous.set(e,t),this.current.set(e,e.v)}activate(){Ue=this}deactivate(){Ue=null,We=null;for(let e of Ke)if(Ke.delete(e),e(),Ue!==null)break}neuter(){this.#neutered=!0}flush(){qe.length>0?$e():this.#commit(),Ue===this&&(this.#pending===0&&He.delete(this),this.deactivate())}#commit(){if(!this.#neutered)for(let e of this.#callbacks)e();this.#callbacks.clear()}increment(){this.#pending+=1}decrement(){if(--this.#pending,this.#pending===0){for(let e of this.#dirty_effects)Jn(e,2048),rt(e);for(let e of this.#maybe_dirty_effects)Jn(e,4096),rt(e);this.#render_effects=[],this.#effects=[],this.flush()}else this.deactivate()}add_callback(e){this.#callbacks.add(e)}settled(){return(this.#deferred??=S()).promise}static ensure(){if(Ue===null){let t=Ue=new e;He.add(Ue),Xe||e.enqueue(()=>{Ue===t&&t.flush()})}return Ue}static enqueue(e){Fe(e)}};function Qe(e){var t=Xe;Xe=!0;try{var n;for(e&&($e(),n=e());;){if(Le(),qe.length===0&&!Pe()&&(Ue?.flush(),qe.length===0))return Je=null,n;$e()}}finally{Xe=t}}function $e(){var e=_n;Ye=!0;try{var t=0;for(vn(!0);qe.length>0;){var n=Ze.ensure();t++>1e3&&et(),n.process(qe),yt.clear()}}finally{Ye=!1,vn(e),Je=null}}function et(){try{te()}catch(e){Be(e,Je)}}let tt=null;function nt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&24576)&&Rn(r)&&(tt=[],Un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?dn(r):r.fn=null),tt?.length>0)){yt.clear();for(let e of tt)Un(e);tt=[]}}tt=null}}function rt(e){for(var t=Je=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ye&&t===wn&&n&16)return;if(n&96){if(!(n&1024))return;t.f^=1024}}qe.push(t)}function it(e){let t=0,n=bt(0),r;return()=>{qt()&&(K(n),nn(()=>(t===0&&(r=Kn(()=>e(()=>wt(n)))),t+=1,()=>{Fe(()=>{--t,t===0&&(r?.(),r=void 0,wt(n))})})))}}var at=589952;function ot(e,t,n){new st(e,t,n)}var st=class{parent;#pending=!1;#anchor;#hydrate_open=P?F:null;#props;#children;#effect;#main_effect=null;#pending_effect=null;#failed_effect=null;#offscreen_fragment=null;#local_pending_count=0;#pending_count=0;#is_creating_fallback=!1;#effect_pending=null;#effect_pending_update=()=>{this.#effect_pending&&St(this.#effect_pending,this.#local_pending_count)};#effect_pending_subscriber=it(()=>(this.#effect_pending=bt(this.#local_pending_count),()=>{this.#effect_pending=null}));constructor(e,t,n){this.#anchor=e,this.#props=t,this.#children=n,this.parent=wn.b,this.#pending=!!this.#props.pending,this.#effect=rn(()=>{if(wn.b=this,P){let e=this.#hydrate_open;fe(),e.nodeType===8&&e.data===`[!`?this.#hydrate_pending_content():this.#hydrate_resolved_content()}else{try{this.#main_effect=an(()=>n(this.#anchor))}catch(e){this.error(e)}this.#pending_count>0?this.#show_pending_snippet():this.#pending=!1}},at),P&&(this.#anchor=F)}#hydrate_resolved_content(){try{this.#main_effect=an(()=>this.#children(this.#anchor))}catch(e){this.error(e)}this.#pending=!1}#hydrate_pending_content(){let e=this.#props.pending;e&&(this.#pending_effect=an(()=>e(this.#anchor)),Ze.enqueue(()=>{this.#main_effect=this.#run(()=>(Ze.ensure(),an(()=>this.#children(this.#anchor)))),this.#pending_count>0?this.#show_pending_snippet():(fn(this.#pending_effect,()=>{this.#pending_effect=null}),this.#pending=!1)}))}is_pending(){return this.#pending||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#props.pending}#run(e){var t=wn,n=xn,r=be;Tn(this.#effect),Cn(this.#effect),xe(this.#effect.ctx);try{return e()}catch(e){return ze(e),null}finally{Tn(t),Cn(n),xe(r)}}#show_pending_snippet(){let e=this.#props.pending;this.#main_effect!==null&&(this.#offscreen_fragment=document.createDocumentFragment(),ct(this.#main_effect,this.#offscreen_fragment)),this.#pending_effect===null&&(this.#pending_effect=an(()=>e(this.#anchor)))}#update_pending_count(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#update_pending_count(e);return}this.#pending_count+=e,this.#pending_count===0&&(this.#pending=!1,this.#pending_effect&&fn(this.#pending_effect,()=>{this.#pending_effect=null}),this.#offscreen_fragment&&=(this.#anchor.before(this.#offscreen_fragment),null))}update_pending_count(e){this.#update_pending_count(e),this.#local_pending_count+=e,Ke.add(this.#effect_pending_update)}get_effect_pending(){return this.#effect_pending_subscriber(),K(this.#effect_pending)}error(e){var t=this.#props.onerror;let n=this.#props.failed;if(this.#is_creating_fallback||!t&&!n)throw e;this.#main_effect&&=(ln(this.#main_effect),null),this.#pending_effect&&=(ln(this.#pending_effect),null),this.#failed_effect&&=(ln(this.#failed_effect),null),P&&(de(this.#hydrate_open),pe(),de(me()));var r=!1,i=!1;let a=()=>{if(r){le();return}r=!0,i&&ae(),Ze.ensure(),this.#local_pending_count=0,this.#failed_effect!==null&&fn(this.#failed_effect,()=>{this.#failed_effect=null}),this.#pending=this.has_pending_snippet(),this.#main_effect=this.#run(()=>(this.#is_creating_fallback=!1,an(()=>this.#children(this.#anchor)))),this.#pending_count>0?this.#show_pending_snippet():this.#pending=!1};var o=xn;try{Cn(null),i=!0,t?.(e,a),i=!1}catch(e){Be(e,this.#effect&&this.#effect.parent)}finally{Cn(o)}n&&Fe(()=>{this.#failed_effect=this.#run(()=>{this.#is_creating_fallback=!0;try{return an(()=>{n(this.#anchor,()=>e,()=>a)})}catch(e){return Be(e,this.#effect.parent),null}finally{this.#is_creating_fallback=!1}})})}};function ct(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:It(n);t.append(n),n=i}}function lt(e,t,n){let r=Ee()?ft:mt;if(t.length===0){n(e.map(r));return}var i=Ue,a=wn,o=ut(),s=P;Promise.all(t.map(e=>pt(e))).then(t=>{i?.activate(),o();try{n([...e.map(r),...t])}catch(e){a.f&16384||Be(e,a)}s&&ue(!1),i?.deactivate(),dt()}).catch(e=>{Be(e,a)})}function ut(){var e=wn,t=xn,n=be,r=Ue,i=P;if(i)var a=F;return function(){Tn(e),Cn(t),xe(n),r?.activate(),i&&(ue(!0),de(a))}}function dt(){Tn(null),Cn(null),xe(null)}function ft(e){var t=2050,n=xn!==null&&xn.f&2?xn:null;return wn===null||n!==null&&n.f&256?t|=256:wn.f|=524288,{ctx:be,deps:null,effects:null,equals:ge,f:t,fn:e,reactions:null,rv:0,v:N,wv:0,parent:n??wn,ac:null}}function pt(e,t){let n=wn;n===null&&k();var r=n.b,i=void 0,a=bt(N),o=null,s=!xn;return tn(()=>{try{var t=e();o&&Promise.resolve(t).catch(()=>{})}catch(e){t=Promise.reject(e)}var n=()=>t;i=o?.then(n,n)??Promise.resolve(t),o=i;var c=Ue,l=r.is_pending();s&&(r.update_pending_count(1),l||c.increment());let u=(e,t=void 0)=>{o=null,l||c.activate(),t?t!==D&&(a.f|=8388608,St(a,t)):(a.f&8388608&&(a.f^=8388608),St(a,e)),s&&(r.update_pending_count(-1),l||c.decrement()),dt()};if(i.then(u,e=>u(null,e||`unknown`)),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(e=>{function t(n){function r(){n===i?e(a):t(i)}n.then(r,r)}t(i)})}function z(e){let t=ft(e);return Dn(t),t}function mt(e){let t=ft(e);return t.equals=ye,t}function ht(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ln(t[n])}}function gt(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t;t=t.parent}return null}function _t(e){var t,n=wn;Tn(gt(e));try{ht(e),t=Bn(e)}finally{Tn(n)}return t}function vt(e){var t=_t(e);if(e.equals(t)||(e.v=t,e.wv=Ln()),!yn)if(Ge!==null)Ge.set(e,e.v);else{var n=(In||e.f&256)&&e.deps!==null?4096:1024;Jn(e,n)}}let yt=new Map;function bt(e,t){return{f:0,v:e,reactions:null,equals:ge,rv:0,wv:0}}function B(e,t){let n=bt(e,t);return Dn(n),n}function xt(e,t=!1,n=!0){let r=bt(e);return t||(r.equals=ye),r}function V(e,t,n=!1){xn!==null&&(!Sn||xn.f&131072)&&Ee()&&xn.f&4325394&&!En?.includes(e)&&M();let r=n?Et(t):t;return St(e,r)}function St(e,t){if(!e.equals(t)){var n=e.v;yn?yt.set(e,t):yt.set(e,n),e.v=t,Ze.ensure().capture(e,n),e.f&2&&(e.f&2048&&_t(e),Jn(e,e.f&256?4096:1024)),e.wv=Ln(),Tt(e,2048),Ee()&&wn!==null&&wn.f&1024&&!(wn.f&96)&&(An===null?jn([e]):An.push(e))}return t}function Ct(e,t=1){var n=K(e),r=t===1?n++:n--;return V(e,n),r}function wt(e){V(e,e.v+1)}function Tt(e,t){var n=e.reactions;if(n!==null)for(var r=Ee(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;if(!(!r&&o===wn)){var c=(s&2048)==0;c&&Jn(o,t),s&2?Tt(o,4096):c&&(s&16&&tt!==null&&tt.push(o),rt(o))}}}function Et(e){if(typeof e!=`object`||!e||w in e)return e;let t=_(e);if(t!==h&&t!==g)return e;var n=new Map,r=l(e),i=B(0),a=null,o=Pn,s=e=>{if(Pn===o)return e();var t=xn,n=Pn;Cn(null),Fn(o);var r=e();return Cn(t),Fn(n),r};return r&&n.set(`length`,B(e.length,a)),new Proxy(e,{defineProperty(e,t,r){(!(`value`in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&re();var i=n.get(t);return i===void 0?i=s(()=>{var e=B(r.value,a);return n.set(t,e),e}):V(i,r.value,!0),!0},deleteProperty(e,t){var r=n.get(t);if(r===void 0){if(t in e){let e=s(()=>B(N,a));n.set(t,e),wt(i)}}else V(r,N),wt(i);return!0},get(t,r,i){if(r===w)return e;var o=n.get(r),c=r in t;if(o===void 0&&(!c||p(t,r)?.writable)&&(o=s(()=>{var e=Et(c?t[r]:N);return B(e,a)}),n.set(r,o)),o!==void 0){var l=K(o);return l===N?void 0:l}return Reflect.get(t,r,i)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&`value`in r){var i=n.get(t);i&&(r.value=K(i))}else if(r===void 0){var a=n.get(t),o=a?.v;if(a!==void 0&&o!==N)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return r},has(e,t){if(t===w)return!0;var r=n.get(t),i=r!==void 0&&r.v!==N||Reflect.has(e,t);return(r!==void 0||wn!==null&&(!i||p(e,t)?.writable))&&(r===void 0&&(r=s(()=>{var n=i?Et(e[t]):N;return B(n,a)}),n.set(t,r)),K(r)===N)?!1:i},set(e,t,o,c){var l=n.get(t),u=t in e;if(r&&t===`length`)for(var d=o;d<l.v;d+=1){var f=n.get(d+``);f===void 0?d in e&&(f=s(()=>B(N,a)),n.set(d+``,f)):V(f,N)}if(l===void 0)(!u||p(e,t)?.writable)&&(l=s(()=>B(void 0,a)),V(l,Et(o)),n.set(t,l));else{u=l.v!==N;var m=s(()=>Et(o));V(l,m)}var h=Reflect.getOwnPropertyDescriptor(e,t);if(h?.set&&h.set.call(c,o),!u){if(r&&typeof t==`string`){var g=n.get(`length`),_=Number(t);Number.isInteger(_)&&_>=g.v&&V(g,_+1)}wt(i)}return!0},ownKeys(e){K(i);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return t===void 0||t.v!==N});for(var[r,a]of n)a.v!==N&&!(r in e)&&t.push(r);return t},setPrototypeOf(){ie()}})}function Dt(e){try{if(typeof e==`object`&&e&&w in e)return e[w]}catch{}return e}function Ot(e,t){return Object.is(Dt(e),Dt(t))}var kt,At,jt,Mt;function Nt(){if(kt===void 0){kt=window,document,At=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;jt=p(t,`firstChild`).get,Mt=p(t,`nextSibling`).get,v(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),v(n)&&(n.__t=void 0)}}function Pt(e=``){return document.createTextNode(e)}function Ft(e){return jt.call(e)}function It(e){return Mt.call(e)}function H(e,t){if(!P)return Ft(e);var n=Ft(F);if(n===null)n=F.appendChild(Pt());else if(t&&n.nodeType!==3){var r=Pt();return n?.before(r),de(r),r}return de(n),n}function U(e,t=!1){if(!P){var n=Ft(e);return n instanceof Comment&&n.data===``?It(n):n}if(t&&F?.nodeType!==3){var r=Pt();return F?.before(r),de(r),r}return F}function W(e,t=1,n=!1){let r=P?F:e;for(var i;t--;)i=r,r=It(r);if(!P)return r;if(n&&r?.nodeType!==3){var a=Pt();return r===null?i?.after(a):r.before(a),de(a),a}return de(r),r}function Lt(e){e.textContent=``}function Rt(){return!1}function zt(e,t){if(t){let t=document.body;e.autofocus=!0,Fe(()=>{document.activeElement===t&&e.focus()})}}var Bt=!1;function Vt(){Bt||(Bt=!0,document.addEventListener(`reset`,e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ht(e){var t=xn,n=wn;Cn(null),Tn(null);try{return e()}finally{Cn(t),Tn(n)}}function Ut(e,t,n,r=n){e.addEventListener(t,()=>Ht(n));let i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Vt()}function Wt(e){wn===null&&xn===null&&j(e),xn!==null&&xn.f&256&&wn===null&&ee(),yn&&A(e)}function Gt(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Kt(e,t,n,r=!0){var i=wn;i!==null&&i.f&8192&&(e|=8192);var a={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Un(a),a.f|=32768}catch(e){throw ln(a),e}else t!==null&&rt(a);if(r){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&524288)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&Gt(o,i),xn!==null&&xn.f&2&&!(e&64))){var s=xn;(s.effects??=[]).push(o)}}return a}function qt(){return xn!==null&&!Sn}function Jt(e){let t=Kt(8,null,!1);return Jn(t,1024),t.teardown=e,t}function Yt(e){Wt(`$effect`);var t=wn.f;if(!xn&&t&32&&!(t&32768)){var n=be;(n.e??=[]).push(e)}else return Xt(e)}function Xt(e){return Kt(1048580,e,!1)}function Zt(e){return Wt(`$effect.pre`),Kt(1048584,e,!0)}function Qt(e){Ze.ensure();let t=Kt(524352,e,!0);return()=>{ln(t)}}function $t(e){Ze.ensure();let t=Kt(524352,e,!0);return(e={})=>new Promise(n=>{e.outro?fn(t,()=>{ln(t),n(void 0)}):(ln(t),n(void 0))})}function en(e){return Kt(4,e,!1)}function tn(e){return Kt(4718592,e,!0)}function nn(e,t=0){return Kt(8|t,e,!0)}function G(e,t=[],n=[]){lt(t,n,t=>{Kt(8,()=>e(...t.map(K)),!0)})}function rn(e,t=0){return Kt(16|t,e,!0)}function an(e,t=!0){return Kt(524320,e,!0,t)}function on(e){var t=e.teardown;if(t!==null){let e=yn,n=xn;bn(!0),Cn(null);try{t.call(null)}finally{bn(e),Cn(n)}}}function sn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){let e=n.ac;e!==null&&Ht(()=>{e.abort(D)});var r=n.next;n.f&64?n.parent=null:ln(n,t),n=r}}function cn(e){for(var t=e.first;t!==null;){var n=t.next;t.f&32||ln(t),t=n}}function ln(e,t=!0){var n=!1;(t||e.f&262144)&&e.nodes_start!==null&&e.nodes_end!==null&&(un(e.nodes_start,e.nodes_end),n=!0),sn(e,t&&!n),Hn(e,0),Jn(e,16384);var r=e.transitions;if(r!==null)for(let e of r)e.stop();on(e);var i=e.parent;i!==null&&i.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function un(e,t){for(;e!==null;){var n=e===t?null:It(e);e.remove(),e=n}}function dn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function fn(e,t){var n=[];mn(e,n,!0),pn(n,()=>{ln(e),t&&t()})}function pn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function mn(e,t,n){if(!(e.f&8192)){if(e.f^=8192,e.transitions!==null)for(let r of e.transitions)(r.is_global||n)&&t.push(r);for(var r=e.first;r!==null;){var i=r.next,a=(r.f&65536)!=0||(r.f&32)!=0;mn(r,t,a?n:!1),r=i}}}function hn(e){gn(e,!0)}function gn(e,t){if(e.f&8192){e.f^=8192,e.f&1024||(Jn(e,2048),rt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&65536)!=0||(n.f&32)!=0;gn(n,i?t:!1),n=r}if(e.transitions!==null)for(let n of e.transitions)(n.is_global||t)&&n.in()}}let _n=!1;function vn(e){_n=e}let yn=!1;function bn(e){yn=e}let xn=null,Sn=!1;function Cn(e){xn=e}let wn=null;function Tn(e){wn=e}let En=null;function Dn(e){xn!==null&&(En===null?En=[e]:En.push(e))}var On=null,kn=0;let An=null;function jn(e){An=e}let Mn=1;var Nn=0;let Pn=Nn;function Fn(e){Pn=e}let In=!1;function Ln(){return++Mn}function Rn(e){var t=e.f;if(t&2048)return!0;if(t&4096){var n=e.deps,r=(t&256)!=0;if(n!==null){var i,a,o=(t&512)!=0,s=r&&wn!==null&&!In,c=n.length;if((o||s)&&(wn===null||!(wn.f&16384))){var l=e,u=l.parent;for(i=0;i<c;i++)a=n[i],(o||!a?.reactions?.includes(l))&&(a.reactions??=[]).push(l);o&&(l.f^=512),s&&u!==null&&!(u.f&256)&&(l.f^=256)}for(i=0;i<c;i++)if(a=n[i],Rn(a)&&vt(a),a.wv>e.wv)return!0}(!r||wn!==null&&!In)&&Jn(e,1024)}return!1}function zn(e,t,n=!0){var r=e.reactions;if(r!==null&&!En?.includes(e))for(var i=0;i<r.length;i++){var a=r[i];a.f&2?zn(a,t,!1):t===a&&(n?Jn(a,2048):a.f&1024&&Jn(a,4096),rt(a))}}function Bn(e){var t=On,n=kn,r=An,i=xn,a=In,o=En,s=be,c=Sn,l=Pn,u=e.f;On=null,kn=0,An=null,In=(u&256)!=0&&(Sn||!_n||xn===null),xn=u&96?null:e,En=null,xe(e.ctx),Sn=!1,Pn=++Nn,e.ac!==null&&(Ht(()=>{e.ac.abort(D)}),e.ac=null);try{e.f|=2097152;var d=e.fn,f=d(),p=e.deps;if(On!==null){var m;if(Hn(e,kn),p!==null&&kn>0)for(p.length=kn+On.length,m=0;m<On.length;m++)p[kn+m]=On[m];else e.deps=p=On;if(!In||u&2&&e.reactions!==null)for(m=kn;m<p.length;m++)(p[m].reactions??=[]).push(e)}else p!==null&&kn<p.length&&(Hn(e,kn),p.length=kn);if(Ee()&&An!==null&&!Sn&&p!==null&&!(e.f&6146))for(m=0;m<An.length;m++)zn(An[m],e);return i!==null&&i!==e&&(Nn++,An!==null&&(r===null?r=An:r.push(...An))),e.f&8388608&&(e.f^=8388608),f}catch(e){return ze(e)}finally{e.f^=2097152,On=t,kn=n,An=r,xn=i,In=a,En=o,xe(s),Sn=c,Pn=l}}function Vn(e,t){let n=t.reactions;if(n!==null){var r=u.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&2&&(On===null||!On.includes(t))&&(Jn(t,4096),t.f&768||(t.f^=512),ht(t),Hn(t,0))}function Hn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Vn(e,n[r])}function Un(e){var t=e.f;if(!(t&16384)){Jn(e,1024);var n=wn,r=_n;wn=e,_n=!0;try{t&16?cn(e):sn(e),on(e);var i=Bn(e);e.teardown=typeof i==`function`?i:null,e.wv=Mn}finally{_n=r,wn=n}}}async function Wn(){await Promise.resolve(),Qe()}function K(e){var t=(e.f&2)!=0;if(null?.add(e),xn!==null&&!Sn){if(!(wn!==null&&wn.f&16384)&&!En?.includes(e)){var n=xn.deps;if(xn.f&2097152)e.rv<Nn&&(e.rv=Nn,On===null&&n!==null&&n[kn]===e?kn++:On===null?On=[e]:(!In||!On.includes(e))&&On.push(e));else{(xn.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[xn]:r.includes(xn)||r.push(xn)}}}else if(t&&e.deps===null&&e.effects===null){var i=e,a=i.parent;a!==null&&!(a.f&256)&&(i.f^=256)}if(yn){if(yt.has(e))return yt.get(e);if(t){i=e;var o=i.v;return(!(i.f&1024)&&i.reactions!==null||Gn(i))&&(o=_t(i)),yt.set(i,o),o}}else if(t){if(i=e,Ge?.has(i))return Ge.get(i);Rn(i)&&vt(i)}if(e.f&8388608)throw e.v;return e.v}function Gn(e){if(e.v===N)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(yt.has(t)||t.f&2&&Gn(t))return!0;return!1}function Kn(e){var t=Sn;try{return Sn=!0,e()}finally{Sn=t}}var qn=-7169;function Jn(e,t){e.f=e.f&qn|t}function Yn(){return Symbol(`@attach`)}function Xn(e){return e.endsWith(`capture`)&&e!==`gotpointercapture`&&e!==`lostpointercapture`}var Zn=[`beforeinput`,`click`,`change`,`dblclick`,`contextmenu`,`focusin`,`focusout`,`input`,`keydown`,`keyup`,`mousedown`,`mousemove`,`mouseout`,`mouseover`,`mouseup`,`pointerdown`,`pointermove`,`pointerout`,`pointerover`,`pointerup`,`touchend`,`touchmove`,`touchstart`];function Qn(e){return Zn.includes(e)}var $n=`allowfullscreen.async.autofocus.autoplay.checked.controls.default.disabled.formnovalidate.indeterminate.inert.ismap.loop.multiple.muted.nomodule.novalidate.open.playsinline.readonly.required.reversed.seamless.selected.webkitdirectory.defer.disablepictureinpicture.disableremoteplayback`.split(`.`),er={formnovalidate:`formNoValidate`,ismap:`isMap`,nomodule:`noModule`,playsinline:`playsInline`,readonly:`readOnly`,defaultvalue:`defaultValue`,defaultchecked:`defaultChecked`,srcobject:`srcObject`,novalidate:`noValidate`,allowfullscreen:`allowFullscreen`,disablepictureinpicture:`disablePictureInPicture`,disableremoteplayback:`disableRemotePlayback`};function tr(e){return e=e.toLowerCase(),er[e]??e}[...$n];var nr=[`touchstart`,`touchmove`];function rr(e){return nr.includes(e)}var ir=[`textarea`,`script`,`style`,`title`];function ar(e){return ir.includes(e)}let or=new Set,sr=new Set;function cr(e,t,n,r={}){function i(e){if(r.capture||pr.call(t,e),!e.cancelBubble)return Ht(()=>n?.call(this,e))}return e.startsWith(`pointer`)||e.startsWith(`touch`)||e===`wheel`?Fe(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function lr(e,t,n,r={}){var i=cr(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function ur(e,t,n,r,i){var a={capture:r,passive:i},o=cr(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Jt(()=>{t.removeEventListener(e,o,a)})}function dr(e){for(var t=0;t<e.length;t++)or.add(e[t]);for(var n of sr)n(e)}var fr=null;function pr(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;fr=e;var o=0,s=fr===e&&e.__root;if(s){var c=i.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(a=i[o]||e.target,a!==t){f(e,`currentTarget`,{configurable:!0,get(){return a||n}});var d=xn,p=wn;Cn(null),Tn(null);try{for(var m,h=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var _=a[`__`+r];if(_!=null&&(!a.disabled||e.target===a))if(l(_)){var[v,...y]=_;v.apply(a,[e,...y])}else _.call(a,e)}catch(e){m?h.push(e):m=e}if(e.cancelBubble||g===t||g===null)break;a=g}if(m){for(let e of h)queueMicrotask(()=>{throw e});throw m}}finally{e.__root=t,delete e.currentTarget,Cn(d),Tn(p)}}}function mr(e){var t=document.createElement(`template`);return t.innerHTML=e.replaceAll(`<!>`,`<!---->`),t.content}function hr(e,t){var n=wn;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&1)!=0,r=(t&2)!=0,i,a=!e.startsWith(`<!>`);return()=>{if(P)return hr(F,null),F;i===void 0&&(i=mr(a?e:`<!>`+e),n||(i=Ft(i)));var t=r||At?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Ft(t),s=t.lastChild;hr(o,s)}else hr(t,t);return t}}function gr(e,t,n=`svg`){var r=!e.startsWith(`<!>`),i=(t&1)!=0,a=`<${n}>${r?e:`<!>`+e}</${n}>`,o;return()=>{if(P)return hr(F,null),F;if(!o){var e=mr(a),t=Ft(e);if(i)for(o=document.createDocumentFragment();Ft(t);)o.appendChild(Ft(t));else o=Ft(t)}var n=o.cloneNode(!0);if(i){var r=Ft(n),s=n.lastChild;hr(r,s)}else hr(n,n);return n}}function _r(e,t){return gr(e,t,`svg`)}function vr(e=``){if(!P){var t=Pt(e+``);return hr(t,t),t}var n=F;return n.nodeType!==3&&(n.before(n=Pt()),de(n)),hr(n,n),n}function J(){if(P)return hr(F,null),F;var e=document.createDocumentFragment(),t=document.createComment(``),n=Pt();return e.append(t,n),hr(t,n),e}function Y(e,t){if(P){wn.nodes_end=F,fe();return}e!==null&&e.before(t)}function yr(){if(P&&F&&F.nodeType===8&&F.textContent?.startsWith(`$`)){let e=F.textContent.substring(1);return fe(),e}return(window.__svelte??={}).uid??=1,`c${window.__svelte.uid++}`}function br(e,t){var n=t==null?``:typeof t==`object`?t+``:t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+``)}function xr(e,t){return Cr(e,t)}var Sr=new Map;function Cr(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:o=!0}){Nt();var s=new Set,c=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!s.has(r)){s.add(r);var i=rr(r);t.addEventListener(r,pr,{passive:i});var a=Sr.get(r);a===void 0?(document.addEventListener(r,pr,{passive:i}),Sr.set(r,1)):Sr.set(r,a+1)}}};c(d(or)),sr.add(c);var l=void 0,u=$t(()=>{var o=n??t.appendChild(Pt());return ot(o,{pending:()=>{}},t=>{if(a){L({});var n=be;n.c=a}if(i&&(r.$$events=i),P&&hr(t,null),l=e(t,r)||{},P&&(wn.nodes_end=F,F===null||F.nodeType!==8||F.data!==`]`))throw se(),oe;a&&R()}),()=>{for(var e of s){t.removeEventListener(e,pr);var r=Sr.get(e);--r===0?(document.removeEventListener(e,pr),Sr.delete(e)):Sr.set(e,r)}sr.delete(c),o!==n&&o.parentNode?.removeChild(o)}});return wr.set(l,u),l}var wr=new WeakMap;function Tr(e,t){let n=wr.get(e);return n?(wr.delete(e),n(t)):Promise.resolve()}function X(e,t,n=!1){P&&fe();var r=e,i=null,a=null,o=N,s=n?65536:0,c=!1;let l=(e,t=!0)=>{c=!0,f(t,e)};var u=null;function d(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var e=o?i:a,t=o?a:i;e&&hn(e),t&&fn(t,()=>{o?a=null:i=null})}let f=(e,t)=>{if(o===(o=e))return;let n=!1;if(P){let e=he(r)===`[!`;!!o===e&&(r=me(),de(r),ue(!1),n=!0)}var s=Rt(),c=r;if(s&&(u=document.createDocumentFragment(),u.append(c=Pt())),o?i??=t&&an(()=>t(c)):a??=t&&an(()=>t(c)),s){var l=Ue,f=o?i:a,p=o?a:i;f&&l.skipped_effects.delete(f),p&&l.skipped_effects.add(p),l.add_callback(d)}else d();n&&ue(!0)};rn(()=>{c=!1,t(l),c||f(null,null)},s),P&&(r=F)}function Er(e,t,n){P&&fe();var r=e,i=N,a,o,s=null,c=Ee()?ve:_e;function l(){a&&fn(a),s!==null&&(s.lastChild.remove(),r.before(s),s=null),a=o}rn(()=>{if(c(i,i=t())){var e=r,a=Rt();a&&(s=document.createDocumentFragment(),s.append(e=Pt())),o=an(()=>n(e)),a?Ue.add_callback(l):l()}}),P&&(r=F)}let Dr=null;function Or(e){Dr=e}function kr(e,t){return t}function Ar(e,t,n){for(var r=e.items,i=[],a=t.length,o=0;o<a;o++)mn(t[o].e,i,!0);var s=a>0&&i.length===0&&n!==null;if(s){var c=n.parentNode;Lt(c),c.append(n),r.clear(),Ir(e,t[0].prev,t[a-1].next)}pn(i,()=>{for(var n=0;n<a;n++){var i=t[n];s||(r.delete(i.k),Ir(e,i.prev,i.next)),ln(i.e,!s)}})}function jr(e,t,n,r,i,a=null){var o=e,s={flags:t,items:new Map,first:null};if(t&4){var c=e;o=P?de(Ft(c)):c.appendChild(Pt())}P&&fe();var u=null,f=!1,p=new Map,m=mt(()=>{var e=n();return l(e)?e:e==null?[]:d(e)}),h,g;function _(){Mr(g,h,s,p,o,i,t,r,n),a!==null&&(h.length===0?u?hn(u):u=an(()=>a(o)):u!==null&&fn(u,()=>{u=null}))}rn(()=>{g??=wn,h=K(m);var e=h.length;if(f&&e===0)return;f=e===0;let c=!1;if(P&&he(o)===`[!`!=(e===0)&&(o=me(),de(o),ue(!1),c=!0),P){for(var l=null,d,v=0;v<e;v++){if(F.nodeType===8&&F.data===`]`){o=F,c=!0,ue(!1);break}var y=h[v],b=r(y,v);d=Pr(F,s,l,null,y,b,v,i,t,n),s.items.set(b,d),l=d}e>0&&de(me())}if(P)e===0&&a&&(u=an(()=>a(o)));else if(Rt()){var x=new Set,S=Ue;for(v=0;v<e;v+=1){y=h[v],b=r(y,v);var C=s.items.get(b)??p.get(b);C?t&3&&Nr(C,y,v,t):(d=Pr(null,s,null,null,y,b,v,i,t,n,!0),p.set(b,d)),x.add(b)}for(let[e,t]of s.items)x.has(e)||S.skipped_effects.add(t.e);S.add_callback(_)}else _();c&&ue(!0),K(m)}),P&&(o=F)}function Mr(e,t,n,r,i,a,o,s,c){var l=(o&8)!=0,u=(o&3)!=0,f=t.length,p=n.items,m=n.first,h,g=null,_,v=[],y=[],b,x,S,C;if(l)for(C=0;C<f;C+=1)b=t[C],x=s(b,C),S=p.get(x),S!==void 0&&(S.a?.measure(),(_??=new Set).add(S));for(C=0;C<f;C+=1){if(b=t[C],x=s(b,C),S=p.get(x),S===void 0){var w=r.get(x);if(w!==void 0){r.delete(x),p.set(x,w);var T=g?g.next:m;Ir(n,g,w),Ir(n,w,T),Fr(w,T,i),g=w}else{var E=m?m.e.nodes_start:i;g=Pr(E,n,g,g===null?n.first:g.next,b,x,C,a,o,c)}p.set(x,g),v=[],y=[],m=g.next;continue}if(u&&Nr(S,b,C,o),S.e.f&8192&&(hn(S.e),l&&(S.a?.unfix(),(_??=new Set).delete(S))),S!==m){if(h!==void 0&&h.has(S)){if(v.length<y.length){var D=y[0],O;g=D.prev;var k=v[0],A=v[v.length-1];for(O=0;O<v.length;O+=1)Fr(v[O],D,i);for(O=0;O<y.length;O+=1)h.delete(y[O]);Ir(n,k.prev,A.next),Ir(n,g,k),Ir(n,A,D),m=D,g=A,--C,v=[],y=[]}else h.delete(S),Fr(S,m,i),Ir(n,S.prev,S.next),Ir(n,S,g===null?n.first:g.next),Ir(n,g,S),g=S;continue}for(v=[],y=[];m!==null&&m.k!==x;)m.e.f&8192||(h??=new Set).add(m),y.push(m),m=m.next;if(m===null)continue;S=m}v.push(S),g=S,m=S.next}if(m!==null||h!==void 0){for(var ee=h===void 0?[]:d(h);m!==null;)m.e.f&8192||ee.push(m),m=m.next;var j=ee.length;if(j>0){var te=o&4&&f===0?i:null;if(l){for(C=0;C<j;C+=1)ee[C].a?.measure();for(C=0;C<j;C+=1)ee[C].a?.fix()}Ar(n,ee,te)}}l&&Fe(()=>{if(_!==void 0)for(S of _)S.a?.apply()}),e.first=n.first&&n.first.e,e.last=g&&g.e;for(var ne of r.values())ln(ne.e);r.clear()}function Nr(e,t,n,r){r&1&&St(e.v,t),r&2?St(e.i,n):e.i=n}function Pr(e,t,n,r,i,a,o,s,c,l,u){var d=Dr,f=(c&1)!=0,p=(c&16)==0,m=f?p?xt(i,!1,!1):bt(i):i,h=c&2?bt(o):o,g={i:h,v:m,k:a,a:null,e:null,prev:n,next:r};Dr=g;try{return e===null&&document.createDocumentFragment().append(e=Pt()),g.e=an(()=>s(e,m,h,l),P),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?u||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{Dr=d}}function Fr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var o=It(a);i.before(a),a=o}}function Ir(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Lr(e,t,n=!1,r=!1,i=!1){var a=e,o=``;G(()=>{var e=wn;if(o===(o=t()??``)){P&&fe();return}if(e.nodes_start!==null&&(un(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),o!==``){if(P){for(var i=F.data,s=fe(),c=s;s!==null&&(s.nodeType!==8||s.data!==``);)c=s,s=It(s);if(s===null)throw se(),oe;hr(F,c),a=de(s);return}var l=o+``;n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var u=mr(l);if((n||r)&&(u=Ft(u)),hr(Ft(u),u.lastChild),n||r)for(;Ft(u);)a.before(Ft(u));else a.before(u)}})}function Z(e,t,...n){var r=e,i=b,a;rn(()=>{i!==(i=t())&&(a&&=(ln(a),null),a=an(()=>i(r,...n)))},65536),P&&(r=F)}function Rr(e,t,n){P&&fe();var r=e,i,a,o=null,s=null;function c(){a&&=(fn(a),null),o&&=(o.lastChild.remove(),r.before(o),null),a=s,s=null}rn(()=>{if(i!==(i=t())){var e=Rt();if(i){var l=r;e&&(o=document.createDocumentFragment(),o.append(l=Pt()),a&&Ue.skipped_effects.add(a)),s=an(()=>n(l,i))}e?Ue.add_callback(c):c()}},65536),P&&(r=F)}function zr(e,t,n,r,i,a){let o=P;P&&fe();var s,c,l=null;P&&F.nodeType===1&&(l=F,fe());var u=P?F:e,d,f=Dr;rn(()=>{let e=t()||null;var a=i?i():n||e===`svg`?`http://www.w3.org/2000/svg`:null;if(e!==s){var o=Dr;Or(f),d&&(e===null?fn(d,()=>{d=null,c=null}):e===c?hn(d):ln(d)),e&&e!==c&&(d=an(()=>{if(l=P?l:a?document.createElementNS(a,e):document.createElement(e),hr(l,l),r){P&&ar(e)&&l.append(document.createComment(``));var t=P?Ft(l):l.appendChild(Pt());P&&(t===null?ue(!1):de(t)),r(l,t)}wn.nodes_end=l,u.before(l)})),s=e,s&&(c=s),Or(o)}},65536),o&&(ue(!0),de(u))}function Br(e,t){var n=void 0,r;rn(()=>{n!==(n=t())&&(r&&=(ln(r),null),n&&(r=an(()=>{en(()=>n(e))})))})}function Vr(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Vr(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Hr(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Vr(e))&&(r&&(r+=` `),r+=t);return r}function Ur(e){return typeof e==`object`?Hr(e):e??``}var Wr=[...` 	
\r\f\xA0\vï»¿`];function Gr(e,t,n){var r=e==null?``:``+e;if(t&&(r=r?r+` `+t:t),n){for(var i in n)if(n[i])r=r?r+` `+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var s=o+a;(o===0||Wr.includes(r[o-1]))&&(s===r.length||Wr.includes(r[s]))?r=(o===0?``:r.substring(0,o))+r.substring(s+1):o=s}}return r===``?null:r}function Kr(e,t=!1){var n=t?` !important;`:`;`,r=``;for(var i in e){var a=e[i];a!=null&&a!==``&&(r+=` `+i+`: `+a+n)}return r}function qr(e){return e[0]!==`-`||e[1]!==`-`?e.toLowerCase():e}function Jr(e,t){if(t){var n=``,r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,``).trim();var a=!1,o=0,s=!1,c=[];r&&c.push(...Object.keys(r).map(qr)),i&&c.push(...Object.keys(i).map(qr));var l=0,u=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(s?f===`/`&&e[d-1]===`*`&&(s=!1):a?a===f&&(a=!1):f===`/`&&e[d+1]===`*`?s=!0:f===`"`||f===`'`?a=f:f===`(`?o++:f===`)`&&o--,!s&&a===!1&&o===0){if(f===`:`&&u===-1)u=d;else if(f===`;`||d===t-1){if(u!==-1){var p=qr(e.substring(l,u).trim());if(!c.includes(p)){f!==`;`&&d++;var m=e.substring(l,d).trim();n+=` `+m+`;`}}l=d+1,u=-1}}}}return r&&(n+=Kr(r)),i&&(n+=Kr(i,!0)),n=n.trim(),n===``?null:n}return e==null?null:String(e)}function Yr(e,t,n,r,i,a){var o=e.__className;if(P||o!==n||o===void 0){var s=Gr(n,r,a);(!P||s!==e.getAttribute(`class`))&&(s==null?e.removeAttribute(`class`):t?e.className=s:e.setAttribute(`class`,s)),e.__className=n}else if(a&&i!==a)for(var c in a){var l=!!a[c];(i==null||l!==!!i[c])&&e.classList.toggle(c,l)}return a}function Xr(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function Zr(e,t,n,r){var i=e.__style;if(P||i!==t){var a=Jr(t,r);(!P||a!==e.getAttribute(`style`))&&(a==null?e.removeAttribute(`style`):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(Xr(e,n?.[0],r[0]),Xr(e,n?.[1],r[1],`important`)):Xr(e,n,r));return r}function Qr(e,t,n=!1){if(e.multiple){if(t==null)return;if(!l(t))return ce();for(var r of e.options)r.selected=t.includes(ti(r));return}for(r of e.options){var i=ti(r);if(Ot(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function $r(e){var t=new MutationObserver(()=>{Qr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[`value`]}),Jt(()=>{t.disconnect()})}function ei(e,t,n=t){var r=!0;Ut(e,`change`,t=>{var r=t?`[selected]`:`:checked`,i;if(e.multiple)i=[].map.call(e.querySelectorAll(r),ti);else{var a=e.querySelector(r)??e.querySelector(`option:not([disabled])`);i=a&&ti(a)}n(i)}),en(()=>{var i=t();if(Qr(e,i,r),r&&i===void 0){var a=e.querySelector(`:checked`);a!==null&&(i=ti(a),n(i))}e.__value=i,r=!1}),$r(e)}function ti(e){return`__value`in e?e.__value:e.value}let ni=Symbol(`class`),ri=Symbol(`style`);var ii=Symbol(`is custom element`),ai=Symbol(`is html`);function oi(e){if(P){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute(`value`)){var n=e.value;li(e,`value`,null),e.value=n}if(e.hasAttribute(`checked`)){var r=e.checked;li(e,`checked`,null),e.checked=r}}};e.__on_r=n,Ie(n),Vt()}}function si(e,t){var n=fi(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==`PROGRESS`)||(e.value=t??``)}function ci(e,t){t?e.hasAttribute(`selected`)||e.setAttribute(`selected`,``):e.removeAttribute(`selected`)}function li(e,t,n,r){var i=fi(e);P&&(i[t]=e.getAttribute(t),t===`src`||t===`srcset`||t===`href`&&e.nodeName===`LINK`)||i[t]!==(i[t]=n)&&(t===`loading`&&(e[E]=n),n==null?e.removeAttribute(t):typeof n!=`string`&&mi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ui(e,t,n,r,i=!1,a=!1){if(P&&i&&e.tagName===`INPUT`){var o=e;(o.type===`checkbox`?`defaultChecked`:`defaultValue`)in n||oi(o)}var s=fi(e),c=s[ii],l=!s[ai];let u=P&&c;u&&ue(!1);var d=t||{},f=e.tagName===`OPTION`;for(var p in t)p in n||(n[p]=null);n.class?n.class=Ur(n.class):(r||n[ni])&&(n.class=null),n[ri]&&(n.style??=null);var m=mi(e);for(let i in n){let o=n[i];if(f&&i===`value`&&o==null){e.value=e.__value=``,d[i]=o;continue}if(i===`class`){var h=e.namespaceURI===`http://www.w3.org/1999/xhtml`;Yr(e,h,o,r,t?.[ni],n[ni]),d[i]=o,d[ni]=n[ni];continue}if(i===`style`){Zr(e,o,t?.[ri],n[ri]),d[i]=o,d[ri]=n[ri];continue}var g=d[i];if(o===g&&!(o===void 0&&e.hasAttribute(i)))continue;d[i]=o;var _=i[0]+i[1];if(_===`$$`)continue;if(_===`on`){let t={},n=`$$`+i,r=i.slice(2);var v=Qn(r);if(Xn(r)&&(r=r.slice(0,-7),t.capture=!0),!v&&g){if(o!=null)continue;e.removeEventListener(r,d[n],t),d[n]=null}if(o!=null)if(v)e[`__${r}`]=o,dr([r]);else{function a(e){d[i].call(this,e)}d[n]=cr(r,e,a,t)}else v&&(e[`__${r}`]=void 0)}else if(i===`style`)li(e,i,o);else if(i===`autofocus`)zt(e,!!o);else if(!c&&(i===`__value`||i===`value`&&o!=null))e.value=e.__value=o;else if(i===`selected`&&f)ci(e,o);else{var y=i;l||(y=tr(y));var b=y===`defaultValue`||y===`defaultChecked`;if(o==null&&!c&&!b)if(s[i]=null,y===`value`||y===`checked`){let n=e,r=t===void 0;if(y===`value`){let e=n.defaultValue;n.removeAttribute(y),n.defaultValue=e,n.value=n.__value=r?e:null}else{let e=n.defaultChecked;n.removeAttribute(y),n.defaultChecked=e,n.checked=r?e:!1}}else e.removeAttribute(i);else b||m.includes(y)&&(c||typeof o!=`string`)?(e[y]=o,y in s&&(s[y]=N)):typeof o!=`function`&&li(e,y,o,a)}}return u&&ue(!0),d}function di(e,t,n=[],r=[],i,a=!1,o=!1){lt(n,r,n=>{var r=void 0,s={},c=e.nodeName===`SELECT`,l=!1;if(rn(()=>{var u=t(...n.map(K)),d=ui(e,r,u,i,a,o);l&&c&&`value`in u&&Qr(e,u.value);for(let e of Object.getOwnPropertySymbols(s))u[e]||ln(s[e]);for(let t of Object.getOwnPropertySymbols(u)){var f=u[t];t.description===`@attach`&&(!r||f!==r[t])&&(s[t]&&ln(s[t]),s[t]=an(()=>Br(e,()=>f))),d[t]=f}r=d}),c){var u=e;en(()=>{Qr(u,r.value,!0),$r(u)})}l=!0})}function fi(e){return e.__attributes??={[ii]:e.nodeName.includes(`-`),[ai]:e.namespaceURI===`http://www.w3.org/1999/xhtml`}}var pi=new Map;function mi(e){var t=e.getAttribute(`is`)||e.nodeName,n=pi.get(t);if(n)return n;pi.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){for(var o in r=m(i),r)r[o].set&&n.push(o);i=_(i)}return n}function hi(e,t,n=t){var r=new WeakSet;Ut(e,`input`,async i=>{var a=i?e.defaultValue:e.value;if(a=_i(e)?vi(a):a,n(a),Ue!==null&&r.add(Ue),await Wn(),a!==(a=t())){var o=e.selectionStart,s=e.selectionEnd;e.value=a??``,s!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(s,e.value.length))}}),(P&&e.defaultValue!==e.value||Kn(t)==null&&e.value)&&(n(_i(e)?vi(e.value):e.value),Ue!==null&&r.add(Ue)),nn(()=>{var n=t();if(e===document.activeElement){var i=We??Ue;if(r.has(i))return}_i(e)&&n===vi(e.value)||e.type===`date`&&!n&&!e.value||n!==e.value&&(e.value=n??``)})}function gi(e,t,n=t){Ut(e,`change`,t=>{var r=t?e.defaultChecked:e.checked;n(r)}),(P&&e.defaultChecked!==e.checked||Kn(t)==null)&&n(e.checked),nn(()=>{e.checked=!!t()})}function _i(e){var t=e.type;return t===`number`||t===`range`}function vi(e){return e===``?null:+e}function yi(e,t){return e===t||e?.[w]===t}function bi(e={},t,n,r){return en(()=>{var i,a;return nn(()=>{i=a,a=r?.()||[],Kn(()=>{e!==n(...a)&&(t(e,...a),i&&yi(n(...i),e)&&t(null,...i))})}),()=>{Fe(()=>{a&&yi(n(...a),e)&&t(null,...a)})}}),e}function xi(e,t,n,r=n){t.addEventListener(`input`,()=>{r(t[e])}),nn(()=>{var i=n();if(t[e]!==i)if(i==null){var a=t[e];r(a)}else t[e]=i+``})}var Si=!1;function Ci(e){var t=Si;try{return Si=!1,[e(),Si]}finally{Si=t}}var wi={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ti(e,t,n){return new Proxy({props:e,exclude:t},wi)}var Ei={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(y(r)&&(r=r()),typeof r==`object`&&r&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];y(i)&&(i=i());let a=p(i,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(y(r)&&(r=r()),typeof r==`object`&&r&&t in r){let e=p(r,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===w||t===T)return!1;for(let n of e.props)if(y(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){let t=[];for(let n of e.props){if(y(n)&&(n=n()),!n)continue;for(let e in n)t.includes(e)||t.push(e);for(let e of Object.getOwnPropertySymbols(n))t.includes(e)||t.push(e)}return t}};function Di(...e){return new Proxy({props:e},Ei)}function Q(e,t,n,r){var i=!0,a=(n&8)!=0,o=(n&16)!=0,s=r,c=!0,l=()=>(c&&(c=!1,s=o?Kn(r):r),s),u;if(a){var d=w in e||T in e;u=p(e,t)?.set??(d&&t in e?n=>e[t]=n:void 0)}var f,m=!1;a?[f,m]=Ci(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=l(),u&&(i&&ne(t),u(f)));var h=i?()=>{var n=e[t];return n===void 0?l():(c=!0,n)}:()=>{var n=e[t];return n!==void 0&&(s=void 0),n===void 0?s:n};if(i&&!(n&4))return h;if(u){var g=e.$$legacy;return(function(e,t){return arguments.length>0?((!i||!t||g||m)&&u(t?h():e),e):h()})}var _=!1,v=(n&1?ft:mt)(()=>(_=!1,h()));a&&K(v);var y=wn;return(function(e,t){if(arguments.length>0){let n=t?K(v):i&&a?Et(e):e;return V(v,n),_=!0,s!==void 0&&(s=n),e}return yn&&_||y.f&16384?v.v:K(v)})}function Oi(e){be===null&&O(`onMount`),Yt(()=>{let t=Kn(e);if(typeof t==`function`)return t})}function ki(e){be===null&&O(`onDestroy`),Oi(()=>()=>Kn(e))}typeof window<`u`&&((window.__svelte??={}).v??=new Set).add(`5`);var Ai=/^[a-z0-9]+(-[a-z0-9]+)*$/,ji=(e,t,n,r=``)=>{let i=e.split(`:`);if(e.slice(0,1)===`@`){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){let e=i.pop(),n=i.pop(),a={provider:i.length>0?i[0]:r,prefix:n,name:e};return t&&!Mi(a)?null:a}let a=i[0],o=a.split(`-`);if(o.length>1){let e={provider:r,prefix:o.shift(),name:o.join(`-`)};return t&&!Mi(e)?null:e}if(n&&r===``){let e={provider:r,prefix:``,name:a};return t&&!Mi(e,n)?null:e}return null},Mi=(e,t)=>e?!!((t&&e.prefix===``||e.prefix)&&e.name):!1;function Ni(e,t){let n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function a(e){if(n[e])return i[e]=[];if(!(e in i)){i[e]=null;let t=r[e]&&r[e].parent,n=t&&a(t);n&&(i[e]=[t].concat(n))}return i[e]}return Object.keys(n).concat(Object.keys(r)).forEach(a),i}var Pi=Object.freeze({left:0,top:0,width:16,height:16}),Fi=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ii=Object.freeze({...Pi,...Fi}),Li=Object.freeze({...Ii,body:``,hidden:!1});function Ri(e,t){let n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);let r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function zi(e,t){let n=Ri(e,t);for(let r in Li)r in Fi?r in e&&!(r in n)&&(n[r]=Fi[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function Bi(e,t,n){let r=e.icons,i=e.aliases||Object.create(null),a={};function o(e){a=zi(r[e]||i[e],a)}return o(t),n.forEach(o),zi(e,a)}function Vi(e,t){let n=[];if(typeof e!=`object`||typeof e.icons!=`object`)return n;e.not_found instanceof Array&&e.not_found.forEach(e=>{t(e,null),n.push(e)});let r=Ni(e);for(let i in r){let a=r[i];a&&(t(i,Bi(e,i,a)),n.push(i))}return n}var Hi={provider:``,aliases:{},not_found:{},...Pi};function Ui(e,t){for(let n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Wi(e){if(typeof e!=`object`||!e)return null;let t=e;if(typeof t.prefix!=`string`||!e.icons||typeof e.icons!=`object`||!Ui(e,Hi))return null;let n=t.icons;for(let e in n){let t=n[e];if(!e||typeof t.body!=`string`||!Ui(t,Li))return null}let r=t.aliases||Object.create(null);for(let e in r){let t=r[e],i=t.parent;if(!e||typeof i!=`string`||!n[i]&&!r[i]||!Ui(t,Li))return null}return t}var Gi=Object.create(null);function Ki(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function qi(e,t){let n=Gi[e]||(Gi[e]=Object.create(null));return n[t]||(n[t]=Ki(e,t))}function Ji(e,t){return Wi(t)?Vi(t,(t,n)=>{n?e.icons[t]=n:e.missing.add(t)}):[]}function Yi(e,t,n){try{if(typeof n.body==`string`)return e.icons[t]={...n},!0}catch{}return!1}var Xi=!1;function Zi(e){return typeof e==`boolean`&&(Xi=e),Xi}function Qi(e){let t=typeof e==`string`?ji(e,!0,Xi):e;if(t){let e=qi(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function $i(e,t){let n=ji(e,!0,Xi);if(!n)return!1;let r=qi(n.provider,n.prefix);return t?Yi(r,n.name,t):(r.missing.add(n.name),!0)}function ea(e,t){if(typeof e!=`object`)return!1;if(typeof t!=`string`&&(t=e.provider||``),Xi&&!t&&!e.prefix){let t=!1;return Wi(e)&&(e.prefix=``,Vi(e,(e,n)=>{$i(e,n)&&(t=!0)})),t}let n=e.prefix;if(!Mi({prefix:n,name:`a`}))return!1;let r=qi(t,n);return!!Ji(r,e)}var ta=Object.freeze({width:null,height:null}),na=Object.freeze({...ta,...Fi}),ra=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ia=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function aa(e,t,n){if(t===1)return e;if(n||=100,typeof e==`number`)return Math.ceil(e*t*n)/n;if(typeof e!=`string`)return e;let r=e.split(ra);if(r===null||!r.length)return e;let i=[],a=r.shift(),o=ia.test(a);for(;;){if(o){let e=parseFloat(a);isNaN(e)?i.push(a):i.push(Math.ceil(e*t*n)/n)}else i.push(a);if(a=r.shift(),a===void 0)return i.join(``);o=!o}}function oa(e,t=`defs`){let n=``,r=e.indexOf(`<`+t);for(;r>=0;){let i=e.indexOf(`>`,r),a=e.indexOf(`</`+t);if(i===-1||a===-1)break;let o=e.indexOf(`>`,a);if(o===-1)break;n+=e.slice(i+1,a).trim(),e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}function sa(e,t){return e?`<defs>`+e+`</defs>`+t:t}function ca(e,t,n){let r=oa(e);return sa(r.defs,t+r.content+n)}var la=e=>e===`unset`||e===`undefined`||e===`none`;function ua(e,t){let n={...Ii,...e},r={...na,...t},i={left:n.left,top:n.top,width:n.width,height:n.height},a=n.body;[n,r].forEach(e=>{let t=[],n=e.hFlip,r=e.vFlip,o=e.rotate;n?r?o+=2:(t.push(`translate(`+(i.width+i.left).toString()+` `+(0-i.top).toString()+`)`),t.push(`scale(-1 1)`),i.top=i.left=0):r&&(t.push(`translate(`+(0-i.left).toString()+` `+(i.height+i.top).toString()+`)`),t.push(`scale(1 -1)`),i.top=i.left=0);let s;switch(o<0&&(o-=Math.floor(o/4)*4),o%=4,o){case 1:s=i.height/2+i.top,t.unshift(`rotate(90 `+s.toString()+` `+s.toString()+`)`);break;case 2:t.unshift(`rotate(180 `+(i.width/2+i.left).toString()+` `+(i.height/2+i.top).toString()+`)`);break;case 3:s=i.width/2+i.left,t.unshift(`rotate(-90 `+s.toString()+` `+s.toString()+`)`);break}o%2==1&&(i.left!==i.top&&(s=i.left,i.left=i.top,i.top=s),i.width!==i.height&&(s=i.width,i.width=i.height,i.height=s)),t.length&&(a=ca(a,`<g transform="`+t.join(` `)+`">`,`</g>`))});let o=r.width,s=r.height,c=i.width,l=i.height,u,d;o===null?(d=s===null?`1em`:s===`auto`?l:s,u=aa(d,c/l)):(u=o===`auto`?c:o,d=s===null?aa(u,l/c):s===`auto`?l:s);let f={},p=(e,t)=>{la(t)||(f[e]=t.toString())};p(`width`,u),p(`height`,d);let m=[i.left,i.top,c,l];return f.viewBox=m.join(` `),{attributes:f,viewBox:m,body:a}}var da=/\sid="(\S+)"/g,fa=`IconifyId`+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),pa=0;function ma(e,t=fa){let n=[],r;for(;r=da.exec(e);)n.push(r[1]);if(!n.length)return e;let i=`suffix`+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(n=>{let r=typeof t==`function`?t(n):t+(pa++).toString(),a=n.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`);e=e.replace(RegExp(`([#;"])(`+a+`)([")]|\\.[a-z])`,`g`),`$1`+r+i+`$3`)}),e=e.replace(new RegExp(i,`g`),``),e}var ha=Object.create(null);function ga(e,t){ha[e]=t}function _a(e){return ha[e]||ha[``]}function va(e){let t;if(typeof e.resources==`string`)t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||`/`,maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}for(var ya=Object.create(null),ba=[`https://api.simplesvg.com`,`https://api.unisvg.com`],xa=[];ba.length>0;)ba.length===1||Math.random()>.5?xa.push(ba.shift()):xa.push(ba.pop());ya[``]=va({resources:[`https://api.iconify.design`].concat(xa)});function Sa(e,t){let n=va(t);return n===null?!1:(ya[e]=n,!0)}function Ca(e){return ya[e]}var wa=(()=>{let e;try{if(e=fetch,typeof e==`function`)return e}catch{}})();function Ta(e,t){let n=Ca(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let e=0;n.resources.forEach(t=>{let n=t;e=Math.max(e,n.length)});let i=t+`.json?icons=`;r=n.maxURL-e-n.path.length-i.length}return r}function Ea(e){return e===404}var Da=(e,t,n)=>{let r=[],i=Ta(e,t),a=`icons`,o={type:a,provider:e,prefix:t,icons:[]},s=0;return n.forEach((n,c)=>{s+=n.length+1,s>=i&&c>0&&(r.push(o),o={type:a,provider:e,prefix:t,icons:[]},s=n.length),o.icons.push(n)}),r.push(o),r};function Oa(e){if(typeof e==`string`){let t=Ca(e);if(t)return t.path}return`/`}var ka={prepare:Da,send:(e,t,n)=>{if(!wa){n(`abort`,424);return}let r=Oa(t.provider);switch(t.type){case`icons`:{let e=t.prefix,n=t.icons.join(`,`),i=new URLSearchParams({icons:n});r+=e+`.json?`+i.toString();break}case`custom`:{let e=t.uri;r+=e.slice(0,1)===`/`?e.slice(1):e;break}default:n(`abort`,400);return}let i=503;wa(e+r).then(e=>{let t=e.status;if(t!==200){setTimeout(()=>{n(Ea(t)?`abort`:`next`,t)});return}return i=501,e.json()}).then(e=>{if(typeof e!=`object`||!e){setTimeout(()=>{e===404?n(`abort`,e):n(`next`,i)});return}setTimeout(()=>{n(`success`,e)})}).catch(()=>{n(`next`,i)})}};function Aa(e,t){e.forEach(e=>{let n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(e=>e.id!==t))})}function ja(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;let t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1,r=e.provider,i=e.prefix;t.forEach(t=>{let a=t.icons,o=a.pending.length;a.pending=a.pending.filter(t=>{if(t.prefix!==i)return!0;let o=t.name;if(e.icons[o])a.loaded.push({provider:r,prefix:i,name:o});else if(e.missing.has(o))a.missing.push({provider:r,prefix:i,name:o});else return n=!0,!0;return!1}),a.pending.length!==o&&(n||Aa([e],t.id),t.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),t.abort))})}))}var Ma=0;function Na(e,t,n){let r=Ma++,i=Aa.bind(null,n,r);if(!t.pending.length)return i;let a={id:r,icons:t,callback:e,abort:i};return n.forEach(e=>{(e.loaderCallbacks||=[]).push(a)}),i}function Pa(e){let t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((e,t)=>e.provider===t.provider?e.prefix===t.prefix?e.name.localeCompare(t.name):e.prefix.localeCompare(t.prefix):e.provider.localeCompare(t.provider));let r={provider:``,prefix:``,name:``};return e.forEach(e=>{if(r.name===e.name&&r.prefix===e.prefix&&r.provider===e.provider)return;r=e;let i=e.provider,a=e.prefix,o=e.name,s=n[i]||(n[i]=Object.create(null)),c=s[a]||(s[a]=qi(i,a)),l;l=o in c.icons?t.loaded:a===``||c.missing.has(o)?t.missing:t.pending;let u={provider:i,prefix:a,name:o};l.push(u)}),t}function Fa(e,t=!0,n=!1){let r=[];return e.forEach(e=>{let i=typeof e==`string`?ji(e,t,n):e;i&&r.push(i)}),r}var Ia={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function La(e,t,n,r){let i=e.resources.length,a=e.random?Math.floor(Math.random()*i):e.index,o;if(e.random){let t=e.resources.slice(0);for(o=[];t.length>1;){let e=Math.floor(Math.random()*t.length);o.push(t[e]),t=t.slice(0,e).concat(t.slice(e+1))}o=o.concat(t)}else o=e.resources.slice(a).concat(e.resources.slice(0,a));let s=Date.now(),c=`pending`,l=0,u,d=null,f=[],p=[];typeof r==`function`&&p.push(r);function m(){d&&=(clearTimeout(d),null)}function h(){c===`pending`&&(c=`aborted`),m(),f.forEach(e=>{e.status===`pending`&&(e.status=`aborted`)}),f=[]}function g(e,t){t&&(p=[]),typeof e==`function`&&p.push(e)}function _(){return{startTime:s,payload:t,status:c,queriesSent:l,queriesPending:f.length,subscribe:g,abort:h}}function v(){c=`failed`,p.forEach(e=>{e(void 0,u)})}function y(){f.forEach(e=>{e.status===`pending`&&(e.status=`aborted`)}),f=[]}function b(t,n,r){let i=n!==`success`;switch(f=f.filter(e=>e!==t),c){case`pending`:break;case`failed`:if(i||!e.dataAfterTimeout)return;break;default:return}if(n===`abort`){u=r,v();return}if(i){u=r,f.length||(o.length?x():v());return}if(m(),y(),!e.random){let n=e.resources.indexOf(t.resource);n!==-1&&n!==e.index&&(e.index=n)}c=`completed`,p.forEach(e=>{e(r)})}function x(){if(c!==`pending`)return;m();let r=o.shift();if(r===void 0){if(f.length){d=setTimeout(()=>{m(),c===`pending`&&(y(),v())},e.timeout);return}v();return}let i={status:`pending`,resource:r,callback:(e,t)=>{b(i,e,t)}};f.push(i),l++,d=setTimeout(x,e.rotate),n(r,t,i.callback)}return setTimeout(x),_}function Ra(e){let t={...Ia,...e},n=[];function r(){n=n.filter(e=>e().status===`pending`)}function i(e,i,a){let o=La(t,e,i,(e,t)=>{r(),a&&a(e,t)});return n.push(o),o}function a(e){return n.find(t=>e(t))||null}return{query:i,find:a,setIndex:e=>{t.index=e},getIndex:()=>t.index,cleanup:r}}function za(){}var Ba=Object.create(null);function Va(e){if(!Ba[e]){let t=Ca(e);if(!t)return;let n=Ra(t);Ba[e]={config:t,redundancy:n}}return Ba[e]}function Ha(e,t,n){let r,i;if(typeof e==`string`){let t=_a(e);if(!t)return n(void 0,424),za;i=t.send;let a=Va(e);a&&(r=a.redundancy)}else{let t=va(e);if(t){r=Ra(t);let n=e.resources?e.resources[0]:``,a=_a(n);a&&(i=a.send)}}return!r||!i?(n(void 0,424),za):r.query(t,i,n)().abort}function Ua(){}function Wa(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,ja(e)}))}function Ga(e){let t=[],n=[];return e.forEach(e=>{(e.match(Ai)?t:n).push(e)}),{valid:t,invalid:n}}function Ka(e,t,n){function r(){let n=e.pendingIcons;t.forEach(t=>{n&&n.delete(t),e.icons[t]||e.missing.add(t)})}if(n&&typeof n==`object`)try{if(!Ji(e,n).length){r();return}}catch(e){console.error(e)}r(),Wa(e)}function qa(e,t){e instanceof Promise?e.then(e=>{t(e)}).catch(()=>{t(null)}):t(e)}function Ja(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;let{provider:t,prefix:n}=e,r=e.iconsToLoad;if(delete e.iconsToLoad,!r||!r.length)return;let i=e.loadIcon;if(e.loadIcons&&(r.length>1||!i)){qa(e.loadIcons(r,n,t),t=>{Ka(e,r,t)});return}if(i){r.forEach(r=>{let a=i(r,n,t);qa(a,t=>{Ka(e,[r],t?{prefix:n,icons:{[r]:t}}:null)})});return}let{valid:a,invalid:o}=Ga(r);if(o.length&&Ka(e,o,null),!a.length)return;let s=n.match(Ai)?_a(t):null;if(!s){Ka(e,a,null);return}s.prepare(t,n,a).forEach(n=>{Ha(t,n,t=>{Ka(e,n.icons,t)})})}))}var Ya=(e,t)=>{let n=Fa(e,!0,Zi()),r=Pa(n);if(!r.pending.length){let e=!0;return t&&setTimeout(()=>{e&&t(r.loaded,r.missing,r.pending,Ua)}),()=>{e=!1}}let i=Object.create(null),a=[],o,s;return r.pending.forEach(e=>{let{provider:t,prefix:n}=e;if(n===s&&t===o)return;o=t,s=n,a.push(qi(t,n));let r=i[t]||(i[t]=Object.create(null));r[n]||(r[n]=[])}),r.pending.forEach(e=>{let{provider:t,prefix:n,name:r}=e,a=qi(t,n),o=a.pendingIcons||=new Set;o.has(r)||(o.add(r),i[t][n].push(r))}),a.forEach(e=>{let t=i[e.provider][e.prefix];t.length&&Ja(e,t)}),t?Na(t,r,a):Ua};function Xa(e,t){let n={...e};for(let e in t){let r=t[e],i=typeof r;e in ta?(r===null||r&&(i===`string`||i===`number`))&&(n[e]=r):i===typeof n[e]&&(n[e]=e===`rotate`?r%4:r)}return n}var Za=/[\s,]+/;function Qa(e,t){t.split(Za).forEach(t=>{switch(t.trim()){case`horizontal`:e.hFlip=!0;break;case`vertical`:e.vFlip=!0;break}})}function $a(e,t=0){let n=e.replace(/^-?[0-9.]*/,``);function r(e){for(;e<0;)e+=4;return e%4}if(n===``){let t=parseInt(e);return isNaN(t)?0:r(t)}else if(n!==e){let t=0;switch(n){case`%`:t=25;break;case`deg`:t=90}if(t){let i=parseFloat(e.slice(0,e.length-n.length));return isNaN(i)?0:(i/=t,i%1==0?r(i):0)}}return t}function eo(e,t){let n=e.indexOf(`xlink:`)===-1?``:` xmlns:xlink="http://www.w3.org/1999/xlink"`;for(let e in t)n+=` `+e+`="`+t[e]+`"`;return`<svg xmlns="http://www.w3.org/2000/svg"`+n+`>`+e+`</svg>`}function to(e){return e.replace(/"/g,`'`).replace(/%/g,`%25`).replace(/#/g,`%23`).replace(/</g,`%3C`).replace(/>/g,`%3E`).replace(/\s+/g,` `)}function no(e){return`data:image/svg+xml,`+to(e)}function ro(e){return`url("`+no(e)+`")`}var io={...na,inline:!1},ao={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,"aria-hidden":!0,role:`img`},oo={display:`inline-block`},so={"background-color":`currentColor`},co={"background-color":`transparent`},lo={image:`var(--svg)`,repeat:`no-repeat`,size:`100% 100%`},uo={"-webkit-mask":so,mask:so,background:co};for(let e in uo){let t=uo[e];for(let n in lo)t[e+`-`+n]=lo[n]}function fo(e){return e+(e.match(/^[-0-9.]+$/)?`px`:``)}function po(e,t){let n=Xa(io,t),r=t.mode||`svg`,i=r===`svg`?{...ao}:{};e.body.indexOf(`xlink:`)===-1&&delete i[`xmlns:xlink`];let a=typeof t.style==`string`?t.style:``;for(let e in t){let r=t[e];if(r===void 0)continue;switch(e){case`icon`:case`style`:case`onLoad`:case`mode`:case`ssr`:break;case`inline`:case`hFlip`:case`vFlip`:n[e]=r===!0||r===`true`||r===1;break;case`flip`:typeof r==`string`&&Qa(n,r);break;case`color`:a=a+(a.length>0&&a.trim().slice(-1)!==`;`?`;`:``)+`color: `+r+`; `;break;case`rotate`:typeof r==`string`?n[e]=$a(r):typeof r==`number`&&(n[e]=r);break;case`ariaHidden`:case`aria-hidden`:r!==!0&&r!==`true`&&delete i[`aria-hidden`];break;default:if(e.slice(0,3)===`on:`)break;io[e]===void 0&&(i[e]=r)}}let o=ua(e,n),s=o.attributes;if(n.inline&&(a=`vertical-align: -0.125em; `+a),r===`svg`){Object.assign(i,s),a!==``&&(i.style=a);let e=0,n=t.id;return typeof n==`string`&&(n=n.replace(/-/g,`_`)),{svg:!0,attributes:i,body:ma(o.body,n?()=>n+`ID`+ e++:`iconifySvelte`)}}let{body:c,width:l,height:u}=e,d=r===`mask`||(r===`bg`?!1:c.indexOf(`currentColor`)!==-1),f=eo(c,{...s,width:l+``,height:u+``}),p=ro(f),m={"--svg":p},h=e=>{let t=s[e];t&&(m[e]=fo(t))};h(`width`),h(`height`),Object.assign(m,oo,d?so:co);let g=``;for(let e in m)g+=e+`: `+m[e]+`;`;return i.style=g+a,{svg:!1,attributes:i}}if(Zi(!0),ga(``,ka),typeof document<`u`&&typeof window<`u`){let e=window;if(e.IconifyPreload!==void 0){let t=e.IconifyPreload,n=`Invalid IconifyPreload syntax.`;typeof t==`object`&&t&&(t instanceof Array?t:[t]).forEach(e=>{try{(typeof e!=`object`||!e||e instanceof Array||typeof e.icons!=`object`||typeof e.prefix!=`string`||!ea(e))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){let t=e.IconifyProviders;if(typeof t==`object`&&t)for(let e in t){let n=`IconifyProviders[`+e+`] is invalid.`;try{let r=t[e];if(typeof r!=`object`||!r||r.resources===void 0)continue;Sa(e,r)||console.error(n)}catch{console.error(n)}}}}function mo(e,t,n,r,i){function a(){t.loading&&=(t.loading.abort(),null)}if(typeof e==`object`&&e&&typeof e.body==`string`)return t.name=``,a(),{data:{...Ii,...e}};let o;if(typeof e!=`string`||(o=ji(e,!1,!0))===null)return a(),null;let s=Qi(o);if(!s)return n&&(!t.loading||t.loading.name!==e)&&(a(),t.name=``,t.loading={name:e,abort:Ya([o],r)}),null;a(),t.name!==e&&(t.name=e,i&&!t.destroyed&&setTimeout(()=>{i(e)}));let c=[`iconify`];return o.prefix!==``&&c.push(`iconify--`+o.prefix),o.provider!==``&&c.push(`iconify--`+o.provider),{data:s,classes:c}}function ho(e,t){return e?po({...Ii,...e},t):null}var go=_r(`<svg><!></svg>`),_o=q(`<span></span>`);function vo(e,t){L(t,!0);let n={name:``,loading:null,destroyed:!1},r=Ti(t,[`$$slots`,`$$events`,`$$legacy`]),i=B(!1),a=B(0),o=z(()=>!!t.ssr||K(i)),s=z(()=>(K(a),mo(t.icon,n,K(o),l,t.onload))),c=z(()=>{let e=K(s)?ho(K(s).data,r):null;return e&&K(s).classes&&(e.attributes.class=(typeof r.class==`string`?r.class+` `:``)+K(s).classes.join(` `)),e});function l(){Ct(a)}Oi(()=>{V(i,!0)}),ki(()=>{n.destroyed=!0,n.loading&&=(n.loading.abort(),null)});var u=J(),d=U(u),f=e=>{var t=J(),n=U(t),r=e=>{var t=go();di(t,()=>({...K(c).attributes}));var n=H(t);Lr(n,()=>K(c).body,!0),I(t),Y(e,t)},i=e=>{var t=_o();di(t,()=>({...K(c).attributes})),Y(e,t)};X(n,e=>{K(c).svg?e(r):e(i,!1)}),Y(e,t)};X(d,e=>{K(c)&&e(f)}),Y(e,u),R()}function yo(e){return typeof e==`function`}function bo(e){return typeof e==`object`&&!!e}var xo=[`string`,`number`,`bigint`,`boolean`];function So(e){return e==null||xo.includes(typeof e)?!0:Array.isArray(e)?e.every(e=>So(e)):typeof e==`object`?Object.getPrototypeOf(e)===Object.prototype:!1}let Co=Symbol(`box`),wo=Symbol(`is-writable`);function $(e,t){let n=z(e);return t?{[Co]:!0,[wo]:!0,get current(){return K(n)},set current(e){t(e)}}:{[Co]:!0,get current(){return e()}}}function To(e){return bo(e)&&Co in e}function Eo(e){return To(e)&&wo in e}function Do(e){return To(e)?e:yo(e)?$(e):Ao(e)}function Oo(e){return Object.entries(e).reduce((e,[t,n])=>To(n)?(Eo(n)?Object.defineProperty(e,t,{get(){return n.current},set(e){n.current=e}}):Object.defineProperty(e,t,{get(){return n.current}}),e):Object.assign(e,{[t]:n}),{})}function ko(e){return Eo(e)?{[Co]:!0,get current(){return e.current}}:e}function Ao(e){let t=B(Et(e));return{[Co]:!0,[wo]:!0,get current(){return K(t)},set current(e){V(t,e,!0)}}}function jo(e){let t=B(Et(e));return{[Co]:!0,[wo]:!0,get current(){return K(t)},set current(e){V(t,e,!0)}}}jo.from=Do,jo.with=$,jo.flatten=Oo,jo.readonly=ko,jo.isBox=To,jo.isWritableBox=Eo;function Mo(...e){return function(t){for(let n of e){if(!n)continue;if(t.defaultPrevented)return;typeof n==`function`?n.call(this,t):n.current?.call(this,t)}}}var No=o(((exports,t)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d=`/`,f=`*`,p=``,m=`comment`,h=`declaration`;t.exports=function(e,t){if(typeof e!=`string`)throw TypeError(`First argument must be a string`);if(!e)return[];t||={};var l=1,_=1;function v(e){var t=e.match(r);t&&(l+=t.length);var n=e.lastIndexOf(u);_=~n?e.length-n:_+e.length}function y(){var e={line:l,column:_};return function(t){return t.position=new b(e),w(),t}}function b(e){this.start=e,this.end={line:l,column:_},this.source=t.source}b.prototype.content=e;var x=[];function S(n){var r=Error(t.source+`:`+l+`:`+_+`: `+n);if(r.reason=n,r.filename=t.source,r.line=l,r.column=_,r.source=e,t.silent)x.push(r);else throw r}function C(t){var n=t.exec(e);if(n){var r=n[0];return v(r),e=e.slice(r.length),n}}function w(){C(i)}function T(e){var t;for(e||=[];t=E();)t!==!1&&e.push(t);return e}function E(){var t=y();if(!(d!=e.charAt(0)||f!=e.charAt(1))){for(var n=2;p!=e.charAt(n)&&(f!=e.charAt(n)||d!=e.charAt(n+1));)++n;if(n+=2,p===e.charAt(n-1))return S(`End of comment missing`);var r=e.slice(2,n-2);return _+=2,v(r),e=e.slice(n),_+=2,t({type:m,comment:r})}}function D(){var e=y(),t=C(a);if(t){if(E(),!C(o))return S(`property missing ':'`);var r=C(s),i=e({type:h,property:g(t[0].replace(n,p)),value:r?g(r[0].replace(n,p)):p});return C(c),i}}function O(){var e=[];T(e);for(var t;t=D();)t!==!1&&(e.push(t),T(e));return e}return w(),O()};function g(e){return e?e.replace(l,p):p}})),Po=c(o((exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0}),exports.default=r;var n=t(No());function r(e,t){var r=null;if(!e||typeof e!=`string`)return r;var i=(0,n.default)(e),a=typeof t==`function`;return i.forEach(function(e){if(e.type===`declaration`){var n=e.property,i=e.value;a?t(n,i,e):i&&(r||={},r[n]=i)}}),r}}))(),1),Fo=Po.default.default||Po.default,Io=/\d/,Lo=[`-`,`_`,`/`,`.`];function Ro(e=``){if(!Io.test(e))return e!==e.toLowerCase()}function zo(e){let t=[],n=``,r,i;for(let a of e){let e=Lo.includes(a);if(e===!0){t.push(n),n=``,r=void 0;continue}let o=Ro(a);if(i===!1){if(r===!1&&o===!0){t.push(n),n=a,r=o;continue}if(r===!0&&o===!1&&n.length>1){let e=n.at(-1);t.push(n.slice(0,Math.max(0,n.length-1))),n=e+a,r=o;continue}}n+=a,r=o,i=e}return t.push(n),t}function Bo(e){return e?zo(e).map(e=>Ho(e)).join(``):``}function Vo(e){return Uo(Bo(e||``))}function Ho(e){return e?e[0].toUpperCase()+e.slice(1):``}function Uo(e){return e?e[0].toLowerCase()+e.slice(1):``}function Wo(e){if(!e)return{};let t={};function n(e,n){if(e.startsWith(`-moz-`)||e.startsWith(`-webkit-`)||e.startsWith(`-ms-`)||e.startsWith(`-o-`)){t[Bo(e)]=n;return}if(e.startsWith(`--`)){t[e]=n;return}t[Vo(e)]=n}return Fo(e,n),t}function Go(...e){return(...t)=>{for(let n of e)typeof n==`function`&&n(...t)}}function Ko(e,t){let n=RegExp(e,`g`);return e=>{if(typeof e!=`string`)throw TypeError(`expected an argument of type string, but got ${typeof e}`);return e.match(n)?e.replace(n,t):e}}var qo=Ko(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Jo(e){if(!e||typeof e!=`object`||Array.isArray(e))throw TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(t=>`${qo(t)}: ${e[t]};`).join(`
`)}function Yo(e={}){return Jo(e).replace(`
`,` `)}var Xo=`onabort.onanimationcancel.onanimationend.onanimationiteration.onanimationstart.onauxclick.onbeforeinput.onbeforetoggle.onblur.oncancel.oncanplay.oncanplaythrough.onchange.onclick.onclose.oncompositionend.oncompositionstart.oncompositionupdate.oncontextlost.oncontextmenu.oncontextrestored.oncopy.oncuechange.oncut.ondblclick.ondrag.ondragend.ondragenter.ondragleave.ondragover.ondragstart.ondrop.ondurationchange.onemptied.onended.onerror.onfocus.onfocusin.onfocusout.onformdata.ongotpointercapture.oninput.oninvalid.onkeydown.onkeypress.onkeyup.onload.onloadeddata.onloadedmetadata.onloadstart.onlostpointercapture.onmousedown.onmouseenter.onmouseleave.onmousemove.onmouseout.onmouseover.onmouseup.onpaste.onpause.onplay.onplaying.onpointercancel.onpointerdown.onpointerenter.onpointerleave.onpointermove.onpointerout.onpointerover.onpointerup.onprogress.onratechange.onreset.onresize.onscroll.onscrollend.onsecuritypolicyviolation.onseeked.onseeking.onselect.onselectionchange.onselectstart.onslotchange.onstalled.onsubmit.onsuspend.ontimeupdate.ontoggle.ontouchcancel.ontouchend.ontouchmove.ontouchstart.ontransitioncancel.ontransitionend.ontransitionrun.ontransitionstart.onvolumechange.onwaiting.onwebkitanimationend.onwebkitanimationiteration.onwebkitanimationstart.onwebkittransitionend.onwheel`.split(`.`);let Zo=new Set(Xo);function Qo(e){return Zo.has(e)}function $o(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];if(r){for(let e of Object.keys(r)){let n=t[e],i=r[e],a=typeof n==`function`,o=typeof i==`function`;if(a&&typeof o&&Qo(e))t[e]=Mo(n,i);else if(a&&o)t[e]=Go(n,i);else if(e===`class`){let r=So(n),a=So(i);r&&a?t[e]=Hr(n,i):r?t[e]=Hr(n):a&&(t[e]=Hr(i))}else if(e===`style`){let r=typeof n==`object`,a=typeof i==`object`,o=typeof n==`string`,s=typeof i==`string`;if(r&&a)t[e]={...n,...i};else if(r&&s){let r=Wo(i);t[e]={...n,...r}}else if(o&&a)t[e]={...Wo(n),...i};else if(o&&s){let r=Wo(n),a=Wo(i);t[e]={...r,...a}}else r?t[e]=n:a?t[e]=i:o?t[e]=n:s&&(t[e]=i)}else t[e]=i===void 0?n:i}for(let e of Object.getOwnPropertySymbols(r)){let n=t[e],i=r[e];t[e]=i===void 0?n:i}}}return typeof t.style==`object`&&(t.style=Yo(t.style).replaceAll(`
`,` `)),t.hidden===!1&&(t.hidden=void 0,delete t.hidden),t.disabled===!1&&(t.disabled=void 0,delete t.disabled),t}var es=[`forEach`,`isDisjointFrom`,`isSubsetOf`,`isSupersetOf`],ts=[`difference`,`intersection`,`symmetricDifference`,`union`],ns=!1,rs=class e extends Set{#sources=new Map;#version=B(0);#size=B(0);#update_version=Pn||-1;constructor(e){if(super(),e){for(var t of e)super.add(t);this.#size.v=super.size}ns||this.#init()}#source(e){return Pn===this.#update_version?B(e):bt(e)}#init(){ns=!0;var t=e.prototype,n=Set.prototype;for(let e of es)t[e]=function(...t){return K(this.#version),n[e].apply(this,t)};for(let r of ts)t[r]=function(...t){K(this.#version);var i=n[r].apply(this,t);return new e(i)}}has(e){var t=super.has(e),n=this.#sources,r=n.get(e);if(r===void 0){if(!t)return K(this.#version),!1;r=this.#source(!0),n.set(e,r)}return K(r),t}add(e){return super.has(e)||(super.add(e),V(this.#size,super.size),wt(this.#version)),this}delete(e){var t=super.delete(e),n=this.#sources,r=n.get(e);return r!==void 0&&(n.delete(e),V(r,!1)),t&&(V(this.#size,super.size),wt(this.#version)),t}clear(){if(super.size!==0){super.clear();var e=this.#sources;for(var t of e.values())V(t,!1);e.clear(),V(this.#size,0),wt(this.#version)}}keys(){return this.values()}values(){return K(this.#version),super.values()}entries(){return K(this.#version),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return K(this.#size)}},os=class extends Map{#sources=new Map;#version=B(0);#size=B(0);#update_version=Pn||-1;constructor(e){if(super(),e){for(var[t,n]of e)super.set(t,n);this.#size.v=super.size}}#source(e){return Pn===this.#update_version?B(e):bt(e)}has(e){var t=this.#sources,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#source(0),t.set(e,n);else return K(this.#version),!1;return K(n),!0}forEach(e,t){this.#read_all(),super.forEach(e,t)}get(e){var t=this.#sources,n=t.get(e);if(n===void 0)if(super.get(e)!==void 0)n=this.#source(0),t.set(e,n);else{K(this.#version);return}return K(n),super.get(e)}set(e,t){var n=this.#sources,r=n.get(e),i=super.get(e),a=super.set(e,t),o=this.#version;if(r===void 0)r=this.#source(0),n.set(e,r),V(this.#size,super.size),wt(o);else if(i!==t){wt(r);var s=o.reactions===null?null:new Set(o.reactions);(s===null||!r.reactions?.every(e=>s.has(e)))&&wt(o)}return a}delete(e){var t=this.#sources,n=t.get(e),r=super.delete(e);return n!==void 0&&(t.delete(e),V(this.#size,super.size),V(n,-1),wt(this.#version)),r}clear(){if(super.size!==0){super.clear();var e=this.#sources;V(this.#size,0);for(var t of e.values())V(t,-1);wt(this.#version),e.clear()}}#read_all(){K(this.#version);var e=this.#sources;if(this.#size.v!==e.size){for(var t of super.keys())if(!e.has(t)){var n=this.#source(0);e.set(t,n)}}for([,n]of this.#sources)K(n)}keys(){return K(this.#version),super.keys()}values(){return this.#read_all(),super.values()}entries(){return this.#read_all(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return K(this.#size),super.size}};URLSearchParams,Symbol.iterator;function ss(e){Yt(()=>()=>{e()})}function cs(e){Yt(()=>Kn(()=>e()))}function ls(e,t){return setTimeout(t,e)}function us(e){Wn().then(e)}var ds=1,fs=9,ps=11;function ms(e){return bo(e)&&e.nodeType===ds&&typeof e.nodeName==`string`}function hs(e){return bo(e)&&e.nodeType===fs}function gs(e){return bo(e)&&e.constructor?.name===`VisualViewport`}function _s(e){return bo(e)&&e.nodeType!==void 0}function vs(e){return _s(e)&&e.nodeType===ps&&`host`in e}function ys(e,t){if(!e||!t||!ms(e)||!ms(t))return!1;let n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&vs(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function bs(e){return hs(e)?e:gs(e)?e.document:e?.ownerDocument??document}function xs(e){return vs(e)?xs(e.host):hs(e)?e.defaultView??window:ms(e)?e.ownerDocument?.defaultView??window:window}function Ss(e){let t=e.activeElement;for(;t?.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var Cs=class{element;#root=z(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return K(this.#root)}set root(e){V(this.#root,e)}constructor(e){typeof e==`function`?this.element=$(e):this.element=e}getDocument=()=>bs(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>Ss(this.root);isActiveElement=e=>e===this.getActiveElement();getElementById(e){return this.root.getElementById(e)}querySelector=e=>this.root?this.root.querySelector(e):null;querySelectorAll=e=>this.root?this.root.querySelectorAll(e):[];setTimeout=(e,t)=>this.getWindow().setTimeout(e,t);clearTimeout=e=>this.getWindow().clearTimeout(e)};function ws(e,t){return{[Yn()]:n=>To(e)?(e.current=n,Kn(()=>t?.(n)),()=>{`isConnected`in n&&n.isConnected||(e.current=null,t?.(null))}):(e(n),Kn(()=>t?.(n)),()=>{`isConnected`in n&&n.isConnected||(e(null),t?.(null))})}}let Ts=typeof window<`u`?window:void 0;typeof window<`u`&&window.document,typeof window<`u`&&window.navigator,typeof window<`u`&&window.location;function Es(e){let t=e.activeElement;for(;t?.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}new class{#document;#subscribe;constructor(e={}){let{window:t=Ts,document:n=t?.document}=e;t!==void 0&&(this.#document=n,this.#subscribe=it(e=>{let n=lr(t,`focusin`,e),r=lr(t,`focusout`,e);return()=>{n(),r()}}))}get current(){return this.#subscribe?.(),this.#document?Es(this.#document):null}};function Ds(e){return typeof e==`function`}var Os=class{#name;#key;constructor(e){this.#name=e,this.#key=Symbol(e)}get key(){return this.#key}exists(){return we(this.#key)}get(){let e=Se(this.#key);if(e===void 0)throw Error(`Context "${this.#name}" not found`);return e}getOr(e){let t=Se(this.#key);return t===void 0?e:t}set(e){return Ce(this.#key,e)}};function ks(e,t){switch(e){case`post`:Yt(t);break;case`pre`:Zt(t);break}}function As(e,t,n,r={}){let{lazy:i=!1}=r,a=!i,o=Array.isArray(e)?[]:void 0;ks(t,()=>{let t=Array.isArray(e)?e.map(e=>e()):e();if(!a){a=!0,o=t;return}let r=Kn(()=>n(t,o));return o=t,r})}function js(e,t,n){let r=Qt(()=>{let i=!1;As(e,t,(e,t)=>{if(i){r();return}let a=n(e,t);return i=!0,a},{lazy:!0})});Yt(()=>r)}function Ms(e,t,n){As(e,`post`,t,n)}function Ns(e,t,n){As(e,`pre`,t,n)}Ms.pre=Ns;function Ps(e,t){js(e,`post`,t)}function Fs(e,t){js(e,`pre`,t)}Ps.pre=Fs;function Is(e){return Ds(e)?e():e}var Ls=class{#size={width:0,height:0};#observed=!1;#options;#node;#window;#width=z(()=>(K(this.#subscribe)?.(),this.getSize().width));#height=z(()=>(K(this.#subscribe)?.(),this.getSize().height));#subscribe=z(()=>{let e=Is(this.#node);if(e)return it(t=>{if(!this.#window)return;let n=new this.#window.ResizeObserver(e=>{this.#observed=!0;for(let t of e){let e=this.#options.box===`content-box`?t.contentBoxSize:t.borderBoxSize,n=Array.isArray(e)?e:[e];this.#size.width=n.reduce((e,t)=>Math.max(e,t.inlineSize),0),this.#size.height=n.reduce((e,t)=>Math.max(e,t.blockSize),0)}t()});return n.observe(e),()=>{this.#observed=!1,n.disconnect()}})});constructor(e,t={box:`border-box`}){this.#window=t.window??Ts,this.#options=t,this.#node=e,this.#size={width:0,height:0}}calculateSize(){let e=Is(this.#node);if(!e||!this.#window)return;let t=e.offsetWidth,n=e.offsetHeight;if(this.#options.box===`border-box`)return{width:t,height:n};let r=this.#window.getComputedStyle(e),i=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),a=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),o=parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),s=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),c=t-i-o,l=n-a-s;return{width:c,height:l}}getSize(){return this.#observed?this.#size:this.calculateSize()??this.#size}get current(){return K(this.#subscribe)?.(),this.getSize()}get width(){return K(this.#width)}get height(){return K(this.#height)}},Rs=class{#previous=B(void 0);constructor(e,t){t!==void 0&&V(this.#previous,t,!0),Ms(()=>e(),(e,t)=>{V(this.#previous,t,!0)})}get current(){return K(this.#previous)}};function zs(e,t){let n,r=null;return(...i)=>new Promise(a=>{r&&r(void 0),r=a,clearTimeout(n),n=setTimeout(async()=>{let t=await e(...i);r&&=(r(t),null)},t)})}function Bs(e,t){let n=0,r=null;return(...i)=>{let a=Date.now();return n&&a-n<t?r??Promise.resolve(void 0):(n=a,r=e(...i),r)}}function Vs(e,t,n={},r){let{lazy:i=!1,once:a=!1,initialValue:o,debounce:s,throttle:c}=n,l=B(Et(o)),u=B(!1),d=B(void 0),f=B(Et([])),p=()=>{K(f).forEach(e=>e()),V(f,[],!0)},m=e=>{V(f,[...K(f),e],!0)},h=async(e,n,r=!1)=>{try{V(u,!0),V(d,void 0),p();let i=new AbortController;m(()=>i.abort());let a=await t(e,n,{data:K(l),refetching:r,onCleanup:m,signal:i.signal});return V(l,a,!0),a}catch(e){e instanceof DOMException&&e.name===`AbortError`||V(d,e,!0);return}finally{V(u,!1)}},g=s?zs(h,s):c?Bs(h,c):h,_=Array.isArray(e)?e:[e],v;return r((t,n)=>{a&&v||(v=t,g(Array.isArray(e)?t:t[0],Array.isArray(e)?n:n?.[0]))},{lazy:i}),{get current(){return K(l)},get loading(){return K(u)},get error(){return K(d)},mutate:e=>{V(l,e,!0)},refetch:t=>{let n=_.map(e=>e());return g(Array.isArray(e)?n:n[0],Array.isArray(e)?n:n[0],t??!0)}}}function Hs(e,t,n){return Vs(e,t,n,(t,n)=>{let r=Array.isArray(e)?e:[e];Ms(()=>r.map(e=>e()),(e,n)=>{t(e,n??[])},n)})}function Us(e,t,n){return Vs(e,t,n,(t,n)=>{let r=Array.isArray(e)?e:[e];Ms.pre(()=>r.map(e=>e()),(e,n)=>{t(e,n??[])},n)})}Hs.pre=Us;function Ws(e){return e?`true`:`false`}function Gs(e){return e?``:void 0}function Ks(e){return e?!0:void 0}function qs(e){return e?`open`:`closed`}function Js(e,t){return t?`mixed`:e?`true`:`false`}var Ys=class{#variant;#prefix;attrs;constructor(e){this.#variant=e.getVariant?e.getVariant():null,this.#prefix=this.#variant?`data-${this.#variant}-`:`data-${e.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(e.parts.map(e=>[e,this.getAttr(e)]))}getAttr(e,t){return t?`data-${t}-${e}`:`${this.#prefix}${e}`}selector(e,t){return`[${this.getAttr(e,t)}]`}};function Xs(e){let t=new Ys(e);return{...t.attrs,selector:t.selector,getAttr:t.getAttr}}function Zs(e){return window.getComputedStyle(e).getPropertyValue(`direction`)}let Qs=[`ArrowDown`,`PageUp`,`Home`],$s=[`ArrowUp`,`PageDown`,`End`];[...Qs,...$s];function ec(e=`ltr`,t=`horizontal`){return{horizontal:e===`rtl`?`ArrowLeft`:`ArrowRight`,vertical:`ArrowDown`}[t]}function tc(e=`ltr`,t=`horizontal`){return{horizontal:e===`rtl`?`ArrowRight`:`ArrowLeft`,vertical:`ArrowUp`}[t]}function nc(e=`ltr`,t=`horizontal`){return[`ltr`,`rtl`].includes(e)||(e=`ltr`),[`horizontal`,`vertical`].includes(t)||(t=`horizontal`),{nextKey:ec(e,t),prevKey:tc(e,t)}}let rc=typeof document<`u`,ic=ac();function ac(){return rc&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function oc(e){return e instanceof HTMLElement}function sc(e){return e instanceof Element}function cc(e){return e.matches(`:focus-visible`)}function lc(e){return e!==null}var uc=class{#opts;#currentTabStopId=jo(null);constructor(e){this.#opts=e}getCandidateNodes(){return this.#opts.rootNode.current?this.#opts.candidateSelector?Array.from(this.#opts.rootNode.current.querySelectorAll(this.#opts.candidateSelector)):this.#opts.candidateAttr?Array.from(this.#opts.rootNode.current.querySelectorAll(`[${this.#opts.candidateAttr}]:not([data-disabled])`)):[]:[]}focusFirstCandidate(){let e=this.getCandidateNodes();e.length&&e[0]?.focus()}handleKeydown(e,t,n=!1){let r=this.#opts.rootNode.current;if(!r||!e)return;let i=this.getCandidateNodes();if(!i.length)return;let a=i.indexOf(e),o=Zs(r),{nextKey:s,prevKey:c}=nc(o,this.#opts.orientation.current),l=this.#opts.loop.current,u={[s]:a+1,[c]:a-1,Home:0,End:i.length-1};if(n){let e=s===`ArrowDown`?`ArrowRight`:`ArrowDown`,t=c===`ArrowUp`?`ArrowLeft`:`ArrowUp`;u[e]=a+1,u[t]=a-1}let d=u[t.key];if(d===void 0)return;t.preventDefault(),d<0&&l?d=i.length-1:d===i.length&&l&&(d=0);let f=i[d];if(f)return f.focus(),this.#currentTabStopId.current=f.id,this.#opts.onCandidateFocus?.(f),f}getTabIndex(e){let t=this.getCandidateNodes(),n=this.#currentTabStopId.current!==null;return e&&!n&&t[0]===e?(this.#currentTabStopId.current=e.id,0):e?.id===this.#currentTabStopId.current?0:-1}setCurrentTabStopId(e){this.#currentTabStopId.current=e}focusCurrentTabStop(){let e=this.#currentTabStopId.current;if(!e)return;let t=this.#opts.rootNode.current?.querySelector(`#${e}`);!t||!oc(t)||t.focus()}};function dc(){}function fc(e,t){return t===void 0?`bits-${e}`:`bits-${e}-${t}`}var pc=class{state;#machine;constructor(e,t){this.state=Ao(e),this.#machine=t,this.dispatch=this.dispatch.bind(this)}#reducer(e){return this.#machine[this.state.current][e]??this.state.current}dispatch(e){this.state.current=this.#reducer(e)}},mc={mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}},hc=class{opts;#prevAnimationNameState=B(`none`);get prevAnimationNameState(){return K(this.#prevAnimationNameState)}set prevAnimationNameState(e){V(this.#prevAnimationNameState,e,!0)}#styles=B(Et({}));get styles(){return K(this.#styles)}set styles(e){V(this.#styles,e,!0)}initialStatus;previousPresent;machine;present;constructor(e){this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?`mounted`:`unmounted`,this.previousPresent=new Rs(()=>this.present.current),this.machine=new pc(this.initialStatus,mc),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),gc(this),_c(this),vc(this)}handleAnimationEnd(e){if(!this.opts.ref.current)return;let t=yc(this.opts.ref.current),n=t.includes(e.animationName)||t===`none`;e.target===this.opts.ref.current&&n&&this.machine.dispatch(`ANIMATION_END`)}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=yc(this.opts.ref.current))}#isPresent=z(()=>[`mounted`,`unmountSuspended`].includes(this.machine.state.current));get isPresent(){return K(this.#isPresent)}set isPresent(e){V(this.#isPresent,e)}};function gc(e){Ms(()=>e.present.current,()=>{if(!e.opts.ref.current||e.present.current===e.previousPresent.current)return;let t=e.prevAnimationNameState,n=yc(e.opts.ref.current);if(e.present.current)e.machine.dispatch(`MOUNT`);else if(n===`none`||e.styles.display===`none`)e.machine.dispatch(`UNMOUNT`);else{let r=t!==n;e.previousPresent.current&&r?e.machine.dispatch(`ANIMATION_OUT`):e.machine.dispatch(`UNMOUNT`)}})}function _c(e){Ms(()=>e.machine.state.current,()=>{if(!e.opts.ref.current)return;let t=yc(e.opts.ref.current);e.prevAnimationNameState=e.machine.state.current===`mounted`?t:`none`})}function vc(e){Ms(()=>e.opts.ref.current,()=>{if(e.opts.ref.current)return e.styles=getComputedStyle(e.opts.ref.current),Go(lr(e.opts.ref.current,`animationstart`,e.handleAnimationStart),lr(e.opts.ref.current,`animationcancel`,e.handleAnimationEnd),lr(e.opts.ref.current,`animationend`,e.handleAnimationEnd))})}function yc(e){return e&&getComputedStyle(e).animationName||`none`}function bc(e,t){L(t,!0);let n=new hc({open:$(()=>t.open),ref:t.ref});var r=J(),i=U(r),a=e=>{var r=J(),i=U(r);Z(i,()=>t.presence??b,()=>({present:n.isPresent})),Y(e,r)};X(i,e=>{(t.forceMount||t.open||n.isPresent)&&e(a)}),Y(e,r),R()}var xc=class{#opts;#currentFrame=void 0;#isRunning=!1;constructor(e){this.#opts=e,ss(()=>this.#cleanup())}#cleanup(){this.#currentFrame&&=(window.cancelAnimationFrame(this.#currentFrame),void 0),this.#isRunning=!1}run(e){if(this.#isRunning)return;this.#cleanup(),this.#isRunning=!0;let t=this.#opts.ref.current;if(!t){this.#isRunning=!1;return}if(typeof t.getAnimations!=`function`){this.#executeCallback(e);return}this.#currentFrame=window.requestAnimationFrame(()=>{let n=t.getAnimations();if(n.length===0){this.#executeCallback(e);return}Promise.allSettled(n.map(e=>e.finished)).then(()=>{this.#executeCallback(e)})})}#executeCallback(e){let t=()=>{e(),this.#isRunning=!1};this.#opts.afterTick?us(t):t()}},Sc=class{#opts;#enabled;#afterAnimations;constructor(e){this.#opts=e,this.#enabled=e.enabled??!0,this.#afterAnimations=new xc({ref:this.#opts.ref,afterTick:this.#opts.open}),Ms([()=>this.#opts.open.current],([e])=>{this.#enabled&&this.#afterAnimations.run(()=>{e===this.#opts.open.current&&this.#opts.onComplete()})})}},Cc=Xs({component:`dialog`,parts:[`content`,`trigger`,`overlay`,`title`,`description`,`close`,`cancel`,`action`]}),wc=new Os(`Dialog.Root | AlertDialog.Root`),Tc=class e{static create(t){return wc.set(new e(t))}opts;#triggerNode=B(null);get triggerNode(){return K(this.#triggerNode)}set triggerNode(e){V(this.#triggerNode,e,!0)}#contentNode=B(null);get contentNode(){return K(this.#contentNode)}set contentNode(e){V(this.#contentNode,e,!0)}#descriptionNode=B(null);get descriptionNode(){return K(this.#descriptionNode)}set descriptionNode(e){V(this.#descriptionNode,e,!0)}#contentId=B(void 0);get contentId(){return K(this.#contentId)}set contentId(e){V(this.#contentId,e,!0)}#titleId=B(void 0);get titleId(){return K(this.#titleId)}set titleId(e){V(this.#titleId,e,!0)}#triggerId=B(void 0);get triggerId(){return K(this.#triggerId)}set triggerId(e){V(this.#triggerId,e,!0)}#descriptionId=B(void 0);get descriptionId(){return K(this.#descriptionId)}set descriptionId(e){V(this.#descriptionId,e,!0)}#cancelNode=B(null);get cancelNode(){return K(this.#cancelNode)}set cancelNode(e){V(this.#cancelNode,e,!0)}constructor(e){this.opts=e,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new Sc({ref:$(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=e=>Cc.getAttr(e,this.opts.variant.current);#sharedProps=z(()=>({"data-state":qs(this.opts.open.current)}));get sharedProps(){return K(this.#sharedProps)}set sharedProps(e){V(this.#sharedProps,e)}},Ec=class e{static create(t){return new e(t,wc.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===` `||e.key===`Enter`)&&(e.preventDefault(),this.root.handleClose())}#props=z(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:``,onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Dc=class e{static create(t){return new e(t,wc.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.root.titleId=this.opts.id.current,this.attachment=ws(this.opts.ref),Ms.pre(()=>this.opts.id.current,e=>{this.root.titleId=e})}#props=z(()=>({id:this.opts.id.current,role:`heading`,"aria-level":this.opts.level.current,[this.root.getBitsAttr(`title`)]:``,...this.root.sharedProps,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Oc=class e{static create(t){return new e(t,wc.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref,e=>{this.root.contentNode=e,this.root.contentId=e?.id})}#snippetProps=z(()=>({open:this.root.opts.open.current}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({id:this.opts.id.current,role:this.root.opts.variant.current===`alert-dialog`?`alertdialog`:`dialog`,"aria-modal":`true`,"aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr(`content`)]:``,style:{pointerEvents:`auto`,outline:this.root.opts.variant.current===`alert-dialog`?`none`:void 0},tabindex:this.root.opts.variant.current===`alert-dialog`?-1:void 0,...this.root.sharedProps,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},kc=class e{static create(t){return new e(t,wc.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref)}#snippetProps=z(()=>({open:this.root.opts.open.current}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({id:this.opts.id.current,[this.root.getBitsAttr(`overlay`)]:``,style:{pointerEvents:`auto`},...this.root.sharedProps,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Ac=q(`<div><!></div>`);function jc(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`level`,3,2),o=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`ref`,`child`,`children`,`level`]),s=Dc.create({id:$(()=>r()),level:$(()=>a()),ref:$(()=>i(),e=>i(e))}),c=z(()=>$o(o,s.props));var l=J(),u=U(l),d=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(c)})),Y(e,n)},f=e=>{var n=Ac();di(n,()=>({...K(c)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(u,e=>{t.child?e(d):e(f,!1)}),Y(e,l),R()}function Mc(e,t){var n=J(),r=U(n);Er(r,()=>t.children,e=>{var n=J(),r=U(n);Z(r,()=>t.children??b),Y(e,n)}),Y(e,n)}let Nc=new Os(`BitsConfig`);function Pc(){let e=new Fc(null,{});return Nc.getOr(e).opts}var Fc=class{opts;constructor(e,t){let n=Ic(e,t);this.opts={defaultPortalTo:n(e=>e.defaultPortalTo),defaultLocale:n(e=>e.defaultLocale)}}};function Ic(e,t){return n=>$(()=>{let r=n(t)?.current;if(r!==void 0)return r;if(e!==null)return n(e.opts)?.current})}function Lc(e,t){return n=>{let r=Pc();return $(()=>{let i=n();if(i!==void 0)return i;let a=e(r).current;return a===void 0?t:a})}}let Rc=Lc(e=>e.defaultPortalTo,`body`);function zc(e,t){L(t,!0);let n=Rc(()=>t.to),r=Te(),i=z(a);function a(){if(!rc||t.disabled)return null;let e=null;return e=typeof n.current==`string`?document.querySelector(n.current):n.current,e}let o;function s(){o&&=(Tr(o),null)}Ms([()=>K(i),()=>t.disabled],([e,n])=>{if(!e||n){s();return}return o=xr(Mc,{target:e,props:{children:t.children},context:r}),()=>{s()}});var c=J(),l=U(c),u=e=>{var n=J(),r=U(n);Z(r,()=>t.children??b),Y(e,n)};X(l,e=>{t.disabled&&e(u)}),Y(e,c),R()}function Bc(e,t=500){let n=null,r=(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function Vc(e,t){return e===t||e.contains(t)}function Hc(e){return e?.ownerDocument??document}function Uc(e,t){let{clientX:n,clientY:r}=e,i=t.getBoundingClientRect();return n<i.left||n>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??=new Map;var Wc=class e{static create(t){return new e(t)}opts;#interactOutsideProp;#behaviorType;#interceptedEvents={pointerdown:!1};#isResponsibleLayer=!1;#isFocusInsideDOMTree=!1;#documentObj=void 0;#onFocusOutside;#unsubClickListener=dc;constructor(e){this.opts=e,this.#behaviorType=e.interactOutsideBehavior,this.#interactOutsideProp=e.onInteractOutside,this.#onFocusOutside=e.onFocusOutside,Yt(()=>{this.#documentObj=Hc(this.opts.ref.current)});let t=dc,n=()=>{this.#resetState(),globalThis.bitsDismissableLayers.delete(this),this.#handleInteractOutside.destroy(),t()};Ms([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return ls(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#behaviorType),t(),t=this.#addEventListeners())}),n}),ss(()=>{this.#resetState.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#handleInteractOutside.destroy(),this.#unsubClickListener(),t()})}#handleFocus=e=>{e.defaultPrevented||this.opts.ref.current&&us(()=>{!this.opts.ref.current||this.#isTargetWithinLayer(e.target)||e.target&&!this.#isFocusInsideDOMTree&&this.#onFocusOutside.current?.(e)})};#addEventListeners(){return Go(lr(this.#documentObj,`pointerdown`,Go(this.#markInterceptedEvent,this.#markResponsibleLayer),{capture:!0}),lr(this.#documentObj,`pointerdown`,Go(this.#markNonInterceptedEvent,this.#handleInteractOutside)),lr(this.#documentObj,`focusin`,this.#handleFocus))}#handleDismiss=e=>{let t=e;t.defaultPrevented&&(t=Jc(e)),this.#interactOutsideProp.current(e)};#handleInteractOutside=Bc(e=>{if(!this.opts.ref.current){this.#unsubClickListener();return}let t=this.opts.isValidEvent.current(e,this.opts.ref.current)||qc(e,this.opts.ref.current);if(!this.#isResponsibleLayer||this.#isAnyEventIntercepted()||!t){this.#unsubClickListener();return}let n=e;if(n.defaultPrevented&&(n=Jc(n)),this.#behaviorType.current!==`close`&&this.#behaviorType.current!==`defer-otherwise-close`){this.#unsubClickListener();return}e.pointerType===`touch`?(this.#unsubClickListener(),this.#unsubClickListener=lr(this.#documentObj,`click`,this.#handleDismiss,{once:!0})):this.#interactOutsideProp.current(n)},10);#markInterceptedEvent=e=>{this.#interceptedEvents[e.type]=!0};#markNonInterceptedEvent=e=>{this.#interceptedEvents[e.type]=!1};#markResponsibleLayer=()=>{this.opts.ref.current&&(this.#isResponsibleLayer=Kc(this.opts.ref.current))};#isTargetWithinLayer=e=>this.opts.ref.current?Vc(this.opts.ref.current,e):!1;#resetState=Bc(()=>{for(let e in this.#interceptedEvents)this.#interceptedEvents[e]=!1;this.#isResponsibleLayer=!1},20);#isAnyEventIntercepted(){return Object.values(this.#interceptedEvents).some(Boolean)}#onfocuscapture=()=>{this.#isFocusInsideDOMTree=!0};#onblurcapture=()=>{this.#isFocusInsideDOMTree=!1};props={onfocuscapture:this.#onfocuscapture,onblurcapture:this.#onblurcapture}};function Gc(e=[...globalThis.bitsDismissableLayers]){return e.findLast(([e,{current:t}])=>t===`close`||t===`ignore`)}function Kc(e){let t=[...globalThis.bitsDismissableLayers],n=Gc(t);if(n)return n[0].opts.ref.current===e;let[r]=t[0];return r.opts.ref.current===e}function qc(e,t){if(`button`in e&&e.button>0)return!1;let n=e.target;return sc(n)?Hc(n).documentElement.contains(n)&&!Vc(t,n)&&Uc(e,t):!1}function Jc(e){let t=e.currentTarget,n=e.target,r;r=e instanceof PointerEvent?new PointerEvent(e.type,e):new PointerEvent(`pointerdown`,e);let i=!1;return new Proxy(r,{get:(r,a)=>a===`currentTarget`?t:a===`target`?n:a===`preventDefault`?()=>{i=!0,typeof r.preventDefault==`function`&&r.preventDefault()}:a===`defaultPrevented`?i:a in r?r[a]:e[a]})}function Yc(e,t){L(t,!0);let n=Q(t,`interactOutsideBehavior`,3,`close`),r=Q(t,`onInteractOutside`,3,dc),i=Q(t,`onFocusOutside`,3,dc),a=Q(t,`isValidEvent`,3,()=>!1),o=Wc.create({id:$(()=>t.id),interactOutsideBehavior:$(()=>n()),onInteractOutside:$(()=>r()),enabled:$(()=>t.enabled),onFocusOutside:$(()=>i()),isValidEvent:$(()=>a()),ref:t.ref});var s=J(),c=U(s);Z(c,()=>t.children??b,()=>({props:o.props})),Y(e,s),R()}globalThis.bitsEscapeLayers??=new Map;var Xc=class e{static create(t){return new e(t)}opts;domContext;constructor(e){this.opts=e,this.domContext=new Cs(this.opts.ref);let t=dc;Ms(()=>e.enabled.current,n=>(n&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=this.#addEventListener()),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}#addEventListener=()=>lr(this.domContext.getDocument(),`keydown`,this.#onkeydown,{passive:!1});#onkeydown=e=>{if(e.key!==`Escape`||!Zc(this))return;let t=new KeyboardEvent(e.type,e);e.preventDefault();let n=this.opts.escapeKeydownBehavior.current;n!==`close`&&n!==`defer-otherwise-close`||this.opts.onEscapeKeydown.current(t)}};function Zc(e){let t=[...globalThis.bitsEscapeLayers],n=t.findLast(([e,{current:t}])=>t===`close`||t===`ignore`);if(n)return n[0]===e;let[r]=t[0];return r===e}function Qc(e,t){L(t,!0);let n=Q(t,`escapeKeydownBehavior`,3,`close`),r=Q(t,`onEscapeKeydown`,3,dc);Xc.create({escapeKeydownBehavior:$(()=>n()),onEscapeKeydown:$(()=>r()),enabled:$(()=>t.enabled),ref:t.ref});var i=J(),a=U(i);Z(a,()=>t.children??b),Y(e,i),R()}var $c=class e{static instance;#scopeStack=Ao([]);#focusHistory=new WeakMap;#preFocusHistory=new WeakMap;static getInstance(){return this.instance||=new e,this.instance}register(e){let t=this.getActive();t&&t!==e&&t.pause();let n=document.activeElement;n&&n!==document.body&&this.#preFocusHistory.set(e,n),this.#scopeStack.current=this.#scopeStack.current.filter(t=>t!==e),this.#scopeStack.current.unshift(e)}unregister(e){this.#scopeStack.current=this.#scopeStack.current.filter(t=>t!==e);let t=this.getActive();t&&t.resume()}getActive(){return this.#scopeStack.current[0]}setFocusMemory(e,t){this.#focusHistory.set(e,t)}getFocusMemory(e){return this.#focusHistory.get(e)}isActiveScope(e){return this.getActive()===e}setPreFocusMemory(e,t){this.#preFocusHistory.set(e,t)}getPreFocusMemory(e){return this.#preFocusHistory.get(e)}clearPreFocusMemory(e){this.#preFocusHistory.delete(e)}},el=[`input:not([inert])`,`select:not([inert])`,`textarea:not([inert])`,`a[href]:not([inert])`,`button:not([inert])`,`[tabindex]:not(slot):not([inert])`,`audio[controls]:not([inert])`,`video[controls]:not([inert])`,`[contenteditable]:not([contenteditable="false"]):not([inert])`,`details>summary:first-of-type:not([inert])`,`details:not([inert])`],tl=el.join(`,`),nl=typeof Element>`u`,rl=nl?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,il=!nl&&Element.prototype.getRootNode?function(e){return e?.getRootNode?.call(e)}:function(e){return e?.ownerDocument},al=function e(t,n){n===void 0&&(n=!0);var r=t?.getAttribute?.call(t,`inert`);return r===``||r===`true`||n&&t&&e(t.parentNode)},ol=function(e){var t=e?.getAttribute?.call(e,`contenteditable`);return t===``||t===`true`},sl=function(e,t,n){if(al(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(tl));return t&&rl.call(e,tl)&&r.unshift(e),r=r.filter(n),r},cl=function e(t,n,r){for(var i=[],a=Array.from(t);a.length;){var o=a.shift();if(!al(o,!1))if(o.tagName===`SLOT`){var s=o.assignedElements(),c=s.length?s:o.children,l=e(c,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:o,candidates:l})}else{rl.call(o,tl)&&r.filter(o)&&(n||!t.includes(o))&&i.push(o);var u=o.shadowRoot||typeof r.getShadowRoot==`function`&&r.getShadowRoot(o),d=!al(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(u&&d){var f=e(u===!0?o.children:u.children,!0,r);r.flatten?i.push.apply(i,f):i.push({scopeParent:o,candidates:f})}else a.unshift.apply(a,o.children)}}return i},ll=function(e){return!isNaN(parseInt(e.getAttribute(`tabindex`),10))},ul=function(e){if(!e)throw Error(`No node provided`);return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ol(e))&&!ll(e)?0:e.tabIndex},dl=function(e,t){var n=ul(e);return n<0&&t&&!ll(e)?0:n},fl=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},pl=function(e){return e.tagName===`INPUT`},ml=function(e){return pl(e)&&e.type===`hidden`},hl=function(e){return e.tagName===`DETAILS`&&Array.prototype.slice.apply(e.children).some(function(e){return e.tagName===`SUMMARY`})},gl=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},_l=function(e){if(!e.name)return!0;var t=e.form||il(e),n=function(e){return t.querySelectorAll(`input[type="radio"][name="`+e+`"]`)},r;if(typeof window<`u`&&window.CSS!==void 0&&typeof window.CSS.escape==`function`)r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(e){return console.error(`Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s`,e.message),!1}var i=gl(r,e.form);return!i||i===e},vl=function(e){return pl(e)&&e.type===`radio`},yl=function(e){return vl(e)&&!_l(e)},bl=function(e){var t=e&&il(e),n=t?.host,r=!1;if(t&&t!==e){var i,a,o;for(r=!!((i=n)!=null&&(a=i.ownerDocument)!=null&&a.contains(n)||e!=null&&(o=e.ownerDocument)!=null&&o.contains(e));!r&&n;){var s,c;t=il(n),n=t?.host,r=!!((s=n)!=null&&(c=s.ownerDocument)!=null&&c.contains(n))}}return r},xl=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n===0&&r===0},Sl=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility===`hidden`)return!0;var i=rl.call(e,`details>summary:first-of-type`)?e.parentElement:e;if(rl.call(i,`details:not([open]) *`))return!0;if(!n||n===`full`||n===`legacy-full`){if(typeof r==`function`){for(var a=e;e;){var o=e.parentElement,s=il(e);if(o&&!o.shadowRoot&&r(o)===!0)return xl(e);e=e.assignedSlot?e.assignedSlot:!o&&s!==e.ownerDocument?s.host:o}e=a}if(bl(e))return!e.getClientRects().length;if(n!==`legacy-full`)return!0}else if(n===`non-zero-area`)return xl(e);return!1},Cl=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName===`FIELDSET`&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if(r.tagName===`LEGEND`)return rl.call(t,`fieldset[disabled] *`)?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},wl=function(e,t){return!(t.disabled||al(t)||ml(t)||Sl(t,e)||hl(t)||Cl(t))},Tl=function(e,t){return!(yl(t)||ul(t)<0||!wl(e,t))},El=function(e){var t=parseInt(e.getAttribute(`tabindex`),10);return!!(isNaN(t)||t>=0)},Dl=function e(t){var n=[],r=[];return t.forEach(function(t,i){var a=!!t.scopeParent,o=a?t.scopeParent:t,s=dl(o,a),c=a?e(t.candidates):o;s===0?a?n.push.apply(n,c):n.push(o):r.push({documentOrder:i,tabIndex:s,item:t,isScope:a,content:c})}),r.sort(fl).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},Ol=function(e,t){t||={};var n=t.getShadowRoot?cl([e],t.includeContainer,{filter:Tl.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:El}):sl(e,t.includeContainer,Tl.bind(null,t));return Dl(n)},kl=function(e,t){return t||={},t.getShadowRoot?cl([e],t.includeContainer,{filter:wl.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):sl(e,t.includeContainer,wl.bind(null,t))},Al=el.concat(`iframe`).join(`,`),jl=function(e,t){if(t||={},!e)throw Error(`No node provided`);return rl.call(e,Al)===!1?!1:wl(t,e)},Ml=class e{#paused=!1;#container=null;#manager=$c.getInstance();#cleanupFns=[];#opts;constructor(e){this.#opts=e}get paused(){return this.#paused}pause(){this.#paused=!0}resume(){this.#paused=!1}#cleanup(){for(let e of this.#cleanupFns)e();this.#cleanupFns=[]}mount(e){this.#container&&this.unmount(),this.#container=e,this.#manager.register(this),this.#setupEventListeners(),this.#handleOpenAutoFocus()}unmount(){this.#container&&=(this.#cleanup(),this.#handleCloseAutoFocus(),this.#manager.unregister(this),this.#manager.clearPreFocusMemory(this),null)}#handleOpenAutoFocus(){if(!this.#container)return;let e=new CustomEvent(`focusScope.onOpenAutoFocus`,{bubbles:!1,cancelable:!0});this.#opts.onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!this.#container)return;let e=this.#getFirstTabbable();e?(e.focus(),this.#manager.setFocusMemory(this,e)):this.#container.focus()})}#handleCloseAutoFocus(){let e=new CustomEvent(`focusScope.onCloseAutoFocus`,{bubbles:!1,cancelable:!0});if(this.#opts.onCloseAutoFocus.current?.(e),!e.defaultPrevented){let e=this.#manager.getPreFocusMemory(this);if(e&&document.contains(e))try{e.focus()}catch{document.body.focus()}}}#setupEventListeners(){if(!this.#container||!this.#opts.trap.current)return;let e=this.#container,t=e.ownerDocument;this.#cleanupFns.push(lr(t,`focusin`,t=>{if(this.#paused||!this.#manager.isActiveScope(this))return;let n=t.target;if(n)if(e.contains(n))this.#manager.setFocusMemory(this,n);else{let n=this.#manager.getFocusMemory(this);if(n&&e.contains(n)&&jl(n))t.preventDefault(),n.focus();else{let t=this.#getFirstTabbable(),n=this.#getAllFocusables()[0];(t||n||e).focus()}}},{capture:!0}),lr(e,`keydown`,e=>{if(!this.#opts.loop||this.#paused||e.key!==`Tab`||!this.#manager.isActiveScope(this))return;let n=this.#getTabbables();if(n.length<2)return;let r=n[0],i=n[n.length-1];!e.shiftKey&&t.activeElement===i?(e.preventDefault(),r.focus()):e.shiftKey&&t.activeElement===r&&(e.preventDefault(),i.focus())}));let n=new MutationObserver(()=>{let t=this.#manager.getFocusMemory(this);if(t&&!e.contains(t)){let t=this.#getFirstTabbable(),n=this.#getAllFocusables()[0],r=t||n;r?(r.focus(),this.#manager.setFocusMemory(this,r)):e.focus()}});n.observe(e,{childList:!0,subtree:!0}),this.#cleanupFns.push(()=>n.disconnect())}#getTabbables(){return this.#container?Ol(this.#container,{includeContainer:!1,getShadowRoot:!0}):[]}#getFirstTabbable(){return this.#getTabbables()[0]||null}#getAllFocusables(){return this.#container?kl(this.#container,{includeContainer:!1,getShadowRoot:!0}):[]}static use(t){let n=null;return Ms([()=>t.ref.current,()=>t.enabled.current],([r,i])=>{r&&i?(n||=new e(t),n.mount(r)):n&&=(n.unmount(),null)}),ss(()=>{n?.unmount()}),{get props(){return{tabindex:-1}}}}};function Nl(e,t){L(t,!0);let n=Q(t,`enabled`,3,!1),r=Q(t,`trapFocus`,3,!1),i=Q(t,`loop`,3,!1),a=Q(t,`onCloseAutoFocus`,3,dc),o=Q(t,`onOpenAutoFocus`,3,dc),s=Ml.use({enabled:$(()=>n()),trap:$(()=>r()),loop:i(),onCloseAutoFocus:$(()=>a()),onOpenAutoFocus:$(()=>o()),ref:t.ref});var c=J(),l=U(c);Z(l,()=>t.focusScope??b,()=>({props:s.props})),Y(e,c),R()}globalThis.bitsTextSelectionLayers??=new Map;var Pl=class e{static create(t){return new e(t)}opts;domContext;#unsubSelectionLock=dc;constructor(e){this.opts=e,this.domContext=new Cs(e.ref);let t=dc;Ms(()=>this.opts.enabled.current,e=>(e&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=this.#addEventListeners()),()=>{t(),this.#resetSelectionLock(),globalThis.bitsTextSelectionLayers.delete(this)}))}#addEventListeners(){return Go(lr(this.domContext.getDocument(),`pointerdown`,this.#pointerdown),lr(this.domContext.getDocument(),`pointerup`,Mo(this.#resetSelectionLock,this.opts.onPointerUp.current)))}#pointerdown=e=>{let t=this.opts.ref.current,n=e.target;!oc(t)||!oc(n)||!this.opts.enabled.current||!Rl(this)||!ys(t,n)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#unsubSelectionLock=Il(t,this.domContext.getDocument().body)))};#resetSelectionLock=()=>{this.#unsubSelectionLock(),this.#unsubSelectionLock=dc}},Fl=e=>e.style.userSelect||e.style.webkitUserSelect;function Il(e,t){let n=Fl(t),r=Fl(e);return Ll(t,`none`),Ll(e,`text`),()=>{Ll(t,n),Ll(e,r)}}function Ll(e,t){e.style.userSelect=t,e.style.webkitUserSelect=t}function Rl(e){let t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;let n=t.at(-1);return n?n[0]===e:!1}function zl(e,t){L(t,!0);let n=Q(t,`preventOverflowTextSelection`,3,!0),r=Q(t,`onPointerDown`,3,dc),i=Q(t,`onPointerUp`,3,dc);Pl.create({id:$(()=>t.id),onPointerDown:$(()=>r()),onPointerUp:$(()=>i()),enabled:$(()=>t.enabled&&n()),ref:t.ref});var a=J(),o=U(a);Z(o,()=>t.children??b),Y(e,a),R()}globalThis.bitsIdCounter??={current:0};function Bl(e=`bits`){return globalThis.bitsIdCounter.current++,`${e}-${globalThis.bitsIdCounter.current}`}var Vl=class{#factory;#subscribers=0;#state=B();#scope;constructor(e){this.#factory=e}#dispose(){--this.#subscribers,this.#scope&&this.#subscribers<=0&&(this.#scope(),V(this.#state,void 0),this.#scope=void 0)}get(...e){return this.#subscribers+=1,K(this.#state)===void 0&&(this.#scope=Qt(()=>{V(this.#state,this.#factory(...e),!0)})),Yt(()=>()=>{this.#dispose()}),K(this.#state)}},Hl=new os,Ul=B(null),Wl=null,Gl=null,Kl=!1,ql=$(()=>{for(let e of Hl.values())if(e)return!0;return!1}),Jl=null,Yl=new Vl(()=>{function e(){document.body.setAttribute(`style`,K(Ul)??``),document.body.style.removeProperty(`--scrollbar-width`),ic&&Wl?.(),V(Ul,null)}function t(){Gl!==null&&(window.clearTimeout(Gl),Gl=null)}function n(e,n){t(),Kl=!0,Jl=Date.now();let r=Jl,i=()=>{Gl=null,Jl===r&&(Zl(Hl)?Kl=!1:(Kl=!1,n()))},a=e===null?24:e;Gl=window.setTimeout(i,a)}function r(){K(Ul)===null&&Hl.size===0&&!Kl&&V(Ul,document.body.getAttribute(`style`),!0)}return Ms(()=>ql.current,()=>{if(!ql.current)return;r(),Kl=!1;let e=getComputedStyle(document.body),t=window.innerWidth-document.documentElement.clientWidth,n={padding:Number.parseInt(e.paddingRight??`0`,10)+t,margin:Number.parseInt(e.marginRight??`0`,10)};t>0&&(document.body.style.paddingRight=`${n.padding}px`,document.body.style.marginRight=`${n.margin}px`,document.body.style.setProperty(`--scrollbar-width`,`${t}px`),document.body.style.overflow=`hidden`),ic&&(Wl=lr(document,`touchmove`,e=>{e.target===document.documentElement&&(e.touches.length>1||e.preventDefault())},{passive:!1})),us(()=>{document.body.style.pointerEvents=`none`,document.body.style.overflow=`hidden`})}),ss(()=>()=>{Wl?.()}),{get lockMap(){return Hl},resetBodyStyle:e,scheduleCleanupIfNoNewLocks:n,cancelPendingCleanup:t,ensureInitialStyleCaptured:r}}),Xl=class{#id=Bl();#initialState;#restoreScrollDelay=()=>null;#countState;locked;constructor(e,t=()=>null){this.#initialState=e,this.#restoreScrollDelay=t,this.#countState=Yl.get(),this.#countState&&(this.#countState.cancelPendingCleanup(),this.#countState.ensureInitialStyleCaptured(),this.#countState.lockMap.set(this.#id,this.#initialState??!1),this.locked=$(()=>this.#countState.lockMap.get(this.#id)??!1,e=>this.#countState.lockMap.set(this.#id,e)),ss(()=>{if(this.#countState.lockMap.delete(this.#id),Zl(this.#countState.lockMap))return;let e=this.#restoreScrollDelay();this.#countState.scheduleCleanupIfNoNewLocks(e,()=>{this.#countState.resetBodyStyle()})}))}};function Zl(e){for(let[t,n]of e)if(n)return!0;return!1}function Ql(e,t){L(t,!0);let n=Q(t,`preventScroll`,3,!0),r=Q(t,`restoreScrollDelay`,3,null);n()&&new Xl(n(),()=>r()),R()}function $l({forceMount:e,present:t,open:n}){return(e||t)&&n}var eu=q(`<div><!></div>`);function tu(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`forceMount`,3,!1),a=Q(t,`ref`,15,null),o=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`forceMount`,`child`,`children`,`ref`]),s=kc.create({id:$(()=>r()),ref:$(()=>a(),e=>a(e))}),c=z(()=>$o(o,s.props));{let n=e=>{var n=J(),r=U(n),i=e=>{var n=J(),r=U(n);{let e=z(()=>({props:$o(K(c)),...s.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},a=e=>{var n=eu();di(n,e=>({...e}),[()=>$o(K(c))]);var r=H(n);Z(r,()=>t.children??b,()=>s.snippetProps),I(n),Y(e,n)};X(r,e=>{t.child?e(i):e(a,!1)}),Y(e,n)},r=z(()=>s.root.opts.open.current||i());bc(e,{get open(){return K(r)},get ref(){return s.opts.ref},presence:n,$$slots:{presence:!0}})}R()}function nu(e,t){L(t,!0);let n=Q(t,`disabled`,3,!1),r=Q(t,`ref`,15,null),i=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`href`,`type`,`children`,`disabled`,`ref`]);var a=J(),o=U(a);zr(o,()=>t.href?`a`:`button`,!1,(e,a)=>{bi(e,e=>r(e),()=>r()),di(e,()=>({"data-button-root":!0,type:t.href?void 0:t.type,href:t.href&&!n()?t.href:void 0,disabled:t.href?void 0:n(),"aria-disabled":t.href?n():void 0,role:t.href&&n()?`link`:void 0,tabindex:t.href&&n()?-1:0,...i}));var o=J(),s=U(o);Z(s,()=>t.children??b),Y(a,o)}),Y(e,a),R()}var ru=[`top`,`right`,`bottom`,`left`],iu=Math.min,au=Math.max,ou=Math.round,su=Math.floor,cu=e=>({x:e,y:e}),lu={left:`right`,right:`left`,bottom:`top`,top:`bottom`},uu={start:`end`,end:`start`};function du(e,t,n){return au(e,iu(t,n))}function fu(e,t){return typeof e==`function`?e(t):e}function pu(e){return e.split(`-`)[0]}function mu(e){return e.split(`-`)[1]}function hu(e){return e===`x`?`y`:`x`}function gu(e){return e===`y`?`height`:`width`}var _u=new Set([`top`,`bottom`]);function vu(e){return _u.has(pu(e))?`y`:`x`}function yu(e){return hu(vu(e))}function bu(e,t,n){n===void 0&&(n=!1);let r=mu(e),i=yu(e),a=gu(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=ku(o)),[o,ku(o)]}function xu(e){let t=ku(e);return[Su(e),t,Su(t)]}function Su(e){return e.replace(/start|end/g,e=>uu[e])}var Cu=[`left`,`right`],wu=[`right`,`left`],Tu=[`top`,`bottom`],Eu=[`bottom`,`top`];function Du(e,t,n){switch(e){case`top`:case`bottom`:return n?t?wu:Cu:t?Cu:wu;case`left`:case`right`:return t?Tu:Eu;default:return[]}}function Ou(e,t,n,r){let i=mu(e),a=Du(pu(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Su)))),a}function ku(e){return e.replace(/left|right|bottom|top/g,e=>lu[e])}function Au(e){return{top:0,right:0,bottom:0,left:0,...e}}function ju(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:Au(e)}function Mu(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Nu(e,t,n){let{reference:r,floating:i}=e,a=vu(t),o=yu(t),s=gu(o),c=pu(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(mu(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Pu=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Nu(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Nu(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Fu(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=fu(t,e),p=ju(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Mu(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Mu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Iu=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=fu(e,t)||{};if(l==null)return{};let d=ju(u),f={x:n,y:r},p=yu(i),m=gu(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=iu(d[_],T),D=iu(d[v],T),O=E,k=C-h[m]-D,A=C/2-h[m]/2+w,ee=du(O,A,k),j=!c.arrow&&mu(i)!=null&&A!==ee&&a.reference[m]/2-(A<O?E:D)-h[m]/2<0,te=j?A<O?A-O:A-k:0;return{[p]:f[p]+te,data:{[p]:ee,centerOffset:A-ee-te,...j&&{alignmentOffset:te}},reset:j}}}),Lu=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=fu(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=pu(r),_=vu(o),v=pu(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[ku(o)]:xu(o)),x=p!==`none`;!d&&x&&b.push(...Ou(o,m,p,y));let S=[o,...b],C=await Fu(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=bu(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==vu(t))||T.every(e=>vu(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=vu(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function Ru(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zu(e){return ru.some(t=>e[t]>=0)}var Bu=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=fu(e,t);switch(r){case`referenceHidden`:{let e=await Fu(t,{...i,elementContext:`reference`}),r=Ru(e,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:zu(r)}}}case`escaped`:{let e=await Fu(t,{...i,altBoundary:!0}),r=Ru(e,n.floating);return{data:{escapedOffsets:r,escaped:zu(r)}}}default:return{}}}}},Vu=new Set([`left`,`top`]);async function Hu(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=pu(n),s=mu(n),c=vu(n)===`y`,l=Vu.has(o)?-1:1,u=a&&c?-1:1,d=fu(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Uu=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Hu(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Wu=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=fu(e,t),l={x:n,y:r},u=await Fu(t,c),d=vu(pu(i)),f=hu(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=du(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=du(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},Gu=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=fu(e,t),u={x:n,y:r},d=vu(i),f=hu(d),p=u[f],m=u[d],h=fu(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=Vu.has(pu(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},Ku=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=fu(e,t),u=await Fu(t,l),d=pu(i),f=mu(i),p=vu(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=iu(h-u[g],v),x=iu(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=au(u.left,0),t=au(u.right,0),n=au(u.top,0),r=au(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:au(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:au(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function qu(){return typeof window<`u`}function Ju(e){return Zu(e)?(e.nodeName||``).toLowerCase():`#document`}function Yu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xu(e){return((Zu(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function Zu(e){return qu()?e instanceof Node||e instanceof Yu(e).Node:!1}function Qu(e){return qu()?e instanceof Element||e instanceof Yu(e).Element:!1}function $u(e){return qu()?e instanceof HTMLElement||e instanceof Yu(e).HTMLElement:!1}function ed(e){return!qu()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof Yu(e).ShadowRoot}var td=new Set([`inline`,`contents`]);function nd(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=hd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!td.has(i)}var rd=new Set([`table`,`td`,`th`]);function id(e){return rd.has(Ju(e))}var ad=[`:popover-open`,`:modal`];function od(e){return ad.some(t=>{try{return e.matches(t)}catch{return!1}})}var sd=[`transform`,`translate`,`scale`,`rotate`,`perspective`],cd=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],ld=[`paint`,`layout`,`strict`,`content`];function ud(e){let t=fd(),n=Qu(e)?hd(e):e;return sd.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||cd.some(e=>(n.willChange||``).includes(e))||ld.some(e=>(n.contain||``).includes(e))}function dd(e){let t=_d(e);for(;$u(t)&&!md(t);){if(ud(t))return t;if(od(t))return null;t=_d(t)}return null}function fd(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var pd=new Set([`html`,`body`,`#document`]);function md(e){return pd.has(Ju(e))}function hd(e){return Yu(e).getComputedStyle(e)}function gd(e){return Qu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _d(e){if(Ju(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||ed(e)&&e.host||Xu(e);return ed(t)?t.host:t}function vd(e){let t=_d(e);return md(t)?e.ownerDocument?e.ownerDocument.body:e.body:$u(t)&&nd(t)?t:vd(t)}function yd(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=vd(e),i=r===e.ownerDocument?.body,a=Yu(r);if(i){let e=bd(a);return t.concat(a,a.visualViewport||[],nd(r)?r:[],e&&n?yd(e):[])}return t.concat(r,yd(r,[],n))}function bd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xd(e){let t=hd(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=$u(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=ou(n)!==a||ou(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Sd(e){return Qu(e)?e:e.contextElement}function Cd(e){let t=Sd(e);if(!$u(t))return cu(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=xd(t),o=(a?ou(n.width):n.width)/r,s=(a?ou(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var wd=cu(0);function Td(e){let t=Yu(e);return!fd()||!t.visualViewport?wd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ed(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yu(e)?!1:t}function Dd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Sd(e),o=cu(1);t&&(r?Qu(r)&&(o=Cd(r)):o=Cd(e));let s=Ed(a,n,r)?Td(a):cu(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=Yu(a),t=r&&Qu(r)?Yu(r):r,n=e,i=bd(n);for(;i&&r&&t!==n;){let e=Cd(i),t=i.getBoundingClientRect(),r=hd(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=Yu(i),i=bd(n)}}return Mu({width:u,height:d,x:c,y:l})}function Od(e,t){let n=gd(e).scrollLeft;return t?t.left+n:Dd(Xu(e)).left+n}function kd(e,t){let n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Od(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Ad(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=Xu(r),s=t?od(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=cu(1),u=cu(0),d=$u(r);if((d||!d&&!a)&&((Ju(r)!==`body`||nd(o))&&(c=gd(r)),$u(r))){let e=Dd(r);l=Cd(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?kd(o,c):cu(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function jd(e){return Array.from(e.getClientRects())}function Md(e){let t=Xu(e),n=gd(e),r=e.ownerDocument.body,i=au(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=au(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+Od(e),s=-n.scrollTop;return hd(r).direction===`rtl`&&(o+=au(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Nd=25;function Pd(e,t){let n=Yu(e),r=Xu(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=fd();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=Od(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Nd&&(a-=o)}else l<=Nd&&(a+=l);return{width:a,height:o,x:s,y:c}}var Fd=new Set([`absolute`,`fixed`]);function Id(e,t){let n=Dd(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=$u(e)?Cd(e):cu(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,l=r*a.y;return{width:o,height:s,x:c,y:l}}function Ld(e,t,n){let r;if(t===`viewport`)r=Pd(e,n);else if(t===`document`)r=Md(Xu(e));else if(Qu(t))r=Id(t,n);else{let n=Td(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Mu(r)}function Rd(e,t){let n=_d(e);return n===t||!Qu(n)||md(n)?!1:hd(n).position===`fixed`||Rd(n,t)}function zd(e,t){let n=t.get(e);if(n)return n;let r=yd(e,[],!1).filter(e=>Qu(e)&&Ju(e)!==`body`),i=null,a=hd(e).position===`fixed`,o=a?_d(e):e;for(;Qu(o)&&!md(o);){let t=hd(o),n=ud(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Fd.has(i.position)||nd(o)&&!n&&Rd(e,o))?r=r.filter(e=>e!==o):i=t,o=_d(o)}return t.set(e,r),r}function Bd(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?od(t)?[]:zd(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Ld(t,n,i);return e.top=au(r.top,e.top),e.right=iu(r.right,e.right),e.bottom=iu(r.bottom,e.bottom),e.left=au(r.left,e.left),e},Ld(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Vd(e){let{width:t,height:n}=xd(e);return{width:t,height:n}}function Hd(e,t,n){let r=$u(t),i=Xu(t),a=n===`fixed`,o=Dd(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=cu(0);function l(){c.x=Od(i)}if(r||!r&&!a)if((Ju(t)!==`body`||nd(i))&&(s=gd(t)),r){let e=Dd(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?kd(i,s):cu(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Ud(e){return hd(e).position===`static`}function Wd(e,t){if(!$u(e)||hd(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return Xu(e)===n&&(n=n.ownerDocument.body),n}function Gd(e,t){let n=Yu(e);if(od(e))return n;if(!$u(e)){let t=_d(e);for(;t&&!md(t);){if(Qu(t)&&!Ud(t))return t;t=_d(t)}return n}let r=Wd(e,t);for(;r&&id(r)&&Ud(r);)r=Wd(r,t);return r&&md(r)&&Ud(r)&&!ud(r)?n:r||dd(e)||n}var Kd=async function(e){let t=this.getOffsetParent||Gd,n=this.getDimensions,r=await n(e.floating);return{reference:Hd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qd(e){return hd(e).direction===`rtl`}var Jd={convertOffsetParentRelativeRectToViewportRelativeRect:Ad,getDocumentElement:Xu,getClippingRect:Bd,getOffsetParent:Gd,getElementRects:Kd,getClientRects:jd,getDimensions:Vd,getScale:Cd,isElement:Qu,isRTL:qd};function Yd(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xd(e,t){let n=null,r,i=Xu(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=su(d),h=su(i.clientWidth-(u+f)),g=su(i.clientHeight-(d+p)),_=su(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:au(0,iu(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Yd(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Zd(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Sd(e),u=i||a?[...l?yd(l):[],...yd(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Xd(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?Dd(e):null;c&&g();function g(){let t=Dd(e);h&&!Yd(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var Qd=Uu,$d=Wu,ef=Lu,tf=Ku,nf=Bu,rf=Iu,af=Gu,sf=(e,t,n)=>{let r=new Map,i={platform:Jd,...n},a={...i.platform,_c:r};return Pu(e,t,{...i,platform:a})};function cf(e){return typeof e==`function`?e():e}function lf(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uf(e,t){let n=lf(e);return Math.round(t*n)/n}function df(e){return{[`--bits-${e}-content-transform-origin`]:`var(--bits-floating-transform-origin)`,[`--bits-${e}-content-available-width`]:`var(--bits-floating-available-width)`,[`--bits-${e}-content-available-height`]:`var(--bits-floating-available-height)`,[`--bits-${e}-anchor-width`]:`var(--bits-floating-anchor-width)`,[`--bits-${e}-anchor-height`]:`var(--bits-floating-anchor-height)`}}function ff(e){let t=e.whileElementsMounted,n=z(()=>cf(e.open)??!0),r=z(()=>cf(e.middleware)),i=z(()=>cf(e.transform)??!0),a=z(()=>cf(e.placement)??`bottom`),o=z(()=>cf(e.strategy)??`absolute`),s=z(()=>cf(e.sideOffset)??0),c=z(()=>cf(e.alignOffset)??0),l=e.reference,u=B(0),d=B(0),f=Ao(null),p=B(Et(K(o))),m=B(Et(K(a))),h=B(Et({})),g=B(!1),_=z(()=>{let e=f.current?uf(f.current,K(u)):K(u),t=f.current?uf(f.current,K(d)):K(d);return K(i)?{position:K(p),left:`0`,top:`0`,transform:`translate(${e}px, ${t}px)`,...f.current&&lf(f.current)>=1.5&&{willChange:`transform`}}:{position:K(p),left:`${e}px`,top:`${t}px`}}),v;function y(){l.current===null||f.current===null||sf(l.current,f.current,{middleware:K(r),placement:K(a),strategy:K(o)}).then(e=>{if(!K(n)&&K(u)!==0&&K(d)!==0){let t=Math.max(Math.abs(K(s)),Math.abs(K(c)),15);if(e.x<=t&&e.y<=t)return}V(u,e.x,!0),V(d,e.y,!0),V(p,e.strategy,!0),V(m,e.placement,!0),V(h,e.middlewareData,!0),V(g,!0)})}function b(){typeof v==`function`&&(v(),v=void 0)}function x(){if(b(),t===void 0){y();return}l.current===null||f.current===null||(v=t(l.current,f.current,y))}function S(){K(n)||V(g,!1)}return Yt(y),Yt(x),Yt(S),Yt(()=>b),{floating:f,reference:l,get strategy(){return K(p)},get placement(){return K(m)},get middlewareData(){return K(h)},get isPositioned(){return K(g)},get floatingStyles(){return K(_)},get update(){return y}}}var pf={top:`bottom`,right:`left`,bottom:`top`,left:`right`},mf=new Os(`Floating.Root`),hf=new Os(`Floating.Content`),gf=new Os(`Floating.Root`),_f=class e{static create(t=!1){return t?gf.set(new e):mf.set(new e)}anchorNode=Ao(null);customAnchorNode=Ao(null);triggerNode=Ao(null);constructor(){Yt(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current==`string`?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}},vf=class e{static create(t,n=!1){return n?hf.set(new e(t,gf.get())):hf.set(new e(t,mf.get()))}opts;root;contentRef=Ao(null);wrapperRef=Ao(null);arrowRef=Ao(null);contentAttachment=ws(this.contentRef);wrapperAttachment=ws(this.wrapperRef);arrowAttachment=ws(this.arrowRef);arrowId=Ao(Bl());#transformedStyle=z(()=>{if(typeof this.opts.style==`string`)return Wo(this.opts.style);if(!this.opts.style)return{}});#updatePositionStrategy=void 0;#arrowSize=new Ls(()=>this.arrowRef.current??void 0);#arrowWidth=z(()=>this.#arrowSize?.width??0);#arrowHeight=z(()=>this.#arrowSize?.height??0);#desiredPlacement=z(()=>this.opts.side?.current+(this.opts.align.current===`center`?``:`-${this.opts.align.current}`));#boundary=z(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]);#hasExplicitBoundaries=z(()=>K(this.#boundary).length>0);get hasExplicitBoundaries(){return K(this.#hasExplicitBoundaries)}set hasExplicitBoundaries(e){V(this.#hasExplicitBoundaries,e)}#detectOverflowOptions=z(()=>({padding:this.opts.collisionPadding.current,boundary:K(this.#boundary).filter(lc),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return K(this.#detectOverflowOptions)}set detectOverflowOptions(e){V(this.#detectOverflowOptions,e)}#availableWidth=B(void 0);#availableHeight=B(void 0);#anchorWidth=B(void 0);#anchorHeight=B(void 0);#middleware=z(()=>[Qd({mainAxis:this.opts.sideOffset.current+K(this.#arrowHeight),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&$d({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current===`partial`?af():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&ef({...this.detectOverflowOptions}),tf({...this.detectOverflowOptions,apply:({rects:e,availableWidth:t,availableHeight:n})=>{let{width:r,height:i}=e.reference;V(this.#availableWidth,t,!0),V(this.#availableHeight,n,!0),V(this.#anchorWidth,r,!0),V(this.#anchorHeight,i,!0)}}),this.arrowRef.current&&rf({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),bf({arrowWidth:K(this.#arrowWidth),arrowHeight:K(this.#arrowHeight)}),this.opts.hideWhenDetached.current&&nf({strategy:`referenceHidden`,...this.detectOverflowOptions})].filter(Boolean));get middleware(){return K(this.#middleware)}set middleware(e){V(this.#middleware,e)}floating;#placedSide=z(()=>Sf(this.floating.placement));get placedSide(){return K(this.#placedSide)}set placedSide(e){V(this.#placedSide,e)}#placedAlign=z(()=>Cf(this.floating.placement));get placedAlign(){return K(this.#placedAlign)}set placedAlign(e){V(this.#placedAlign,e)}#arrowX=z(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return K(this.#arrowX)}set arrowX(e){V(this.#arrowX,e)}#arrowY=z(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return K(this.#arrowY)}set arrowY(e){V(this.#arrowY,e)}#cannotCenterArrow=z(()=>this.floating.middlewareData.arrow?.centerOffset!==0);get cannotCenterArrow(){return K(this.#cannotCenterArrow)}set cannotCenterArrow(e){V(this.#cannotCenterArrow,e)}#contentZIndex=B();get contentZIndex(){return K(this.#contentZIndex)}set contentZIndex(e){V(this.#contentZIndex,e,!0)}#arrowBaseSide=z(()=>pf[this.placedSide]);get arrowBaseSide(){return K(this.#arrowBaseSide)}set arrowBaseSide(e){V(this.#arrowBaseSide,e)}#wrapperProps=z(()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":``,style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:`translate(0, -200%)`,minWidth:`max-content`,zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${K(this.#availableWidth)}px`,"--bits-floating-available-height":`${K(this.#availableHeight)}px`,"--bits-floating-anchor-width":`${K(this.#anchorWidth)}px`,"--bits-floating-anchor-height":`${K(this.#anchorHeight)}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:`hidden`,"pointer-events":`none`},...K(this.#transformedStyle)},dir:this.opts.dir.current,...this.wrapperAttachment}));get wrapperProps(){return K(this.#wrapperProps)}set wrapperProps(e){V(this.#wrapperProps,e)}#props=z(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:Yo({...K(this.#transformedStyle)}),...this.contentAttachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}#arrowStyle=z(()=>({position:`absolute`,left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[this.placedSide],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[this.placedSide],visibility:this.cannotCenterArrow?`hidden`:void 0}));get arrowStyle(){return K(this.#arrowStyle)}set arrowStyle(e){V(this.#arrowStyle,e)}constructor(e,t){this.opts=e,this.root=t,e.customAnchor&&(this.root.customAnchorNode.current=e.customAnchor.current),Ms(()=>e.customAnchor.current,e=>{this.root.customAnchorNode.current=e}),this.floating=ff({strategy:()=>this.opts.strategy.current,placement:()=>K(this.#desiredPlacement),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...e)=>Zd(...e,{animationFrame:this.#updatePositionStrategy?.current===`always`}),open:()=>this.opts.enabled.current,sideOffset:()=>this.opts.sideOffset.current,alignOffset:()=>this.opts.alignOffset.current}),Yt(()=>{this.floating.isPositioned&&this.opts.onPlaced?.current()}),Ms(()=>this.contentRef.current,e=>{e&&(this.contentZIndex=xs(e).getComputedStyle(e).zIndex)}),Yt(()=>{this.floating.floating.current=this.wrapperRef.current})}},yf=class e{static create(t,n=!1){return n?new e(t,gf.get()):new e(t,mf.get())}opts;root;constructor(e,t){this.opts=e,this.root=t,e.virtualEl&&e.virtualEl.current?t.triggerNode=Do(e.virtualEl.current):t.triggerNode=e.ref}};function bf(e){return{name:`transformOrigin`,options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[c,l]=xf(n),u={start:`0%`,center:`50%`,end:`100%`}[l],d=(i.arrow?.x??0)+o/2,f=(i.arrow?.y??0)+s/2,p=``,m=``;return c===`bottom`?(p=a?u:`${d}px`,m=`${-s}px`):c===`top`?(p=a?u:`${d}px`,m=`${r.floating.height+s}px`):c===`right`?(p=`${-s}px`,m=a?u:`${f}px`):c===`left`&&(p=`${r.floating.width+s}px`,m=a?u:`${f}px`),{data:{x:p,y:m}}}}}function xf(e){let[t,n=`center`]=e.split(`-`);return[t,n]}function Sf(e){return xf(e)[0]}function Cf(e){return xf(e)[1]}function wf(e,t){L(t,!0);let n=Q(t,`tooltip`,3,!1);_f.create(n());var r=J(),i=U(r);Z(i,()=>t.children??b),Y(e,r),R()}var Tf={afterMs:1e4,onChange:dc};function Ef(e,t){let{afterMs:n,onChange:r,getWindow:i}={...Tf,...t},a=null,o=B(Et(e));function s(){return i().setTimeout(()=>{V(o,e,!0),r?.(e)},n)}return Yt(()=>()=>{a&&i().clearTimeout(a)}),$(()=>K(o),e=>{V(o,e,!0),r?.(e),a&&i().clearTimeout(a),a=s()})}function Df(e,t){L(t,!0);let n=Q(t,`tooltip`,3,!1);yf.create({id:$(()=>t.id),virtualEl:$(()=>t.virtualEl),ref:t.ref},n());var r=J(),i=U(r);Z(i,()=>t.children??b),Y(e,r),R()}function Of(e,t){L(t,!0);let n=Q(t,`side`,3,`bottom`),r=Q(t,`sideOffset`,3,0),i=Q(t,`align`,3,`center`),a=Q(t,`alignOffset`,3,0),o=Q(t,`arrowPadding`,3,0),s=Q(t,`avoidCollisions`,3,!0),c=Q(t,`collisionBoundary`,19,()=>[]),l=Q(t,`collisionPadding`,3,0),u=Q(t,`hideWhenDetached`,3,!1),d=Q(t,`onPlaced`,3,()=>{}),f=Q(t,`sticky`,3,`partial`),p=Q(t,`updatePositionStrategy`,3,`optimized`),m=Q(t,`strategy`,3,`fixed`),h=Q(t,`dir`,3,`ltr`),g=Q(t,`style`,19,()=>({})),_=Q(t,`wrapperId`,19,Bl),v=Q(t,`customAnchor`,3,null),y=Q(t,`tooltip`,3,!1),x=vf.create({side:$(()=>n()),sideOffset:$(()=>r()),align:$(()=>i()),alignOffset:$(()=>a()),id:$(()=>t.id),arrowPadding:$(()=>o()),avoidCollisions:$(()=>s()),collisionBoundary:$(()=>c()),collisionPadding:$(()=>l()),hideWhenDetached:$(()=>u()),onPlaced:$(()=>d()),sticky:$(()=>f()),updatePositionStrategy:$(()=>p()),strategy:$(()=>m()),dir:$(()=>h()),style:$(()=>g()),enabled:$(()=>t.enabled),wrapperId:$(()=>_()),customAnchor:$(()=>v())},y()),S=z(()=>$o(x.wrapperProps,{style:{pointerEvents:`auto`}}));var C=J(),w=U(C);Z(w,()=>t.content??b,()=>({props:x.props,wrapperProps:K(S)})),Y(e,C),R()}function kf(e,t){L(t,!0),Oi(()=>{t.onPlaced?.()});var n=J(),r=U(n);Z(r,()=>t.content??b,()=>({props:{},wrapperProps:{}})),Y(e,n),R()}function Af(e,t){let n=Q(t,`isStatic`,3,!1),r=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`content`,`isStatic`,`onPlaced`]);var i=J(),a=U(i),o=e=>{kf(e,{get content(){return t.content},get onPlaced(){return t.onPlaced}})},s=e=>{Of(e,Di({get content(){return t.content},get onPlaced(){return t.onPlaced}},()=>r))};X(a,e=>{n()?e(o):e(s,!1)}),Y(e,i)}var jf=q(`<!> <!>`,1);function Mf(e,t){L(t,!0);let n=Q(t,`interactOutsideBehavior`,3,`close`),r=Q(t,`trapFocus`,3,!0),i=Q(t,`isValidEvent`,3,()=>!1),a=Q(t,`customAnchor`,3,null),o=Q(t,`isStatic`,3,!1),s=Q(t,`tooltip`,3,!1),c=Ti(t,`$$slots.$$events.$$legacy.popper.onEscapeKeydown.escapeKeydownBehavior.preventOverflowTextSelection.id.onPointerDown.onPointerUp.side.sideOffset.align.alignOffset.arrowPadding.avoidCollisions.collisionBoundary.collisionPadding.sticky.hideWhenDetached.updatePositionStrategy.strategy.dir.preventScroll.wrapperId.style.onPlaced.onInteractOutside.onCloseAutoFocus.onOpenAutoFocus.onFocusOutside.interactOutsideBehavior.loop.trapFocus.isValidEvent.customAnchor.isStatic.enabled.ref.tooltip`.split(`.`));Af(e,{get isStatic(){return o()},get id(){return t.id},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get enabled(){return t.enabled},get tooltip(){return s()},content:(e,a)=>{let o=()=>a?.().props,s=()=>a?.().wrapperProps;var l=jf(),u=U(l),d=e=>{Ql(e,{get preventScroll(){return t.preventScroll}})},f=e=>{var n=J(),r=U(n),i=e=>{Ql(e,{get preventScroll(){return t.preventScroll}})};X(r,e=>{t.forceMount||e(i)},!0),Y(e,n)};X(u,e=>{t.forceMount&&t.enabled?e(d):e(f,!1)});var p=W(u,2);Nl(p,{get onOpenAutoFocus(){return t.onOpenAutoFocus},get onCloseAutoFocus(){return t.onCloseAutoFocus},get loop(){return t.loop},get enabled(){return t.enabled},get trapFocus(){return r()},get forceMount(){return t.forceMount},get ref(){return t.ref},focusScope:(e,r)=>{let a=()=>r?.().props;Qc(e,{get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get enabled(){return t.enabled},get ref(){return t.ref},children:(e,r)=>{Yc(e,{get id(){return t.id},get onInteractOutside(){return t.onInteractOutside},get onFocusOutside(){return t.onFocusOutside},get interactOutsideBehavior(){return n()},get isValidEvent(){return i()},get enabled(){return t.enabled},get ref(){return t.ref},children:(e,n)=>{let r=()=>n?.().props;zl(e,{get id(){return t.id},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get enabled(){return t.enabled},get ref(){return t.ref},children:(e,n)=>{var i=J(),l=U(i);{let e=z(()=>({props:$o(c,o(),r(),a(),{style:{pointerEvents:`auto`}}),wrapperProps:s()}));Z(l,()=>t.popper??b,()=>K(e))}Y(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{focusScope:!0}}),Y(e,l)},$$slots:{content:!0}}),R()}function Nf(e,t){let n=Q(t,`interactOutsideBehavior`,3,`close`),r=Q(t,`trapFocus`,3,!0),i=Q(t,`isValidEvent`,3,()=>!1),a=Q(t,`customAnchor`,3,null),o=Q(t,`isStatic`,3,!1),s=Ti(t,`$$slots.$$events.$$legacy.popper.open.onEscapeKeydown.escapeKeydownBehavior.preventOverflowTextSelection.id.onPointerDown.onPointerUp.side.sideOffset.align.alignOffset.arrowPadding.avoidCollisions.collisionBoundary.collisionPadding.sticky.hideWhenDetached.updatePositionStrategy.strategy.dir.preventScroll.wrapperId.style.onPlaced.onInteractOutside.onCloseAutoFocus.onOpenAutoFocus.onFocusOutside.interactOutsideBehavior.loop.trapFocus.isValidEvent.customAnchor.isStatic.ref`.split(`.`));bc(e,{get open(){return t.open},get ref(){return t.ref},presence:e=>{Mf(e,Di({get popper(){return t.popper},get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get id(){return t.id},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get preventScroll(){return t.preventScroll},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get isStatic(){return o()},get enabled(){return t.open},get onInteractOutside(){return t.onInteractOutside},get onCloseAutoFocus(){return t.onCloseAutoFocus},get onOpenAutoFocus(){return t.onOpenAutoFocus},get interactOutsideBehavior(){return n()},get loop(){return t.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return t.onFocusOutside},forceMount:!1,get ref(){return t.ref}},()=>s))},$$slots:{presence:!0}})}function Pf(e,t){let n=Q(t,`interactOutsideBehavior`,3,`close`),r=Q(t,`trapFocus`,3,!0),i=Q(t,`isValidEvent`,3,()=>!1),a=Q(t,`customAnchor`,3,null),o=Q(t,`isStatic`,3,!1),s=Ti(t,`$$slots.$$events.$$legacy.popper.onEscapeKeydown.escapeKeydownBehavior.preventOverflowTextSelection.id.onPointerDown.onPointerUp.side.sideOffset.align.alignOffset.arrowPadding.avoidCollisions.collisionBoundary.collisionPadding.sticky.hideWhenDetached.updatePositionStrategy.strategy.dir.preventScroll.wrapperId.style.onPlaced.onInteractOutside.onCloseAutoFocus.onOpenAutoFocus.onFocusOutside.interactOutsideBehavior.loop.trapFocus.isValidEvent.customAnchor.isStatic.enabled`.split(`.`));Mf(e,Di({get popper(){return t.popper},get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get id(){return t.id},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get preventScroll(){return t.preventScroll},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get isStatic(){return o()},get enabled(){return t.enabled},get onInteractOutside(){return t.onInteractOutside},get onCloseAutoFocus(){return t.onCloseAutoFocus},get onOpenAutoFocus(){return t.onOpenAutoFocus},get interactOutsideBehavior(){return n()},get loop(){return t.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return t.onFocusOutside}},()=>s,{forceMount:!0}))}var Ff=class{#opts;#enabled;#isPointerInTransit;#pointerGraceArea=B(null);constructor(e){this.#opts=e,this.#enabled=z(()=>this.#opts.enabled()),this.#isPointerInTransit=Ef(!1,{afterMs:e.transitTimeout??300,onChange:e=>{K(this.#enabled)&&this.#opts.setIsPointerInTransit?.(e)},getWindow:()=>xs(this.#opts.triggerNode())}),Ms([e.triggerNode,e.contentNode,e.enabled],([e,t,n])=>!e||!t||!n?void 0:Go(lr(e,`pointerleave`,e=>{this.#createGraceArea(e,t)}),lr(t,`pointerleave`,t=>{this.#createGraceArea(t,e)}))),Ms(()=>K(this.#pointerGraceArea),()=>{let t=t=>{if(!K(this.#pointerGraceArea))return;let n=t.target;if(!sc(n))return;let r={x:t.clientX,y:t.clientY},i=e.triggerNode()?.contains(n)||e.contentNode()?.contains(n),a=!zf(r,K(this.#pointerGraceArea));i?this.#removeGraceArea():a&&(this.#removeGraceArea(),e.onPointerExit())},n=bs(e.triggerNode()??e.contentNode());if(n)return lr(n,`pointermove`,t)})}#removeGraceArea(){V(this.#pointerGraceArea,null),this.#isPointerInTransit.current=!1}#createGraceArea(e,t){let n=e.currentTarget;if(!oc(n))return;let r={x:e.clientX,y:e.clientY},i=If(r,n.getBoundingClientRect()),a=Lf(r,i),o=Rf(t.getBoundingClientRect()),s=Bf([...a,...o]);V(this.#pointerGraceArea,s,!0),this.#isPointerInTransit.current=!0}};function If(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Lf(e,t,n=5){let r=n*1.5;switch(t){case`top`:return[{x:e.x-n,y:e.y+n},{x:e.x,y:e.y-r},{x:e.x+n,y:e.y+n}];case`bottom`:return[{x:e.x-n,y:e.y-n},{x:e.x,y:e.y+r},{x:e.x+n,y:e.y-n}];case`left`:return[{x:e.x+n,y:e.y-n},{x:e.x-r,y:e.y},{x:e.x+n,y:e.y+n}];case`right`:return[{x:e.x-n,y:e.y-n},{x:e.x+r,y:e.y},{x:e.x-n,y:e.y+n}]}}function Rf(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function zf(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function Bf(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),Vf(t)}function Vf(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}function Hf(e,t){L(t,!0);let n=Q(t,`open`,15,!1),r=Q(t,`onOpenChange`,3,dc),i=Q(t,`onOpenChangeComplete`,3,dc);Tc.create({variant:$(()=>`dialog`),open:$(()=>n(),e=>{n(e),r()(e)}),onOpenChangeComplete:$(()=>i())});var a=J(),o=U(a);Z(o,()=>t.children??b),Y(e,a),R()}var Uf=q(`<button><!></button>`);function Wf(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`disabled`,3,!1),o=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`children`,`child`,`id`,`ref`,`disabled`]),s=Ec.create({variant:$(()=>`close`),id:$(()=>r()),ref:$(()=>i(),e=>i(e)),disabled:$(()=>!!a())}),c=z(()=>$o(o,s.props));var l=J(),u=U(l),d=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(c)})),Y(e,n)},f=e=>{var n=Uf();di(n,()=>({...K(c)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(u,e=>{t.child?e(d):e(f,!1)}),Y(e,l),R()}var Gf=q(`<!> <!>`,1),Kf=q(`<!> <div><!></div>`,1);function qf(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`forceMount`,3,!1),o=Q(t,`onCloseAutoFocus`,3,dc),s=Q(t,`onOpenAutoFocus`,3,dc),c=Q(t,`onEscapeKeydown`,3,dc),l=Q(t,`onInteractOutside`,3,dc),u=Q(t,`trapFocus`,3,!0),d=Q(t,`preventScroll`,3,!0),f=Q(t,`restoreScrollDelay`,3,null),p=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`children`,`child`,`ref`,`forceMount`,`onCloseAutoFocus`,`onOpenAutoFocus`,`onEscapeKeydown`,`onInteractOutside`,`trapFocus`,`preventScroll`,`restoreScrollDelay`]),m=Oc.create({id:$(()=>r()),ref:$(()=>i(),e=>i(e))}),h=z(()=>$o(p,m.props));{let n=e=>{{let n=(e,n)=>{let r=()=>n?.().props;Qc(e,Di(()=>K(h),{get enabled(){return m.root.opts.open.current},get ref(){return m.opts.ref},onEscapeKeydown:e=>{c()(e),!e.defaultPrevented&&m.root.handleClose()},children:(e,n)=>{Yc(e,Di(()=>K(h),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},onInteractOutside:e=>{l()(e),!e.defaultPrevented&&m.root.handleClose()},children:(e,n)=>{zl(e,Di(()=>K(h),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},children:(e,n)=>{var i=J(),a=U(i),o=e=>{var n=Gf(),i=U(n),a=e=>{Ql(e,{get preventScroll(){return d()},get restoreScrollDelay(){return f()}})};X(i,e=>{m.root.opts.open.current&&e(a)});var o=W(i,2);{let e=z(()=>({props:$o(K(h),r()),...m.snippetProps}));Z(o,()=>t.child,()=>K(e))}Y(e,n)},s=e=>{var n=Kf(),i=U(n);Ql(i,{get preventScroll(){return d()}});var a=W(i,2);di(a,e=>({...e}),[()=>$o(K(h),r())]);var o=H(a);Z(o,()=>t.children??b),I(a),Y(e,n)};X(a,e=>{t.child?e(o):e(s,!1)}),Y(e,i)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},r=z(()=>$l({forceMount:a(),present:m.root.opts.open.current,open:m.root.opts.open.current}));Nl(e,{get ref(){return m.opts.ref},loop:!0,get trapFocus(){return u()},get enabled(){return K(r)},get onOpenAutoFocus(){return s()},get onCloseAutoFocus(){return o()},focusScope:n,$$slots:{focusScope:!0}})}},r=z(()=>m.root.opts.open.current||a());bc(e,Di(()=>K(h),{get forceMount(){return a()},get open(){return K(r)},get ref(){return m.opts.ref},presence:n,$$slots:{presence:!0}}))}R()}var Jf=Xs({component:`pagination`,parts:[`root`,`page`,`prev`,`next`]}),Yf=new Os(`Pagination.Root`),Xf=class e{static create(t){return Yf.set(new e(t))}opts;attachment;#totalPages=z(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current));get totalPages(){return K(this.#totalPages)}set totalPages(e){V(this.#totalPages,e)}#range=z(()=>{let e=(this.opts.page.current-1)*this.opts.perPage.current,t=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e+1,end:t}});get range(){return K(this.#range)}set range(e){V(this.#range,e)}#pages=z(()=>ep({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current}));get pages(){return K(this.#pages)}set pages(e){V(this.#pages,e)}#hasPrevPage=z(()=>this.opts.page.current>1);get hasPrevPage(){return K(this.#hasPrevPage)}set hasPrevPage(e){V(this.#hasPrevPage,e)}#hasNextPage=z(()=>this.opts.page.current<this.totalPages);get hasNextPage(){return K(this.#hasNextPage)}set hasNextPage(e){V(this.#hasNextPage,e)}constructor(e){this.opts=e,this.attachment=ws(this.opts.ref)}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){let e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[data-pagination-page]`)):[]}getButtonNode(e){let t=this.opts.ref.current;if(t)return t.querySelector(Jf.selector(e))}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}#snippetProps=z(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[Jf.root]:``,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Zf=class e{static create(t){return new e(t,Yf.get())}opts;root;attachment;#isSelected=z(()=>this.opts.page.current.value===this.root.opts.page.current);constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===` `||e.key===`Enter`?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):$f(e,this.opts.ref.current,this.root)}#props=z(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":K(this.#isSelected)?``:void 0,[Jf.page]:``,onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Qf=class e{static create(t){return new e(t,Yf.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#action(){this.opts.type===`prev`?this.root.prevPage():this.root.nextPage()}#isDisabled=z(()=>this.opts.disabled.current?!0:this.opts.type===`prev`?!this.root.hasPrevPage:this.opts.type===`next`?!this.root.hasNextPage:!1);onclick(e){this.opts.disabled.current||e.button===0&&this.#action()}onkeydown(e){e.key===` `||e.key===`Enter`?(e.preventDefault(),this.#action()):$f(e,this.opts.ref.current,this.root)}#props=z(()=>({id:this.opts.id.current,[Jf[this.opts.type]]:``,disabled:K(this.#isDisabled),onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}};function $f(e,t,n){if(!t||!n.opts.ref.current)return;let r=n.getPageTriggerNodes(),i=n.getButtonNode(`next`),a=n.getButtonNode(`prev`);a&&r.unshift(a),i&&r.push(i);let o=r.indexOf(t),s=Zs(n.opts.ref.current),{nextKey:c,prevKey:l}=nc(s,n.opts.orientation.current),u=n.opts.loop.current,d={[c]:o+1,[l]:o-1,Home:0,End:r.length-1}[e.key];if(d===void 0)return;e.preventDefault(),d<0&&u?d=r.length-1:d===r.length&&u&&(d=0);let f=r[d];f&&f.focus()}function ep({page:e=1,totalPages:t,siblingCount:n=1}){let r=[],i=new Set([1,t]),a=3+n,o=t-2-n;if(a>o)for(let e=2;e<=t-1;e++)i.add(e);else if(e<a)for(let e=2;e<=Math.min(a,t);e++)i.add(e);else if(e>o)for(let e=t-1;e>=Math.max(o,2);e--)i.add(e);else for(let r=Math.max(e-n,2);r<=Math.min(e+n,t);r++)i.add(r);function s(e){r.push({type:`page`,value:e,key:`page-${e}`})}function c(){let e=Bl();r.push({type:`ellipsis`,key:`ellipsis-${e}`})}let l=0;for(let e of Array.from(i).sort((e,t)=>e-t))e-l>1&&c(),s(e),l=e;return r}var tp=q(`<div><!></div>`);function np(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`perPage`,3,1),a=Q(t,`page`,15,1),o=Q(t,`ref`,15,null),s=Q(t,`siblingCount`,3,1),c=Q(t,`onPageChange`,3,dc),l=Q(t,`loop`,3,!1),u=Q(t,`orientation`,3,`horizontal`),d=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`count`,`perPage`,`page`,`ref`,`siblingCount`,`onPageChange`,`loop`,`orientation`,`child`,`children`]),f=Xf.create({id:$(()=>r()),count:$(()=>t.count),perPage:$(()=>i()),page:$(()=>a(),e=>{a(e),c()?.(e)}),loop:$(()=>l()),siblingCount:$(()=>s()),orientation:$(()=>u()),ref:$(()=>o(),e=>o(e))}),p=z(()=>$o(d,f.props));var m=J(),h=U(m),g=e=>{var n=J(),r=U(n);{let e=z(()=>({props:K(p),...f.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},_=e=>{var n=tp();di(n,()=>({...K(p)}));var r=H(n);Z(r,()=>t.children??b,()=>f.snippetProps),I(n),Y(e,n)};X(h,e=>{t.child?e(g):e(_,!1)}),Y(e,m),R()}var rp=q(`<button><!></button>`);function ip(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`type`,3,`button`),o=Q(t,`disabled`,3,!1),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`child`,`children`,`ref`,`type`,`disabled`]),c=Qf.create({type:`prev`,id:$(()=>r()),ref:$(()=>i(),e=>i(e)),disabled:$(()=>!!o())}),l=z(()=>$o(s,c.props,{type:a()}));var u=J(),d=U(u),f=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(l)})),Y(e,n)},p=e=>{var n=rp();di(n,()=>({...K(l)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(d,e=>{t.child?e(f):e(p,!1)}),Y(e,u),R()}var ap=q(`<button><!></button>`);function op(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`type`,3,`button`),o=Q(t,`disabled`,3,!1),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`child`,`children`,`ref`,`type`,`disabled`]),c=Qf.create({type:`next`,id:$(()=>r()),ref:$(()=>i(),e=>i(e)),disabled:$(()=>!!o())}),l=z(()=>$o(s,c.props,{type:a()}));var u=J(),d=U(u),f=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(l)})),Y(e,n)},p=e=>{var n=ap();di(n,()=>({...K(l)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(d,e=>{t.child?e(f):e(p,!1)}),Y(e,u),R()}var sp=q(`<button><!></button>`);function cp(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`type`,3,`button`),a=Q(t,`ref`,15,null),o=Q(t,`disabled`,3,!1),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`page`,`child`,`children`,`type`,`ref`,`disabled`]),c=Zf.create({id:$(()=>r()),page:$(()=>t.page),ref:$(()=>a(),e=>a(e)),disabled:$(()=>!!o())}),l=z(()=>$o(s,c.props,{type:i()}));var u=J(),d=U(u),f=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(l)})),Y(e,n)},p=e=>{var n=sp();di(n,()=>({...K(l)}));var r=H(n),i=e=>{var n=J(),r=U(n);Z(r,()=>t.children??b),Y(e,n)},a=e=>{var n=vr();G(()=>br(n,t.page.value)),Y(e,n)};X(r,e=>{t.children?e(i):e(a,!1)}),I(n),Y(e,n)};X(d,e=>{t.child?e(f):e(p,!1)}),Y(e,u),R()}var lp=Xs({component:`tabs`,parts:[`root`,`list`,`trigger`,`content`]}),up=new Os(`Tabs.Root`),dp=class e{static create(t){return up.set(new e(t))}opts;attachment;rovingFocusGroup;#triggerIds=B(Et([]));get triggerIds(){return K(this.#triggerIds)}set triggerIds(e){V(this.#triggerIds,e,!0)}valueToTriggerId=new os;valueToContentId=new os;constructor(e){this.opts=e,this.attachment=ws(e.ref),this.rovingFocusGroup=new uc({candidateAttr:lp.trigger,rootNode:this.opts.ref,loop:this.opts.loop,orientation:this.opts.orientation})}registerTrigger(e,t){return this.triggerIds.push(e),this.valueToTriggerId.set(t,e),()=>{this.triggerIds=this.triggerIds.filter(t=>t!==e),this.valueToTriggerId.delete(t)}}registerContent(e,t){return this.valueToContentId.set(t,e),()=>{this.valueToContentId.delete(t)}}setValue(e){this.opts.value.current=e}#props=z(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[lp.root]:``,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},fp=class e{static create(t){return new e(t,up.get())}opts;root;attachment;#isDisabled=z(()=>this.root.opts.disabled.current);constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(e.ref)}#props=z(()=>({id:this.opts.id.current,role:`tablist`,"aria-orientation":this.root.opts.orientation.current,"data-orientation":this.root.opts.orientation.current,[lp.list]:``,"data-disabled":Gs(K(this.#isDisabled)),...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},pp=class e{static create(t){return new e(t,up.get())}opts;root;attachment;#tabIndex=B(0);#isActive=z(()=>this.root.opts.value.current===this.opts.value.current);#isDisabled=z(()=>this.opts.disabled.current||this.root.opts.disabled.current);#ariaControls=z(()=>this.root.valueToContentId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(e.ref),Ms([()=>this.opts.id.current,()=>this.opts.value.current],([e,t])=>this.root.registerTrigger(e,t)),Yt(()=>{this.root.triggerIds.length,K(this.#isActive)||!this.root.opts.value.current?V(this.#tabIndex,0):V(this.#tabIndex,-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#activate(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)}onfocus(e){this.root.opts.activationMode.current!==`automatic`||K(this.#isDisabled)||this.#activate()}onclick(e){K(this.#isDisabled)||this.#activate()}onkeydown(e){if(!K(this.#isDisabled)){if(e.key===` `||e.key===`Enter`){e.preventDefault(),this.#activate();return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#props=z(()=>({id:this.opts.id.current,role:`tab`,"data-state":hp(K(this.#isActive)),"data-value":this.opts.value.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":Gs(K(this.#isDisabled)),"aria-selected":Ws(K(this.#isActive)),"aria-controls":K(this.#ariaControls),[lp.trigger]:``,disabled:Ks(K(this.#isDisabled)),tabindex:K(this.#tabIndex),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},mp=class e{static create(t){return new e(t,up.get())}opts;root;attachment;#isActive=z(()=>this.root.opts.value.current===this.opts.value.current);#ariaLabelledBy=z(()=>this.root.valueToTriggerId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(e.ref),Ms([()=>this.opts.id.current,()=>this.opts.value.current],([e,t])=>this.root.registerContent(e,t))}#props=z(()=>({id:this.opts.id.current,role:`tabpanel`,hidden:Ks(!K(this.#isActive)),tabindex:0,"data-value":this.opts.value.current,"data-state":hp(K(this.#isActive)),"aria-labelledby":K(this.#ariaLabelledBy),"data-orientation":this.root.opts.orientation.current,[lp.content]:``,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}};function hp(e){return e?`active`:`inactive`}var gp=q(`<div><!></div>`);function _p(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`value`,15,``),o=Q(t,`onValueChange`,3,dc),s=Q(t,`orientation`,3,`horizontal`),c=Q(t,`loop`,3,!0),l=Q(t,`activationMode`,3,`automatic`),u=Q(t,`disabled`,3,!1),d=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`ref`,`value`,`onValueChange`,`orientation`,`loop`,`activationMode`,`disabled`,`children`,`child`]),f=dp.create({id:$(()=>r()),value:$(()=>a(),e=>{a(e),o()(e)}),orientation:$(()=>s()),loop:$(()=>c()),activationMode:$(()=>l()),disabled:$(()=>u()),ref:$(()=>i(),e=>i(e))}),p=z(()=>$o(d,f.props));var m=J(),h=U(m),g=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(p)})),Y(e,n)},_=e=>{var n=gp();di(n,()=>({...K(p)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(h,e=>{t.child?e(g):e(_,!1)}),Y(e,m),R()}var vp=q(`<div><!></div>`);function yp(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`children`,`child`,`id`,`ref`,`value`]),o=mp.create({value:$(()=>t.value),id:$(()=>r()),ref:$(()=>i(),e=>i(e))}),s=z(()=>$o(a,o.props));var c=J(),l=U(c),u=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(s)})),Y(e,n)},d=e=>{var n=vp();di(n,()=>({...K(s)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(l,e=>{t.child?e(u):e(d,!1)}),Y(e,c),R()}var bp=q(`<div><!></div>`);function xp(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`child`,`children`,`id`,`ref`]),o=fp.create({id:$(()=>r()),ref:$(()=>i(),e=>i(e))}),s=z(()=>$o(a,o.props));var c=J(),l=U(c),u=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(s)})),Y(e,n)},d=e=>{var n=bp();di(n,()=>({...K(s)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(l,e=>{t.child?e(u):e(d,!1)}),Y(e,c),R()}var Sp=q(`<button><!></button>`);function Cp(e,t){let n=yr();L(t,!0);let r=Q(t,`disabled`,3,!1),i=Q(t,`id`,19,()=>fc(n)),a=Q(t,`type`,3,`button`),o=Q(t,`ref`,15,null),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`child`,`children`,`disabled`,`id`,`type`,`value`,`ref`]),c=pp.create({id:$(()=>i()),disabled:$(()=>r()??!1),value:$(()=>t.value),ref:$(()=>o(),e=>o(e))}),l=z(()=>$o(s,c.props,{type:a()}));var u=J(),d=U(u),f=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(l)})),Y(e,n)},p=e=>{var n=Sp();di(n,()=>({...K(l)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(d,e=>{t.child?e(f):e(p,!1)}),Y(e,u),R()}let wp=Xs({component:`toggle`,parts:[`root`]});var Tp=class e{static create(t){return new e(t)}opts;attachment;constructor(e){this.opts=e,this.attachment=ws(this.opts.ref),this.onclick=this.onclick.bind(this)}onclick(e){this.opts.disabled.current||(this.opts.pressed.current=!this.opts.pressed.current)}#snippetProps=z(()=>({pressed:this.opts.pressed.current}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({[wp.root]:``,id:this.opts.id.current,"data-disabled":Gs(this.opts.disabled.current),"aria-pressed":Ws(this.opts.pressed.current),"data-state":Ep(this.opts.pressed.current),disabled:Ks(this.opts.disabled.current),onclick:this.onclick,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}};function Ep(e){return e?`on`:`off`}var Dp=q(`<button><!></button>`);function Op(e,t){let n=yr();L(t,!0);let r=Q(t,`ref`,15,null),i=Q(t,`id`,19,()=>fc(n)),a=Q(t,`pressed`,15,!1),o=Q(t,`onPressedChange`,3,dc),s=Q(t,`disabled`,3,!1),c=Q(t,`type`,3,`button`),l=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`ref`,`id`,`pressed`,`onPressedChange`,`disabled`,`type`,`children`,`child`]),u=Tp.create({pressed:$(()=>a(),e=>{a(e),o()(e)}),disabled:$(()=>s()??!1),id:$(()=>i()),ref:$(()=>r(),e=>r(e))}),d=z(()=>$o(l,u.props,{type:c()}));var f=J(),p=U(f),m=e=>{var n=J(),r=U(n);{let e=z(()=>({props:K(d),...u.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},h=e=>{var n=Dp();di(n,()=>({...K(d)}));var r=H(n);Z(r,()=>t.children??b,()=>u.snippetProps),I(n),Y(e,n)};X(p,e=>{t.child?e(m):e(h,!1)}),Y(e,f),R()}let kp=Xs({component:`toggle-group`,parts:[`root`,`item`]});var Ap=new Os(`ToggleGroup.Root`),jp=class{opts;rovingFocusGroup;attachment;constructor(e){this.opts=e,this.attachment=ws(this.opts.ref),this.rovingFocusGroup=new uc({candidateAttr:kp.item,rootNode:e.ref,loop:e.loop,orientation:e.orientation})}#props=z(()=>({id:this.opts.id.current,[kp.root]:``,role:`group`,"data-orientation":this.opts.orientation.current,"data-disabled":Gs(this.opts.disabled.current),...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Mp=class extends jp{opts;isMulti=!1;#anyPressed=z(()=>this.opts.value.current!==``);get anyPressed(){return K(this.#anyPressed)}set anyPressed(e){V(this.#anyPressed,e)}constructor(e){super(e),this.opts=e}includesItem(e){return this.opts.value.current===e}toggleItem(e,t){this.includesItem(e)?this.opts.value.current=``:(this.opts.value.current=e,this.rovingFocusGroup.setCurrentTabStopId(t))}},Np=class extends jp{opts;isMulti=!0;#anyPressed=z(()=>this.opts.value.current.length>0);get anyPressed(){return K(this.#anyPressed)}set anyPressed(e){V(this.#anyPressed,e)}constructor(e){super(e),this.opts=e}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,t){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(t=>t!==e):(this.opts.value.current=[...this.opts.value.current,e],this.rovingFocusGroup.setCurrentTabStopId(t))}},Pp=class{static create(e){let{type:t,...n}=e,r=t===`single`?new Mp(n):new Np(n);return Ap.set(r)}},Fp=class e{static create(t){return new e(t,Ap.get())}opts;root;attachment;#isDisabled=z(()=>this.opts.disabled.current||this.root.opts.disabled.current);#isPressed=z(()=>this.root.includesItem(this.opts.value.current));get isPressed(){return K(this.#isPressed)}set isPressed(e){V(this.#isPressed,e)}#ariaChecked=z(()=>this.root.isMulti?void 0:Js(this.isPressed,!1));#ariaPressed=z(()=>this.root.isMulti?Ws(this.isPressed):void 0);constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref),Yt(()=>{this.root.opts.rovingFocus.current?V(this.#tabIndex,this.root.rovingFocusGroup.getTabIndex(this.opts.ref.current),!0):V(this.#tabIndex,0)}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#toggleItem(){K(this.#isDisabled)||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onclick(e){K(this.#isDisabled)||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onkeydown(e){if(!K(this.#isDisabled)){if(e.key===`Enter`||e.key===` `){e.preventDefault(),this.#toggleItem();return}this.root.opts.rovingFocus.current&&this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#tabIndex=B(0);#snippetProps=z(()=>({pressed:this.isPressed}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({id:this.opts.id.current,role:this.root.isMulti?void 0:`radio`,tabindex:K(this.#tabIndex),"data-orientation":this.root.opts.orientation.current,"data-disabled":Gs(K(this.#isDisabled)),"data-state":Ip(this.isPressed),"data-value":this.opts.value.current,"aria-pressed":K(this.#ariaPressed),"aria-checked":K(this.#ariaChecked),disabled:Ks(K(this.#isDisabled)),[kp.item]:``,onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}};function Ip(e){return e?`on`:`off`}var Lp=q(`<div><!></div>`);function Rp(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`value`,15),o=Q(t,`onValueChange`,3,dc),s=Q(t,`disabled`,3,!1),c=Q(t,`loop`,3,!0),l=Q(t,`orientation`,3,`horizontal`),u=Q(t,`rovingFocus`,3,!0),d=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`id`,`ref`,`value`,`onValueChange`,`type`,`disabled`,`loop`,`orientation`,`rovingFocus`,`child`,`children`]);function f(){a()===void 0&&a(t.type===`single`?``:[])}f(),Ms.pre(()=>a(),()=>{f()});let p=Pp.create({id:$(()=>r()),value:$(()=>a(),e=>{a(e),o()(e)}),disabled:$(()=>s()),loop:$(()=>c()),orientation:$(()=>l()),rovingFocus:$(()=>u()),type:t.type,ref:$(()=>i(),e=>i(e))}),m=z(()=>$o(d,p.props));var h=J(),g=U(h),_=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(m)})),Y(e,n)},v=e=>{var n=Lp();di(n,()=>({...K(m)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(g,e=>{t.child?e(_):e(v,!1)}),Y(e,h),R()}var zp=q(`<button><!></button>`);function Bp(e,t){let n=yr();L(t,!0);let r=Q(t,`ref`,15,null),i=Q(t,`disabled`,3,!1),a=Q(t,`id`,19,()=>fc(n)),o=Q(t,`type`,3,`button`),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`children`,`child`,`ref`,`value`,`disabled`,`id`,`type`]),c=Fp.create({id:$(()=>a()),value:$(()=>t.value),disabled:$(()=>i()??!1),ref:$(()=>r(),e=>r(e))}),l=z(()=>$o(s,c.props,{type:o()}));var u=J(),d=U(u),f=e=>{var n=J(),r=U(n);{let e=z(()=>({props:K(l),...c.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},p=e=>{var n=zp();di(n,()=>({...K(l)}));var r=H(n);Z(r,()=>t.children??b,()=>c.snippetProps),I(n),Y(e,n)};X(d,e=>{t.child?e(f):e(p,!1)}),Y(e,u),R()}var Vp={immediate:!0},Hp=class{#opts;#interval;#cb;#timer=null;constructor(e,t,n={}){this.#cb=e,this.#interval=t,this.#opts={...Vp,...n},this.stop=this.stop.bind(this),this.start=this.start.bind(this),this.#opts.immediate&&this.start(),ss(this.stop)}#clear(){this.#timer!==null&&(window.clearTimeout(this.#timer),this.#timer=null)}stop(){this.#clear()}start(...e){this.#clear(),this.#timer=window.setTimeout(()=>{this.#timer=null,this.#cb(...e)},this.#interval)}};let Up=Xs({component:`tooltip`,parts:[`content`,`trigger`]});var Wp=new Os(`Tooltip.Provider`),Gp=new Os(`Tooltip.Root`),Kp=class e{static create(t){return Wp.set(new e(t))}opts;#isOpenDelayed=B(!0);get isOpenDelayed(){return K(this.#isOpenDelayed)}set isOpenDelayed(e){V(this.#isOpenDelayed,e,!0)}isPointerInTransit=Ao(!1);#timerFn;#openTooltip=B(null);constructor(e){this.opts=e,this.#timerFn=new Hp(()=>{this.isOpenDelayed=!0},this.opts.skipDelayDuration.current,{immediate:!1})}#startTimer=()=>{this.opts.skipDelayDuration.current!==0&&this.#timerFn.start()};#clearTimer=()=>{this.#timerFn.stop()};onOpen=e=>{K(this.#openTooltip)&&K(this.#openTooltip)!==e&&K(this.#openTooltip).handleClose(),this.#clearTimer(),this.isOpenDelayed=!1,V(this.#openTooltip,e,!0)};onClose=e=>{K(this.#openTooltip)===e&&V(this.#openTooltip,null),this.#startTimer()};isTooltipOpen=e=>K(this.#openTooltip)===e},qp=class e{static create(t){return Gp.set(new e(t,Wp.get()))}opts;provider;#delayDuration=z(()=>this.opts.delayDuration.current??this.provider.opts.delayDuration.current);get delayDuration(){return K(this.#delayDuration)}set delayDuration(e){V(this.#delayDuration,e)}#disableHoverableContent=z(()=>this.opts.disableHoverableContent.current??this.provider.opts.disableHoverableContent.current);get disableHoverableContent(){return K(this.#disableHoverableContent)}set disableHoverableContent(e){V(this.#disableHoverableContent,e)}#disableCloseOnTriggerClick=z(()=>this.opts.disableCloseOnTriggerClick.current??this.provider.opts.disableCloseOnTriggerClick.current);get disableCloseOnTriggerClick(){return K(this.#disableCloseOnTriggerClick)}set disableCloseOnTriggerClick(e){V(this.#disableCloseOnTriggerClick,e)}#disabled=z(()=>this.opts.disabled.current??this.provider.opts.disabled.current);get disabled(){return K(this.#disabled)}set disabled(e){V(this.#disabled,e)}#ignoreNonKeyboardFocus=z(()=>this.opts.ignoreNonKeyboardFocus.current??this.provider.opts.ignoreNonKeyboardFocus.current);get ignoreNonKeyboardFocus(){return K(this.#ignoreNonKeyboardFocus)}set ignoreNonKeyboardFocus(e){V(this.#ignoreNonKeyboardFocus,e)}#contentNode=B(null);get contentNode(){return K(this.#contentNode)}set contentNode(e){V(this.#contentNode,e,!0)}#triggerNode=B(null);get triggerNode(){return K(this.#triggerNode)}set triggerNode(e){V(this.#triggerNode,e,!0)}#wasOpenDelayed=B(!1);#timerFn;#stateAttr=z(()=>this.opts.open.current?K(this.#wasOpenDelayed)?`delayed-open`:`instant-open`:`closed`);get stateAttr(){return K(this.#stateAttr)}set stateAttr(e){V(this.#stateAttr,e)}constructor(e,t){this.opts=e,this.provider=t,this.#timerFn=new Hp(()=>{V(this.#wasOpenDelayed,!0),this.opts.open.current=!0},this.delayDuration??0,{immediate:!1}),new Sc({open:this.opts.open,ref:$(()=>this.contentNode),onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),Ms(()=>this.delayDuration,()=>{this.delayDuration!==void 0&&(this.#timerFn=new Hp(()=>{V(this.#wasOpenDelayed,!0),this.opts.open.current=!0},this.delayDuration,{immediate:!1}))}),Ms(()=>this.opts.open.current,e=>{e?this.provider.onOpen(this):this.provider.onClose(this)})}handleOpen=()=>{this.#timerFn.stop(),V(this.#wasOpenDelayed,!1),this.opts.open.current=!0};handleClose=()=>{this.#timerFn.stop(),this.opts.open.current=!1};#handleDelayedOpen=()=>{this.#timerFn.stop();let e=!this.provider.isOpenDelayed,t=this.delayDuration??0;e||t===0?(V(this.#wasOpenDelayed,t>0&&e,!0),this.opts.open.current=!0):this.#timerFn.start()};onTriggerEnter=()=>{this.#handleDelayedOpen()};onTriggerLeave=()=>{this.disableHoverableContent?this.handleClose():this.#timerFn.stop()}},Jp=class e{static create(t){return new e(t,Gp.get())}opts;root;attachment;#isPointerDown=Ao(!1);#hasPointerMoveOpened=B(!1);#isDisabled=z(()=>this.opts.disabled.current||this.root.disabled);domContext;constructor(e,t){this.opts=e,this.root=t,this.domContext=new Cs(e.ref),this.attachment=ws(this.opts.ref,e=>this.root.triggerNode=e)}handlePointerUp=()=>{this.#isPointerDown.current=!1};#onpointerup=()=>{K(this.#isDisabled)||(this.#isPointerDown.current=!1)};#onpointerdown=()=>{K(this.#isDisabled)||(this.#isPointerDown.current=!0,this.domContext.getDocument().addEventListener(`pointerup`,()=>{this.handlePointerUp()},{once:!0}))};#onpointermove=e=>{K(this.#isDisabled)||e.pointerType!==`touch`&&(K(this.#hasPointerMoveOpened)||this.root.provider.isPointerInTransit.current||(this.root.onTriggerEnter(),V(this.#hasPointerMoveOpened,!0)))};#onpointerleave=()=>{K(this.#isDisabled)||(this.root.onTriggerLeave(),V(this.#hasPointerMoveOpened,!1))};#onfocus=e=>{this.#isPointerDown.current||K(this.#isDisabled)||this.root.ignoreNonKeyboardFocus&&!cc(e.currentTarget)||this.root.handleOpen()};#onblur=()=>{K(this.#isDisabled)||this.root.handleClose()};#onclick=()=>{this.root.disableCloseOnTriggerClick||K(this.#isDisabled)||this.root.handleClose()};#props=z(()=>({id:this.opts.id.current,"aria-describedby":this.root.opts.open.current?this.root.contentNode?.id:void 0,"data-state":this.root.stateAttr,"data-disabled":Gs(K(this.#isDisabled)),"data-delay-duration":`${this.root.delayDuration}`,[Up.trigger]:``,tabindex:K(this.#isDisabled)?void 0:0,disabled:this.opts.disabled.current,onpointerup:this.#onpointerup,onpointerdown:this.#onpointerdown,onpointermove:this.#onpointermove,onpointerleave:this.#onpointerleave,onfocus:this.#onfocus,onblur:this.#onblur,onclick:this.#onclick,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}},Yp=class e{static create(t){return new e(t,Gp.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ws(this.opts.ref,e=>this.root.contentNode=e),new Ff({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.root.contentNode,enabled:()=>this.root.opts.open.current&&!this.root.disableHoverableContent,onPointerExit:()=>{this.root.provider.isTooltipOpen(this.root)&&this.root.handleClose()},setIsPointerInTransit:e=>{this.root.provider.isPointerInTransit.current=e},transitTimeout:this.root.provider.opts.skipDelayDuration.current}),cs(()=>lr(window,`scroll`,e=>{let t=e.target;t&&t.contains(this.root.triggerNode)&&this.root.handleClose()}))}onInteractOutside=e=>{if(sc(e.target)&&this.root.triggerNode?.contains(e.target)&&this.root.disableCloseOnTriggerClick){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()};onEscapeKeydown=e=>{this.opts.onEscapeKeydown.current?.(e),!e.defaultPrevented&&this.root.handleClose()};onOpenAutoFocus=e=>{e.preventDefault()};onCloseAutoFocus=e=>{e.preventDefault()};#snippetProps=z(()=>({open:this.root.opts.open.current}));get snippetProps(){return K(this.#snippetProps)}set snippetProps(e){V(this.#snippetProps,e)}#props=z(()=>({id:this.opts.id.current,"data-state":this.root.stateAttr,"data-disabled":Gs(this.root.disabled),style:{pointerEvents:`auto`,outline:`none`},[Up.content]:``,...this.attachment}));get props(){return K(this.#props)}set props(e){V(this.#props,e)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus}};function Xp(e,t){L(t,!0);let n=Q(t,`open`,15,!1),r=Q(t,`onOpenChange`,3,dc),i=Q(t,`onOpenChangeComplete`,3,dc);qp.create({open:$(()=>n(),e=>{n(e),r()(e)}),delayDuration:$(()=>t.delayDuration),disableCloseOnTriggerClick:$(()=>t.disableCloseOnTriggerClick),disableHoverableContent:$(()=>t.disableHoverableContent),ignoreNonKeyboardFocus:$(()=>t.ignoreNonKeyboardFocus),disabled:$(()=>t.disabled),onOpenChangeComplete:$(()=>i())}),wf(e,{tooltip:!0,children:(e,n)=>{var r=J(),i=U(r);Z(i,()=>t.children??b),Y(e,r)},$$slots:{default:!0}}),R()}var Zp=q(`<div><div><!></div></div>`),Qp=q(`<div><div><!></div></div>`);function $p(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`ref`,15,null),a=Q(t,`side`,3,`top`),o=Q(t,`sideOffset`,3,0),s=Q(t,`align`,3,`center`),c=Q(t,`avoidCollisions`,3,!0),l=Q(t,`arrowPadding`,3,0),u=Q(t,`sticky`,3,`partial`),d=Q(t,`hideWhenDetached`,3,!1),f=Q(t,`collisionPadding`,3,0),p=Q(t,`onInteractOutside`,3,dc),m=Q(t,`onEscapeKeydown`,3,dc),h=Q(t,`forceMount`,3,!1),g=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`children`,`child`,`id`,`ref`,`side`,`sideOffset`,`align`,`avoidCollisions`,`arrowPadding`,`sticky`,`strategy`,`hideWhenDetached`,`collisionPadding`,`onInteractOutside`,`onEscapeKeydown`,`forceMount`]),_=Yp.create({id:$(()=>r()),ref:$(()=>i(),e=>i(e)),onInteractOutside:$(()=>p()),onEscapeKeydown:$(()=>m())}),v=z(()=>({side:a(),sideOffset:o(),align:s(),avoidCollisions:c(),arrowPadding:l(),sticky:u(),hideWhenDetached:d(),collisionPadding:f(),strategy:t.strategy})),y=z(()=>$o(g,K(v),_.props));var x=J(),S=U(x),C=e=>{Pf(e,Di(()=>K(y),()=>_.popperProps,{get enabled(){return _.root.opts.open.current},get id(){return r()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,get ref(){return _.opts.ref},tooltip:!0,popper:(e,n)=>{let r=()=>n?.().props,i=()=>n?.().wrapperProps,a=z(()=>$o(r(),{style:df(`tooltip`)}));var o=J(),s=U(o),c=e=>{var n=J(),r=U(n);{let e=z(()=>({props:K(a),wrapperProps:i(),..._.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},l=e=>{var n=Zp();di(n,()=>({...i()}));var r=H(n);di(r,()=>({...K(a)}));var o=H(r);Z(o,()=>t.children??b),I(r),I(n),Y(e,n)};X(s,e=>{t.child?e(c):e(l,!1)}),Y(e,o)},$$slots:{popper:!0}}))},w=e=>{var n=J(),i=U(n),a=e=>{Nf(e,Di(()=>K(y),()=>_.popperProps,{get open(){return _.root.opts.open.current},get id(){return r()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,get ref(){return _.opts.ref},tooltip:!0,popper:(e,n)=>{let r=()=>n?.().props,i=()=>n?.().wrapperProps,a=z(()=>$o(r(),{style:df(`tooltip`)}));var o=J(),s=U(o),c=e=>{var n=J(),r=U(n);{let e=z(()=>({props:K(a),wrapperProps:i(),..._.snippetProps}));Z(r,()=>t.child,()=>K(e))}Y(e,n)},l=e=>{var n=Qp();di(n,()=>({...i()}));var r=H(n);di(r,()=>({...K(a)}));var o=H(r);Z(o,()=>t.children??b),I(r),I(n),Y(e,n)};X(s,e=>{t.child?e(c):e(l,!1)}),Y(e,o)},$$slots:{popper:!0}}))};X(i,e=>{h()||e(a)},!0),Y(e,n)};X(S,e=>{h()?e(C):e(w,!1)}),Y(e,x),R()}var em=q(`<button><!></button>`);function tm(e,t){let n=yr();L(t,!0);let r=Q(t,`id`,19,()=>fc(n)),i=Q(t,`disabled`,3,!1),a=Q(t,`type`,3,`button`),o=Q(t,`ref`,15,null),s=Ti(t,[`$$slots`,`$$events`,`$$legacy`,`children`,`child`,`id`,`disabled`,`type`,`ref`]),c=Jp.create({id:$(()=>r()),disabled:$(()=>i()??!1),ref:$(()=>o(),e=>o(e))}),l=z(()=>$o(s,c.props,{type:a()}));Df(e,{get id(){return r()},get ref(){return c.opts.ref},tooltip:!0,children:(e,n)=>{var r=J(),i=U(r),a=e=>{var n=J(),r=U(n);Z(r,()=>t.child,()=>({props:K(l)})),Y(e,n)},o=e=>{var n=em();di(n,()=>({...K(l)}));var r=H(n);Z(r,()=>t.children??b),I(n),Y(e,n)};X(i,e=>{t.child?e(a):e(o,!1)}),Y(e,r)},$$slots:{default:!0}}),R()}function nm(e,t){L(t,!0);let n=Q(t,`delayDuration`,3,700),r=Q(t,`disableCloseOnTriggerClick`,3,!1),i=Q(t,`disableHoverableContent`,3,!1),a=Q(t,`disabled`,3,!1),o=Q(t,`ignoreNonKeyboardFocus`,3,!1),s=Q(t,`skipDelayDuration`,3,300);Kp.create({delayDuration:$(()=>n()),disableCloseOnTriggerClick:$(()=>r()),disableHoverableContent:$(()=>i()),disabled:$(()=>a()),ignoreNonKeyboardFocus:$(()=>o()),skipDelayDuration:$(()=>s())});var c=J(),l=U(c);Z(l,()=>t.children??b),Y(e,c),R()}var rm=q(`<span> </span>`),im=q(`<!> <!>`,1);function am(e,t){var n=J(),r=U(n);{let e=z(()=>[t.class||`is-link is-light mr-2`,`button`,t.disabled?`disabled`:``]);Rr(r,()=>nu,(n,r)=>{r(n,{get class(){return K(e)},get onclick(){return t.onclick},get disabled(){return t.disabled},children:(e,n)=>{var r=im(),i=U(r);vo(i,{get icon(){return t.icon}});var a=W(i,2),o=e=>{var n=rm(),r=H(n,!0);I(n),G(()=>br(r,t.label)),Y(e,n)};X(a,e=>{t.label&&e(o)}),Y(e,r)},$$slots:{default:!0}})})}Y(e,n)}var om=class{#mapping;get mapping(){return K(this.#mapping)}set mapping(e){V(this.#mapping,e)}#sources;get sources(){return K(this.#sources)}set sources(e){V(this.#sources,e)}constructor(e,t){this.#mapping=B({}),this.#sources=B({}),this.sources=e||{},this.mapping=t||{}}resolveKey(e){return this.mapping[e.src||e.id]||this.mapping[e.id]||e.src||e.id}resolveField(e,t){return this.sources[e]?.[t]?this.sources[e][t]:``}getImageTitle(e,t=!1){let n=this.resolveKey(e),r=this.resolveField(n,`name`)||n;return t&&(r=r.split(`.`).slice(0,-1).join(`.`),r.length>=16&&(r=r.slice(0,5)+`...`+r.slice(-10))),r}getImageDescription(e){return e===void 0?``:this.resolveField(this.resolveKey(e),`description`)||e.document&&this.resolveField(e.document.uid,`name`)||``}fetchIIIFNames(e){return new Promise(async(t,n)=>{for(let t of e){if(this.sources[t.uid])continue;fetch(t.src).then(e=>e.json()).then(e=>{if(e.metadata===void 0)return t;let n=Object.fromEntries(e.metadata.map(({label:e,value:t})=>[e.toLowerCase(),t]));n.title===void 0&&(n.title=t.name),n.classmark!==void 0&&(n.title=n.classmark+` `+n.title);let r=e.sequences&&e.sequences[0]?.canvases,i=r&&Object.fromEntries(r.map(e=>{let t=e.label||e.title||e.images&&e.images[0].label||e[`@id`]||e.id;return[e.images&&e.images[0].resource&&e.images[0].resource[`@id`]||e[`@id`]||e.id,t]})),a={description:n.title,metadata:n,images:i},o=Object.fromEntries(Object.entries(i).map(([e,t])=>[e,{name:t,metadata:n,source:a}]));this.sources={...this.sources,...o},this.sources[t.uid]=a}),await new Promise(e=>setTimeout(e,300))}})}fetchMetadataNames(e){return fetch(e).then(e=>e.json()).then(e=>{let t=e.sources,n=e.mapping;this.sources={...this.sources,...t},this.mapping={...this.mapping,...n}})}sortImages(e){return e.sort((e,t)=>{let n=this.getImageDescription(e),r=this.getImageDescription(t);return n===r?this.getImageTitle(e).localeCompare(this.getImageTitle(t)):(n||``).localeCompare(r||``)})}},sm={sortImages:e=>e,getImageTitle:e=>e.name||e.id,getImageDescription:e=>e?.document?.name||e?.document?.uid||``,fetchIIIFNames:async e=>{},fetchMetadataNames:async e=>{}};function cm(){return Se(`name_provider`)||sm}function lm(e){Ce(`name_provider`,e)}function um(e){return e.map(e=>{let{tsf_url:t,...n}=e;return{...n,distance:e.num+10}})}var dm=class{#editing;get editing(){return K(this.#editing)}set editing(e){V(this.#editing,e,!0)}#editingCluster;get editingCluster(){return K(this.#editingCluster)}set editingCluster(e){V(this.#editingCluster,e,!0)}#askingCluster;get askingCluster(){return K(this.#askingCluster)}set askingCluster(e){V(this.#askingCluster,e,!0)}#image_selection;get image_selection(){return K(this.#image_selection)}set image_selection(e){V(this.#image_selection,e,!0)}#viewer_sort;get viewer_sort(){return K(this.#viewer_sort)}set viewer_sort(e){V(this.#viewer_sort,e,!0)}#viewer_display;get viewer_display(){return K(this.#viewer_display)}set viewer_display(e){V(this.#viewer_display,e,!0)}#content;get content(){return K(this.#content)}set content(e){V(this.#content,e,!0)}constructor(e,t){this.#editing=B(!1),this.#editingCluster=B(null),this.#askingCluster=B(null),this.#image_selection=B(Et(new rs)),this.#viewer_sort=B(`id`),this.#viewer_display=B(`grid`),this.#content=B(Et({clusters:e.clusters,background_urls:e.background_urls})),this.name_provider=new om,this.base_url=t||``}select_images(e,t){switch(e){case`all`:this.image_selection=new rs(this.content.clusters[this.editingCluster].images.map(e=>e.id));break;case`none`:this.image_selection.clear();break;case`invert`:this.image_selection=new rs(this.content.clusters[this.editingCluster].images.filter(e=>!this.image_selection.has(e.id)).map(e=>e.id));break;case`toggle`:t&&(this.image_selection.has(t.id)?this.image_selection.delete(t.id):this.image_selection.add(t.id));break}}ask_cluster(e,t){this.askingCluster={exclude_cluster_id:t,for_action:e}}ask_cluster_choice(e){switch(this.askingCluster?.for_action){case`cluster_merge`:this.merge_clusters(this.askingCluster.exclude_cluster_id,e);break;case`selection_move`:this.move_images(this.askingCluster.exclude_cluster_id,e);break}this.askingCluster=null}merge_clusters(e,t){let n=this.content.clusters[e],r=this.content.clusters[t],i={...n,images:[...n.images,...um(r.images)]};delete this.content.clusters[t],this.content.clusters[e]=i,this.editingCluster=e}move_images(e,t){let n=this.content.clusters[e],r=um(n.images.filter(e=>this.image_selection.has(e.id)));n.images=n.images.filter(e=>!this.image_selection.has(e.id));let i;if(t==-1){let e=Math.max(...Object.keys(this.content.clusters).map(Number))+1;i={id:e,name:`Cluster `+e,images:r}}else i={...this.content.clusters[t]},i.images.push(...r);this.content.clusters={...this.content.clusters,[i.id]:i},this.editingCluster=null,this.image_selection.clear(),this.askingCluster=null}};function fm(){return Se(`editor_state`)}function pm(e){Ce(`editor_state`,e)}var mm=q(`<span class="has-text-danger"> </span>`),hm=q(`<div class="match-exporter"><!> <!></div>`);function gm(e,t){L(t,!0);let n=B(!1),r=B(null);function i(e){return e?e.toString().replace(/"/g,`""`):``}async function a(){let e=t.iterRows(),n=[];for await(let t of e)n.push(t.map(e=>`"${i(e)}"`).join(`,`));return n.join(`
`)}let o=async()=>{V(n,!0);try{let e=await a(),n=new Blob([e],{type:`text/csv`}),r=URL.createObjectURL(n),i=document.createElement(`a`);i.href=r,i.download=t.filename,i.click()}catch(e){V(r,e.toString(),!0)}finally{V(n,!1)}};var s=hm(),c=H(s);am(c,{icon:`mdi:download`,onclick:o,get disabled(){return K(n)},label:`Export to CSV`});var l=W(c,2),u=e=>{var t=mm(),n=H(t,!0);I(t),G(()=>br(n,K(r))),Y(e,t)};X(l,e=>{K(r)&&e(u)}),I(s),Y(e,s),R()}function _m(e,t){L(t,!0);let n=cm();async function*r(){let e=new Set;t.clusters.forEach(t=>{t.images.forEach(t=>{Object.keys(t.document?.metadata||{}).forEach(t=>e.add(t)),Object.keys(t.metadata||{}).forEach(t=>e.add(t))})}),yield[`Cluster`,`Cluster Name`,`Image`,`Source`,`Document`,`Document URL`,...Array.from(e).map(e=>(e.charAt(0).toUpperCase()+e.slice(1)).replace(/[^\w\s]/g,``))];for(let r of t.clusters)for(let t of r.images){let i=Array.from(e).map(e=>(t.metadata||t.document?.metadata||{})[e]||``);yield[r.id,r.name,n.getImageTitle(t),t.src||t.id,n.getImageDescription(t.document),t.document?.src||``,...i]}}gm(e,{iterRows:r,filename:`cluster.csv`}),R()}function vm(e){if(e.link)return e.link;if(e.metadata?.page&&e.document?.name.startsWith(`cudllibcamacuk`))return`${e.document.src.replace(`/iiif/`,`/view/`)}/${e.metadata.page}`}function ym(e,t){return t<0||e.length<=t?e:t<12?e.slice(0,t)+`...`:e.slice(0,Math.max(5,t-12))+`...`+e.slice(-Math.min(9,t-5))}var bm=q(`<br/> <span> </span>`,1),xm=q(`<span class="tag is-light is-bold mb-3"> </span> <!>`,1),Sm=q(`<p> </p>`),Cm=q(`<!> <!>`,1);function wm(e,t){L(t,!0);let n=Q(t,`isTitle`,3,!1),r=Q(t,`prefix`,3,``),i=Q(t,`filenameDisplay`,3,!0),a=z(()=>n()?`h4`:`span`),o=cm();var s=Cm(),c=U(s);zr(c,()=>K(a),!1,(e,a)=>{di(e,(e,t)=>({class:`title-identification`,title:e,[ni]:t}),[()=>o.getImageTitle(t.image),()=>({"mt-2":n()})]);var s=xm(),c=U(s),l=H(c);I(c);var u=W(c,2),d=e=>{var n=bm(),r=W(U(n),2),i=H(r,!0);I(r),G(e=>br(i,e),[()=>ym(o.getImageTitle(t.image),32)]),Y(e,n)};X(u,e=>{i()&&e(d)}),G(()=>br(l,`${(r()||``)??``}
        Image #${t.image.num??``}`)),Y(a,s)});var l=W(c,2),u=e=>{var n=Sm(),r=H(n,!0);I(n),G(e=>br(r,e),[()=>o.getImageDescription(t.image)||t.image.document?.name||t.image.subtitle||``]),Y(e,n)};X(l,e=>{n()&&e(u)}),Y(e,s),R()}function Tm(){return Se(`magnify`)}function Em(e){Ce(`magnify`,e)}var Dm=e=>e.stopPropagation(),Om=q(`<p><a target="_blank">See in context</a></p>`),km=q(`<div class="magnifying-item"><div class="display-image"><img class="display-img"/></div> <div class="magnifying-info"><!> <!></div></div>`),Am=e=>e.stopPropagation(),jm=q(`<p><a target="_blank">See in context</a></p>`),Mm=q(`<div class="magnifying-content"><!>  <div class="magnifying-item"><div class="display-image"><img/></div> <div class="magnifying-info"><!> <p class="actions my-2"><!> <!> <!></p> <!></div></div></div>`),Nm=q(`<div><!> <!> <!></div>`);function Pm(e,t){L(t,!0);let n=z(Tm),r=z(()=>K(n).image),i=z(()=>K(n).comparison),a=z(()=>K(n).transpositions),o=z(()=>K(a)||[]),s=z(()=>K(r)&&vm(K(r))),c=z(()=>K(i)&&vm(K(i)));function l(){return K(r)!==void 0}function u(e){e||(K(n).image=void 0)}function d(e,t){let n=K(o).find(e=>e&&e.startsWith(`rot`)),r=K(o).includes(`hflip`),i=n?parseInt(n.slice(3)):0,a=i;t&&i%180&&(a+=180),a=(a+e+360)%360;let s=[];a&&s.push(`rot${a}`),t!==r&&s.push(`hflip`),V(o,s)}var f=J(),p=U(f),m=e=>{var t=J(),n=U(t),a=l,f=u;Rr(n,()=>Hf,(e,t)=>{t(e,{get open(){return a()},set open(e){f(e)},onOpenChange:u,children:(e,t)=>{var n=J(),a=U(n);Rr(a,()=>zc,(e,t)=>{t(e,{children:(e,t)=>{var n=Nm();let a;var f=H(n);Rr(f,()=>tu,(e,t)=>{t(e,{class:`modal-background`})});var p=W(f,2);am(p,{icon:`mdi:close`,class:`dialog-close`,onclick:()=>u(!1)});var m=W(p,2);Rr(m,()=>qf,(e,t)=>{t(e,{class:`magnifier modal-content`,children:(e,t)=>{var n=Mm(),a=H(n),l=e=>{var t=km();t.__click=[Dm];var n=H(t),r=H(n);I(n);var a=W(n,2),o=H(a);wm(o,{get image(){return K(i)},isTitle:!0,prefix:`Query`});var s=W(o,2),l=e=>{var t=Om(),n=H(t);I(t),G(()=>li(n,`href`,K(c))),Y(e,t)};X(s,e=>{K(c)&&e(l)}),I(a),I(t),G(()=>{li(r,`src`,K(i).url),li(r,`alt`,K(i).id)}),Y(e,t)};X(a,e=>{K(i)&&e(l)});var u=W(a,2);u.__click=[Am];var f=H(u),p=H(f);I(f);var m=W(f,2),h=H(m);wm(h,{get image(){return K(r)},isTitle:!0});var g=W(h,2),_=H(g);am(_,{icon:`mdi:rotate-left`,onclick:()=>d(-90,!1)});var v=W(_,2);am(v,{icon:`mdi:rotate-right`,onclick:()=>d(90,!1)});var y=W(v,2);am(y,{icon:`mdi:flip-horizontal`,onclick:()=>d(0,!0)}),I(g);var b=W(g,2),x=e=>{var t=jm(),n=H(t);I(t),G(()=>li(n,`href`,K(s))),Y(e,t)};X(b,e=>{K(s)&&e(x)}),I(m),I(u),I(n),G(e=>{li(p,`src`,K(r).url),li(p,`alt`,K(r).id),Yr(p,1,e)},[()=>`display-img `+K(o).join(` `)]),Y(e,n)},$$slots:{default:!0}})}),I(n),G(e=>a=Yr(n,1,`modal content`,null,a,e),[()=>({"is-active":l()})]),Y(e,n)},$$slots:{default:!0}})}),Y(e,n)},$$slots:{default:!0}})}),Y(e,t)};X(p,e=>{K(r)&&e(m)}),Y(e,f),R()}dr([`click`]);var Fm=e=>e.stopPropagation(),Im=q(`<a class="image-source" target="_blank" title="See in context"><!></a>`),Lm=q(`<a href="javascript:void(0)" class="image-pin" title="Pin as comparison"><!></a>`),Rm=q(`<a href="javascript:void(0)" class="image-pin always-visible" title="Pin as comparison"><!></a>`),zm=q(`<a href="javascript:void(0)" class="image-magnify" title="Magnify"><!></a>`),Bm=q(`<a class="image-focus" title="Show detail"><!></a>`),Vm=q(`<div class="display-tools"><!> <!> <!> <!></div>`),Hm=q(`<span class="similarity"> </span>`),Um=q(`<div class="display-image"><img/></div> <!> <!>`,1),Wm=q(`<div class="display-image"><img/></div> <!>`,1),Gm=q(`<!> <!>`,1);function Km(e,t){L(t,!0);let n=Tm(),r=z(()=>n.comparison?.id===t.image.id);function i(){n.comparison=K(r)?void 0:t.image}function a(){n.image=t.image,n.transpositions=t.transpositions,t.comparison&&(n.comparison=t.comparison)}var o=J(),s=U(o);Rr(s,()=>nm,(e,o)=>{o(e,{delayDuration:0,children:(e,o)=>{var s=J(),c=U(s);Rr(c,()=>Xp,(e,o)=>{o(e,{children:(e,o)=>{var s=Gm(),c=U(s);Rr(c,()=>tm,(e,o)=>{o(e,{class:`not-button display-item`,children:(e,o)=>{var s=Um(),c=U(s),l=H(c);l.__click=function(...e){(!t.disable_magnify&&!t.disable_all?a:void 0)?.apply(this,e)},I(c);var u=W(c,2),d=e=>{var o=Vm();o.__click=[Fm];var s=H(o),c=e=>{var n=Im(),r=H(n);vo(r,{icon:`mdi:book-open-blank-variant`}),I(n),G(()=>li(n,`href`,t.image.link)),Y(e,n)};X(s,e=>{t.image.link&&e(c)});var l=W(s,2),u=e=>{var t=J(),n=U(t),a=e=>{var t=Lm(),n=H(t);vo(n,{icon:`mdi:pin`,onclick:i}),I(t),Y(e,t)},o=e=>{var t=Rm(),n=H(t);vo(n,{icon:`mdi:pin-off`,onclick:i}),I(t),Y(e,t)};X(n,e=>{K(r)?e(o,!1):e(a)}),Y(e,t)};X(l,e=>{n&&!t.disable_pin&&e(u)});var d=W(l,2),f=e=>{var t=zm();t.__click=a;var n=H(t);vo(n,{icon:`mdi:arrow-expand`}),I(t),Y(e,t)};X(d,e=>{n&&e(f)});var p=W(d,2),m=e=>{var n=Bm(),r=H(n);vo(r,{icon:`mdi:image-search`}),I(n),G(()=>li(n,`href`,t.href)),Y(e,n)};X(p,e=>{t.href&&e(m)}),I(o),Y(e,o)};X(u,e=>{t.disable_all||e(d)});var f=W(u,2),p=e=>{var n=Hm(),r=H(n,!0);I(n),G(()=>br(r,t.similarity)),Y(e,n)};X(f,e=>{t.similarity&&e(p)}),G(e=>{li(l,`src`,t.image.url),li(l,`alt`,t.image.id),Yr(l,1,e)},[()=>`image display-img `+(t.transpositions||[]).join(` `)]),Y(e,s)},$$slots:{default:!0}})});var l=W(c,2);Rr(l,()=>$p,(e,n)=>{n(e,{class:`tooltip`,children:(e,n)=>{var r=Wm(),i=U(r),a=H(i);I(i);var o=W(i,2);wm(o,{get image(){return t.image},isTitle:!0}),G(e=>{li(a,`src`,t.image.url),li(a,`alt`,t.image.id),Yr(a,1,e)},[()=>Ur([`display-img`,...t.transpositions||[]])]),Y(e,r)},$$slots:{default:!0}})}),Y(e,s)},$$slots:{default:!0}})}),Y(e,s)},$$slots:{default:!0}})}),Y(e,o),R()}dr([`click`]);var qm=(e,t,n)=>t(K(n)),Jm=q(`<a href="javascript:void(0)" class="cl-selecter" aria-label="Select image"></a>`),Ym=q(`<div><!> <!></div>`),Xm=q(`<p>â</p>`),Zm=(e,t,n)=>{t(!t()),t()&&n.onexpand?.()},Qm=q(`<a class="cl-more card cl-placeholder" href="javascript:void(0)"> </a>`),$m=q(`<div><!> <!></div>`);function eh(e,t){L(t,!0);let n=Q(t,`selectable`,3,!1),r=Q(t,`expanded`,15,!1),i=fm();function a(e){i.select_images(`toggle`,e)}var o=$m();let s;var c=H(o);jr(c,17,()=>t.images.slice(0,t.limit),e=>e.id,(e,r)=>{var o=Ym();let s;var c=H(o);{let e=z(()=>({...K(r),id:K(r).num.toString(),url:(i.base_url||``)+(t.dti_transformed&&K(r).tsf_url?K(r).tsf_url:K(r).url)}));Km(c,{get image(){return K(e)},get disable_magnify(){return n()},get disable_all(){return t.disable_all}})}var l=W(c,2),u=e=>{var t=Jm();t.__click=[qm,a,r],Y(e,t)};X(l,e=>{n()&&e(u)}),I(o),G(e=>s=Yr(o,1,`cl-image card`,null,s,e),[()=>({"cl-selected":n()&&i.image_selection.has(K(r).id)})]),Y(e,o)},e=>{var t=Xm();Y(e,t)});var l=W(c,2),u=e=>{var n=Qm();n.__click=[Zm,r,t];var i=H(n);I(n),G(()=>br(i,`${r()?`â`:`+`}${t.images.length-t.limit}`)),Y(e,n)};X(l,e=>{n()&&t.limit&&t.images.length>t.limit&&e(u)}),I(o),G(e=>s=Yr(o,1,`cl-images`,null,s,e),[()=>({"cl-selectable":n()})]),Y(e,o),R()}dr([`click`]);var th=q(`<h3> </h3> <p><!></p>`,1),nh=q(`<form><input type="text"/> <a href="javascript:void(0)" class="btn"><!></a></form>`),rh=(e,t)=>{V(t,!0)},ih=q(`<a href="javascript:void(0)" class="btn is-edit" title="Rename"><!></a>`),ah=q(`<span> </span> <!>`,1),oh=q(`<!> <!>`,1),sh=q(`<p><!></p>`),ch=q(`<p><!></p>`),lh=q(`<div class="cl-propinfo"><div class="cl-cluster-title"><!></div> <p> </p> <!></div>`),uh=q(`<div class="cl-protoinfo"><p><!></p> <div class="cl-proto"><img alt="cl-proto" class="prototype"/></div></div>`),dh=(e,t)=>t(!0),fh=q(`<a class="cl-overlay cl-hoveroptions" href="javascript:void(0)"><!> <!></a>`),ph=q(`<div><div class="cl-anchor"></div> <div class="cl-props"><div class="cl-propcontent"><!> <!></div> <!></div> <div class="cl-samples"><!></div></div>`);function mh(e,t){L(t,!0);let n=Q(t,`cluster`,7),r=Q(t,`expanded`,7,!1),i=Q(t,`editing`,15,!1),a=Q(t,`editable`,3,!1),o=Q(t,`dti_transformed`,15,!1),s=Q(t,`thumbnail`,3,!1),c=Q(t,`selected`,3,!1),l=B(!1),u=B(void 0),d=B(void 0),f=fm(),p=cm(),m={grid:8,rows:18},h=z(()=>m[f.viewer_display]),g=B(Et([]));function _(e){e.preventDefault();let t=K(d)?.value;t&&(n().name=t),V(l,!1)}function v(){f.ask_cluster(`cluster_merge`,n().id)}let y=()=>{setTimeout(()=>K(u)?.scrollIntoView({behavior:`smooth`,block:`center`}),100)};Yt(()=>{i()&&y()}),Yt(()=>{n().images.length,V(g,p.sortImages(n().images),!0)});var b=ph();let x;var S=H(b);bi(S,e=>V(u,e),()=>K(u));var C=W(S,2),w=H(C),T=H(w),E=e=>{var t=th(),r=U(t),i=H(r,!0);I(r);var a=W(r,2),o=H(a),s=e=>{var t=vr();G(()=>br(t,`Cluster #${n().id??``}, ${n().images.length??``} images`)),Y(e,t)};X(o,e=>{n().id>=0&&e(s)}),I(a),G(()=>br(i,n().name)),Y(e,t)},D=e=>{var t=lh(),r=H(t),o=H(r),s=e=>{var t=nh(),r=H(t);zt(r,!0),bi(r,e=>V(d,e),()=>K(d));var i=W(r,2);i.__click=_;var a=H(i);vo(a,{icon:`mdi:check-bold`}),I(i),I(t),G(()=>r.defaultValue=n().name),ur(`submit`,t,_),Y(e,t)},c=e=>{var t=ah(),r=U(t),a=H(r,!0);I(r);var o=W(r,2),s=e=>{var t=ih();t.__click=[rh,l];var n=H(t);vo(n,{icon:`mdi:edit`}),I(t),Y(e,t)};X(o,e=>{i()&&e(s)}),G(()=>br(a,n().name)),Y(e,t)};X(o,e=>{K(l)&&i()?e(s):e(c,!1)}),I(r);var u=W(r,2),f=H(u,!0);I(u);var p=W(u,2),m=e=>{var t=sh(),n=H(t),r=e=>{var t=oh(),n=U(t);am(n,{icon:`mdi:merge`,label:`Merge cluster with...`,onclick:v});var r=W(n,2);am(r,{icon:`mdi:check-bold`,label:`End edition`,onclick:()=>i(!1)}),Y(e,t)},a=e=>{am(e,{icon:`mdi:edit`,label:`Edit cluster`,onclick:()=>i(!0)})};X(n,e=>{i()?e(r):e(a,!1)}),I(t),Y(e,t)},h=e=>{var t=ch(),r=H(t);{let e=z(()=>[n()]);_m(r,{get clusters(){return K(e)}})}I(t),Y(e,t)};X(p,e=>{a()?e(m):e(h,!1)}),I(t),G(()=>br(f,n().id>=0&&`Cluster #${n().id}, ${n().images.length} images`)),Y(e,t)};X(T,e=>{s()?e(E):e(D,!1)});var O=W(T,2),k=e=>{var t=uh(),r=H(t),i=H(r),a=e=>{am(e,{icon:`mdi:image`,class:`is-outline`,label:`Show images`,onclick:()=>{o(!1)}})},s=e=>{am(e,{icon:`mdi:panorama-variant`,class:`is-outline`,label:`Show protos`,onclick:()=>{o(!0)}})};X(i,e=>{o()?e(a):e(s,!1)}),I(r);var c=W(r,2),l=H(c);I(c),I(t),G(()=>li(l,`src`,(f.base_url||``)+n().proto_url)),Y(e,t)};X(O,e=>{!s()&&n().proto_url&&e(k)}),I(w);var A=W(w,2),ee=e=>{var t=fh();t.__click=[dh,i];var n=H(t);am(n,{icon:`mdi:edit`,label:`Edit cluster`});var r=W(n,2);am(r,{icon:`mdi:merge`,label:`Merge with...`,onclick:e=>{e.stopPropagation(),v()}}),I(t),Y(e,t)};X(A,e=>{a()&&!i()&&e(ee)}),I(C);var j=W(C,2),te=H(j);{let e=z(()=>r()&&!i()?void 0:K(h));eh(te,{get selectable(){return i()},get images(){return K(g)},get dti_transformed(){return o()},get limit(){return K(e)},onexpand:()=>y(),get disable_all(){return s()},get expanded(){return r()},set expanded(e){r(e)}})}I(j),I(b),G(e=>x=Yr(b,1,`cl-cluster box`,null,x,e),[()=>({"cl-expanded":r()||i(),"cl-selected":c()||i()})]),Y(e,b),R()}dr([`click`]);var hh=(e,t,n)=>V(t,K(n),!0),gh=q(`<div class="cl-ask-cluster"><a href="javascript:void(0)"><!></a></div>`),_h=q(`<div class="modal-card-head"><!> <!></div> <div class="modal-card-body"><div class="cl-ask-cluster"><!></div> <div class="cl-ask-select"><div class="cl-ask-list"></div></div></div> <div class="modal-card-foot cl-modale-actions"><p><!> <!></p></div>`,1),vh=q(`<div><!> <!></div>`);function yh(e,t){L(t,!0);let n=B(null),r=B(!0),i=fm(),a=z(()=>i.content.clusters[t.exclude_cluster_id]),o=z(()=>t.for_action==`cluster_merge`?{action_icon:`mdi:merge`,action_label:`Merge whole clusters`,action_title:`Select target cluster to merge with:`,action_cluster:{...K(a),name:`Selected cluster: `+K(a)?.name}}:{action_icon:`mdi:folder-move`,action_label:`Move selected images to...`,action_title:`Select target cluster to move images:`,action_cluster:{id:-1,name:`Selected images`,images:i.content.clusters[t.exclude_cluster_id]?.images.filter(e=>i.image_selection.has(e.id))??[]}}),s=z(()=>K(o).action_icon),c=z(()=>K(o).action_label),l=z(()=>K(o).action_title),u=z(()=>K(o).action_cluster),d=z(()=>[...t.clusters.filter(e=>e.id!=t.exclude_cluster_id),...t.for_action==`selection_move`?[{id:-1,name:`New cluster`,images:[]}]:[]]);function f(){i.ask_cluster_choice(K(n).id)}function p(){return i.askingCluster!==null}function m(e){i.askingCluster=e?i.askingCluster:null}var h=J(),g=U(h),_=p,v=m;Rr(g,()=>Hf,(e,t)=>{t(e,{get open(){return _()},set open(e){v(e)},children:(e,t)=>{var a=J(),o=U(a);Rr(o,()=>zc,(e,t)=>{t(e,{children:(e,t)=>{var a=vh();let o;var m=H(a);Rr(m,()=>tu,(e,t)=>{t(e,{class:`modal-background`})});var h=W(m,2);Rr(h,()=>qf,(e,t)=>{t(e,{class:`modal-card cl-ask-modal`,children:(e,t)=>{var a=_h(),o=U(a),p=H(o);Rr(p,()=>jc,(e,t)=>{t(e,{class:`modal-card-title`,children:(e,t)=>{pe();var n=vr();G(()=>br(n,K(l))),Y(e,n)},$$slots:{default:!0}})});var m=W(p,2);Rr(m,()=>Wf,(e,t)=>{t(e,{class:`modal-card-close`,children:(e,t)=>{vo(e,{icon:`mdi:close`,onclick:()=>V(r,!1)})},$$slots:{default:!0}})}),I(o);var h=W(o,2),g=H(h),_=H(g),v=e=>{mh(e,{thumbnail:!0,get cluster(){return K(u)},selected:!0})};X(_,e=>{K(u).id!==void 0&&e(v)}),I(g);var y=W(g,2),b=H(y);jr(b,21,()=>K(d),e=>e.id,(e,t,r,i)=>{var a=gh(),o=H(a);o.__click=[hh,n,t];var s=H(o);{let e=z(()=>K(n)?.id==K(t).id);mh(s,{thumbnail:!0,get cluster(){return K(t)},get selected(){return K(e)}})}I(o),I(a),Y(e,a)}),I(b),I(y),I(h);var x=W(h,2),S=H(x),C=H(S);am(C,{onclick:()=>{i.askingCluster=null},icon:`mdi:close`,label:`Cancel`,class:`is-outline`});var w=W(C,2);{let e=z(()=>K(n)===null);am(w,{onclick:f,get icon(){return K(s)},get label(){return K(c)},get disabled(){return K(e)}})}I(S),I(x),Y(e,a)},$$slots:{default:!0}})}),I(a),G(e=>o=Yr(a,1,`modal`,null,o,e),[()=>({"is-active":p()})]),Y(e,a)},$$slots:{default:!0}})}),Y(e,a)},$$slots:{default:!0}})}),Y(e,h),R()}dr([`click`]);var bh=q(`<!> <!>`,1),xh=q(`<div class="toolbar-item toolbar-btn"><label class="label">Actions on selection:</label> <!></div>`),Sh=q(`<div class="toolbar-item cl-select-tools"><label class="label"> </label> <div class="field"><!></div></div> <!>`,1),Ch=q(`<div class="toolbar-content cl-editor-tools"><!> <div class="toolbar-item toolbar-btn"><!></div> <div class="toolbar-item toolbar-btn"><!></div></div>`),wh=q(`<div><div class="toolbar cl-editor-toolbar"><div class="toolbar-content"><h2> </h2> <div class="toolbar-item"><label class="label">Sort by:</label> <div class="field is-narrow"><div class="select"><select><option>Size</option><option>ID</option><option>Name</option></select></div></div></div> <div class="toolbar-item"><label class="label">Display:</label> <div class="field is-narrow"><div class="select"><select><option>Grid</option><option>Rows</option></select></div></div></div> <!></div></div> <div><!> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div></div> <!></div> <!>`,1);function Th(e,t){L(t,!0);let n=Q(t,`formfield`,7),r=Et(new dm(t.clustering_data,t.base_url));pm(r);let i=Et({});Tm()||Em(i);let a=z(()=>({size:(e,t)=>t.images.length-e.images.length,id:(e,t)=>e.id-t.id,name:(e,t)=>e.name.localeCompare(t.name)})[r.viewer_sort]),o=z(()=>Object.values(r.content.clusters).sort(K(a)));function s(){n()&&(n().value=JSON.stringify(r.content),n().form?.submit()),r.editing=!1}var c=wh(),l=U(c);let u;var d=H(l),f=H(d),p=H(f),m=H(p);I(p);var h=W(p,2),g=W(H(h),2),_=H(g),v=H(_),y=H(v);y.value=y.__value=`size`;var b=W(y);b.value=b.__value=`id`;var x=W(b);x.value=x.__value=`name`,I(v),I(_),I(g),I(h);var S=W(h,2),C=W(H(S),2),w=H(C),T=H(w),E=H(T);E.value=E.__value=`grid`;var D=W(E);D.value=D.__value=`rows`,I(T),I(w),I(C),I(S);var O=W(S,2),k=e=>{var t=Ch(),i=H(t),a=e=>{var t=Sh(),n=U(t),i=H(n),a=H(i);I(i);var o=W(i,2),s=H(o),c=e=>{am(e,{onclick:()=>{r.select_images(`all`)},icon:`mdi:select-all`,label:`All`})},l=e=>{var t=bh(),n=U(t);am(n,{onclick:()=>{r.select_images(`none`)},icon:`mdi:close`,label:`Clear`});var i=W(n,2);am(i,{onclick:()=>{r.select_images(`invert`)},icon:`mdi:select-inverse`,label:`Invert`}),Y(e,t)};X(s,e=>{r.image_selection.size==0?e(c):e(l,!1)}),I(o),I(n);var u=W(n,2),d=e=>{var t=xh(),n=W(H(t),2);am(n,{onclick:()=>{r.ask_cluster(`selection_move`,r.editingCluster)},icon:`mdi:folder-move`,label:`Move to cluster...`}),I(t),Y(e,t)};X(u,e=>{r.image_selection.size>0&&e(d)}),G(()=>br(a,`Selection (${r.image_selection.size??``}):`)),Y(e,t)};X(i,e=>{r.editingCluster!==null&&e(a)});var c=W(i,2),l=H(c),u=e=>{{let t=z(()=>n()?`Save`:`Apply`);am(e,{onclick:s,icon:`mdi:content-save`,class:`big is-link`,get label(){return K(t)}})}},d=e=>{am(e,{onclick:()=>{r.editing=!0},class:`big is-link`,icon:`mdi:edit`,label:`Edit`})};X(l,e=>{r.editing?e(u):e(d,!1)}),I(c);var f=W(c,2),p=H(f);_m(p,{get clusters(){return K(o)}}),I(f),I(t),Y(e,t)};X(O,e=>{t.editable&&e(k)}),I(f),I(d);var A=W(d,2),ee=H(A);jr(ee,17,()=>K(o),e=>e.id,(e,t)=>{var n=()=>r.editingCluster==K(t).id,i=e=>r.editingCluster=e?K(t).id:null;mh(e,{get editing(){return n()},set editing(e){i(e)},get cluster(){return K(t)},get editable(){return r.editing}})}),pe(10),I(A);var j=W(A,2),te=e=>{yh(e,Di(()=>r.askingCluster,{get clusters(){return K(o)}}))};X(j,e=>{r.askingCluster!==null&&e(te)}),I(l);var ne=W(l,2);Pm(ne,{}),G(e=>{u=Yr(l,1,``,null,u,e),br(m,`Cluster ${r.editing?`Editor`:`Viewer`}`),Yr(A,1,`cl-cluster-list cl-display-`+r.viewer_display)},[()=>({"cl-editor":r.editing})]),ei(v,()=>r.viewer_sort,e=>r.viewer_sort=e),ei(T,()=>r.viewer_display,e=>r.viewer_display=e),Y(e,c),R()}function Eh(e){return{...e,id:e.path,num:e.id,url:e.raw_url}}function Dh(e){return{clusters:Object.fromEntries(Object.entries(e.clusters).map(([e,t])=>[parseInt(e),{...t,images:t.images.map(Eh)}])),background_urls:e.background_urls}}var Oh=q(`<div><span class="label"> </span> <progress class="progress is-link bar"></progress></div>`),kh=q(`<div class="tck-bar-list"></div>`),Ah=q(`<span> </span> <!> <pre> </pre>`,1),jh=q(`<div class="tck-progress"><!></div>`);function Mh(e,t){L(t,!0);let n=B(null),r=z(()=>K(n)?.log?.errors?.join(`
`)),i;function a(){fetch(t.tracking_url).then(e=>e.json()).then(e=>{V(n,e,!0),K(n).is_finished?window.location.reload():i=setTimeout(a,1e3)}).catch(e=>{e=e.toString(),i=setTimeout(a,1e3)})}Yt(()=>(a(),()=>clearTimeout(i)));var o=jh(),s=H(o),c=e=>{var t=vr();G(()=>br(t,K(r))),Y(e,t)},l=e=>{var t=J(),r=U(t),i=e=>{var t=vr(`Done!`);Y(e,t)},a=e=>{var t=J(),r=U(t),i=e=>{var t=vr(`Loading...`);Y(e,t)},a=e=>{var t=Ah(),r=U(t),i=H(r,!0);I(r);var a=W(r,2),o=e=>{var t=kh();jr(t,21,()=>K(n).log.progress,kr,(e,t)=>{var n=Oh(),r=H(n),i=H(r);I(r);var a=W(r,2);I(n),G(()=>{br(i,`${K(t).context??``} ${K(t).current??``}/${K(t).total??``}`),si(a,K(t).current),li(a,`max`,K(t).total)}),Y(e,n)}),I(t),Y(e,t)};X(a,e=>{K(n).log?.progress&&e(o)});var s=W(a,2),c=H(s,!0);I(s),G(e=>{Yr(r,1,`mb-3 tag status status-${K(n).status??``}`),br(i,K(n).status),br(c,e)},[()=>K(n).status==`PENDING`?`Waiting for worker...`:K(n).log?.infos?.join(`
`)]),Y(e,t)};X(r,e=>{K(n)===null?e(i):e(a,!1)},!0),Y(e,t)};X(r,e=>{K(n)?.is_finished?e(i):e(a,!1)},!0),Y(e,t)};X(s,e=>{K(r)?e(c):e(l,!1)}),I(o),Y(e,o),R()}function Nh(e){let t=Object.fromEntries(Object.entries(e.sources).map(([e,t])=>[e,{name:t.metadata?.name||t.uid,...t}])),n=e.images.map((e,n)=>({id:e.id,num:n,src:e.src,url:e.url,document:t[e.doc_uid],metadata:e.metadata||{}}));return{sources:Object.values(t),images:n,transpositions:e.transpositions||[`none`]}}function Ph(e,t){let n=Nh(t),r=n.images.map(()=>[]);return e.forEach(([e,t,n])=>{r[t].push({similarity:n,best_source_flip:0,best_query_flip:0,query_index:t,source_index:e}),r[e].push({similarity:n,best_source_flip:0,best_query_flip:0,query_index:e,source_index:t})}),{matches:Fh(r,n,n),index:n}}function Fh(e,t,n){let r=[];for(let i=0;i<e.length;i++){let a=n.images[i],o=e[i].map(e=>({image:t.images[e.source_index],similarity:e.similarity,q_transposition:n.transpositions[e.best_query_flip],m_transposition:t.transpositions[e.best_source_flip]})).sort((e,t)=>t.similarity-e.similarity),s={},c=[];o.forEach(e=>{if(!s[e.image.document.uid]){let t=[];s[e.image.document.uid]=t,c.push(t)}s[e.image.document.uid].push(e)}),r.push({query:a,matches:o,matches_by_document:c})}return r.sort((e,t)=>t.matches[0].similarity-e.matches[0].similarity)}function Ih(e,t){console.log(t,e);let n=Nh(e),r=Nh(t.query),i=r.images.map(()=>[]);t.pairs.forEach(([e,t,n])=>{i[t].push({similarity:n,best_source_flip:0,best_query_flip:0,query_index:t,source_index:e})});let a=Fh(i,n,r);return{source_index:n,query_index:r,matches:a}}async function Lh(e,t,n){let r=new Map;for(let n of e.edges){if(n.weight<t)continue;let e=r.get(n.source)||r.get(n.target)||{id:n.source};for(;e?.merged;)e=e.merged;let i=r.get(n.target);for(;i?.merged;)i=i.merged;i&&e!==i&&(i.merged=e),r.set(n.source,e),r.set(n.target,e)}let i=new Map,a=[];for(let e=0;e<n;e++){let t=r.get(e);for(;t?.merged;)t=t.merged;if(!t){a.push(e);continue}i.has(t.id)||i.set(t.id,{id:i.size,members:[]}),i.get(t.id).members.push(e)}return a.length>0&&i.set(-1,{id:-1,members:a}),Array.from(i.values())}function Rh(e,t){let n=[],r=new Map;for(let[t,n]of e.images.entries())r.set(n.id,t);for(let e of t){let t=r.get(e.query.id);for(let i of e.matches){let e=r.get(i.image.id);n.push({source:t,target:e,weight:i.similarity})}}return{edges:n}}function zh(e,t,n){let r=new Map;for(let e of n)r.set(e.id,e);let i=new Map;for(let[t,n]of r){let a=n.members.map(t=>{let n=e.images[t];return{...n,raw_url:n.url,path:n.url,name:n.name||``}}),o=t>=0?t+1:r.size+1;i.set(o,{id:o,name:t>=0?`Cluster ${t+1}`:`Unclustered`,images:a})}return{clusters:Object.fromEntries(i),background_urls:e.sources.map(e=>e.src)}}var Bh=q(`<div class="cl-image card"><!></div>`),Vh=q(`<p>â</p>`),Hh=q(`<div class="cl-cluster box"><div class="cl-anchor"></div> <div class="cl-props"><div class="cl-propcontent"><div class="cl-propinfo"><p class="cl-cluster-title"><span> </span></p></div></div></div> <div class="cl-samples"><div class="cl-images cl-limitheight"></div></div></div>`);function Uh(e,t){L(t,!0);var n=Hh(),r=W(H(n),2),i=H(r),a=H(i),o=H(a),s=H(o),c=H(s);I(s),I(o),I(a),I(i),I(r);var l=W(r,2),u=H(l);jr(u,20,()=>t.cluster.members,e=>e,(e,n)=>{var r=Bh(),i=H(r);Km(i,{get image(){return t.index.images[n]}}),I(r),Y(e,r)},e=>{var t=Vh();Y(e,t)}),I(u),I(l),I(n),G(()=>br(c,`${t.cluster.id>=0?`Cluster ${t.cluster.id}`:`Unclustered`} (${t.cluster.members.length??``})`)),Y(e,n),R()}var Wh=q(`<div class="toolbar-item"><label class="label is-expanded" for="clustering-threshold">Clustering threshold:</label> <div class="field"><div class="control"><input type="range"/></div> <div class="control"><input type="number" class="input" id="clustering-threshold"/></div></div></div>`),Gh=q(`<div class="toolbar"><div class="toolbar-content"><!> <!> <div class="toolbar-item toolbar-btn"><!></div></div></div>`),Kh=q(`<p>Clustering in progress...</p>`),qh=q(`<!> <div><!> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div> <div class="cl-cluster box cl-filler"></div></div>`,1),Jh=q(`<!> <div><!></div> <div class="mt-4"></div>`,1);function Yh(e,t){L(t,!0);let n=B(!1),r=z(()=>Math.min(...t.matches.map(e=>Math.min(...e.matches.map(e=>e.similarity))))),i=z(()=>Math.max(...t.matches.map(e=>Math.max(...e.matches.map(e=>e.similarity))))),a=B(K(r)+.8*(K(i)-K(r))),o=Rh(t.index,t.matches),s=B(Et([])),c=B(null);Yt(()=>{K(a),Kn(()=>{K(c)&&clearTimeout(K(c)),V(c,setTimeout(()=>{Lh(o,K(a),t.index.images.length).then(e=>{V(s,e,!0),V(c,null)})},300),!0)})});var l=Jh(),u=U(l),d=e=>{var o=Gh(),s=H(o),c=H(s),l=e=>{var n=J(),r=U(n);Z(r,()=>t.extra_toolbar_items),Y(e,n)};X(c,e=>{t.extra_toolbar_items&&e(l)});var u=W(c,2),d=e=>{var t=Wh(),n=W(H(t),2),o=H(n),s=H(o);oi(s),li(s,`step`,.001),I(o);var c=W(o,2),l=H(c);oi(l),I(c),I(n),I(t),G(()=>{li(s,`min`,K(r)),li(s,`max`,K(i))}),hi(s,()=>K(a),e=>V(a,e)),hi(l,()=>K(a),e=>V(a,e)),Y(e,t)};X(u,e=>{K(n)||e(d)});var f=W(u,2),p=H(f),m=e=>{am(e,{icon:`mdi:autorenew`,onclick:()=>V(n,!1),label:`Redo automatic clustering`})},h=e=>{am(e,{class:`is-link`,icon:`mdi:check-bold`,onclick:()=>V(n,!0),label:`Apply clustering`})};X(p,e=>{K(n)?e(m):e(h,!1)}),I(f),I(s),I(o),Y(e,o)};X(u,e=>{t.visible&&e(d)});var f=W(u,2);let p;var m=H(f),h=e=>{{let n=z(()=>zh(t.index,t.matches,K(s)));Th(e,{get clustering_data(){return K(n)},editable:!0})}},g=e=>{var n=qh(),r=U(n),i=e=>{var t=Kh();Y(e,t)};X(r,e=>{K(c)&&e(i)});var a=W(r,2);Yr(a,1,`cl-cluster-list cl-display-grid`);var o=H(a);jr(o,17,()=>K(s),e=>e.id,(e,n)=>{Uh(e,{get cluster(){return K(n)},get index(){return t.index}})}),pe(10),I(a),Y(e,n)};X(m,e=>{K(n)?e(h):e(g,!1)}),I(f),pe(2),G(e=>p=Yr(f,1,`cluster-viewer`,null,p,e),[()=>({"viewer-table":!K(n),hidden:!t.visible})]),Y(e,l),R()}var Xh=q(`<div>...</div>`),Zh=q(`<!> <!>`,1),Qh=q(`<!> <!> <!>`,1);function $h(e,t){L(t,!0);let n=Q(t,`page`,15);var r=J(),i=U(r);{let e=(e,t)=>{let n=()=>t?.().pages;var r=Qh(),i=U(r);Rr(i,()=>ip,(e,t)=>{t(e,{class:`pagination-ctrl button`,children:(e,t)=>{vo(e,{icon:`mdi:chevron-left`})},$$slots:{default:!0}})});var a=W(i,2);jr(a,17,n,e=>e.key,(e,t,n,r)=>{var i=Zh(),a=U(i),o=e=>{var n=J(),r=U(n);Rr(r,()=>cp,(e,n)=>{n(e,{get page(){return K(t)},class:`pagination-ctrl button`})}),Y(e,n)};X(a,e=>{K(t).type===`page`&&e(o)});var s=W(a,2),c=e=>{var t=Xh();Y(e,t)};X(s,e=>{K(t).type===`ellipsis`&&e(c)}),Y(e,i)});var o=W(a,2);Rr(o,()=>op,(e,t)=>{t(e,{class:`pagination-ctrl button`,children:(e,t)=>{vo(e,{icon:`mdi:chevron-right`})},$$slots:{default:!0}})}),Y(e,r)};Rr(i,()=>np,(r,i)=>{i(r,{get count(){return t.total_pages},class:`pagination`,get page(){return n()},set page(e){n(e)},children:e,$$slots:{default:!0}})})}Y(e,r),R()}function eg(e,t){L(t,!0);let n=cm();async function*r(){let e=new Set,r=t.matches.matches.filter(e=>!t.threshold||e.similarity>=t.threshold);r.unshift({image:t.matches.query,similarity:1,q_transposition:`none`,m_transposition:`none`}),r.forEach(t=>{Object.keys(t.image.document?.metadata||{}).forEach(t=>e.add(t)),Object.keys(t.image.metadata||{}).forEach(t=>e.add(t))}),yield[`Image`,`Source`,`Similarity`,`Document`,`Document URL`,...Array.from(e).map(e=>(e.charAt(0).toUpperCase()+e.slice(1)).replace(/[^\w\s]/g,` `))];for(let t of r){let r=Array.from(e).map(e=>(t.image.metadata||t.image.document?.metadata||{})[e]||``);yield[n.getImageTitle(t.image),t.image.src||t.image.id,t.similarity,n.getImageDescription(t.image.document),t.image.document?.src||``,...r]}}gm(e,{iterRows:r,filename:`similarity-matches.csv`}),R()}var tg=q(`<!> `,1),ng=q(`<div class="match-group"><div><p><!></p> <div class="columns is-multiline match-items"></div> <!></div></div>`);function rg(e,t){L(t,!0);let n=B(!1);var r=J(),i=U(r),a=e=>{var r=ng(),i=H(r),a=H(i),o=H(a),s=e=>{var n=tg(),r=U(n);vo(r,{icon:`mdi:folder`});var i=W(r);G(()=>br(i,` ${(t.matches[0].image.document?.name||t.matches[0].image.document?.uid)??``}`)),Y(e,n)},c=e=>{wm(e,{get image(){return t.matches[0].image}})};X(o,e=>{t.grouped?e(s):e(c,!1)}),I(a);var l=W(a,2);jr(l,23,()=>t.matches,e=>e.image.id,(e,r,i)=>{var a=J(),o=U(a),s=e=>{{let n=z(()=>cg(K(r).image));Km(e,Di({get comparison(){return t.wref},get href(){return K(n)}},()=>K(r),{disable_pin:!0}))}};X(o,e=>{(K(n)||K(i)==0)&&(!t.threshold||K(r).similarity>=t.threshold)&&e(s)}),Y(e,a)}),I(l);var u=W(l,2),d=e=>{{let r=z(()=>K(n)?`mdi:close`:`mdi:animation-plus`),i=z(()=>K(n)?`Collapse`:`+${t.matches.length-1}`);am(e,{get icon(){return K(r)},onclick:()=>V(n,!K(n)),get label(){return K(i)}})}};X(u,e=>{t.matches.length>1&&e(d)}),I(i),I(r),G(()=>Yr(i,1,Ur(K(n)?`match-expanded`:`match-excerpt`))),Y(e,r)};X(i,e=>{(!t.threshold||t.matches[0].similarity>=t.threshold)&&e(a)}),Y(e,r),R()}var ig=(e,t)=>V(t,!K(t)),ag=q(`<p><a href="javascript:void(0)"> </a></p>`),og=q(`<div><div class="column match-query"><!> <div class="columns is-multiline match-items is-centered"><!></div> <!> <!></div> <div class="column columns match-results"></div></div>`);function sg(e,t){L(t,!0);let n=z(()=>t.group_by_source?t.matches.matches_by_document:t.matches.matches.map(e=>[e])),r=B(!1),i=B(null);function a(){setTimeout(()=>{K(i)&&K(i).scrollIntoView({behavior:`smooth`,block:`center`})},500)}Yt(()=>{t.highlit&&Kn(a)});var o=og();let s;var c=H(o),l=H(c);wm(l,{get image(){return t.matches.query}});var u=W(l,2),d=H(u);Km(d,{get image(){return t.matches.query},disable_pin:!0}),I(u);var f=W(u,2),p=e=>{var t=ag(),n=H(t);n.__click=[ig,r];var i=H(n,!0);I(n),I(t),G(()=>br(i,K(r)?`Show only 5 best`:`Show all results`)),Y(e,t)};X(f,e=>{K(n).length>5&&e(p)});var m=W(f,2);eg(m,{get matches(){return t.matches},get threshold(){return t.threshold}}),I(c);var h=W(c,2);jr(h,21,()=>K(n).slice(0,K(r)?K(n).length:5),kr,(e,n)=>{rg(e,{get matches(){return K(n)},get grouped(){return t.group_by_source},get threshold(){return t.threshold},get wref(){return t.matches.query}})}),I(h),I(o),bi(o,e=>V(i,e),()=>K(i)),G(e=>s=Yr(o,1,`match-row columns`,null,s,e),[()=>({highlit:t.highlit})]),Y(e,o),R()}dr([`click`]);function cg(e){return`#match-${e.id}`}var lg=q(`<option> </option>`),ug=q(`<div class="toolbar-item"><label class="checkbox is-normal"><input type="checkbox" class="checkbox mr-2" name="group-by-source" id="group-by-source"/> Group by source document</label></div> <div class="toolbar-item"><label class="label">Filter by document:</label> <div class="field is-narrow"><div class="select is-fullwidth"><select><option>All</option><!></select></div></div></div>`,1),dg=q(`<div class="toolbar"><div class="toolbar-content"><!> <div class="toolbar-item"><label class="label is-expanded">Similarity threshold:</label> <div class="field"><input type="range"/> <span class="m-3"> </span></div></div> <!></div> <!></div> <div class="viewer-table"></div> <div class="mt-4"></div> <!>`,1);function fg(e,t){L(t,!0);let n=B(!1),r=B(null),i=z(()=>K(r)?t.matches.filter(e=>e.query.document===K(r)):t.matches),a=B(1),o=z(()=>Math.ceil(t.matches.length/30)),s=z(()=>Math.min(...t.matches.map(e=>Math.min(...e.matches.map(e=>e.similarity))))),c=z(()=>Math.max(...t.matches.map(e=>Math.max(...e.matches.map(e=>e.similarity))))),l=B(K(s)+.5*(K(c)-K(s))),u=B(null);function d(){let e=window.location.hash;if(e.startsWith(`#match-`)){let n=e.slice(7);V(u,n,!0);let r=t.matches.findIndex(e=>e.query.id===n);r!==-1&&V(a,Math.floor(r/30)+1);return}V(u,null),e.startsWith(`#page-`)&&V(a,parseInt(e.slice(6)),!0)}Yt(()=>(window.addEventListener(`hashchange`,d),d(),()=>{window.removeEventListener(`hashchange`,d)}));var f=dg(),p=U(f),m=H(p),h=H(m),g=e=>{var n=J(),r=U(n);Z(r,()=>t.extra_toolbar_items),Y(e,n)};X(h,e=>{t.extra_toolbar_items&&e(g)});var _=W(h,2),v=W(H(_),2),y=H(v);oi(y),li(y,`step`,.01);var b=W(y,2),x=H(b,!0);I(b),I(v),I(_);var S=W(_,2),C=e=>{var i=ug(),a=U(i),o=H(a),s=H(o);oi(s),pe(),I(o),I(a);var c=W(a,2),l=W(H(c),2),u=H(l),d=H(u),f=H(d);f.value=f.__value=``;var p=W(f);jr(p,17,()=>t.index.sources,e=>e.uid,(e,t)=>{var n=lg(),r=H(n,!0);I(n);var i={};G(()=>{br(r,K(t).name||K(t).uid),i!==(i=K(t).uid)&&(n.value=(n.__value=K(t).uid)??``)}),Y(e,n)}),I(d),I(u),I(l),I(c),gi(s,()=>K(n),e=>V(n,e)),ei(d,()=>K(r)?.uid||``,e=>V(r,t.index.sources.find(t=>t.uid===e)||null,!0)),Y(e,i)};X(S,e=>{t.index.sources.length>1&&e(C)}),I(m);var w=W(m,2);$h(w,{get total_pages(){return K(o)},get page(){return K(a)},set page(e){V(a,e,!0)}}),I(p);var T=W(p,2);jr(T,21,()=>K(i).slice((K(a)-1)*30,K(a)*30),e=>e.query.id,(e,t,r,i)=>{{let r=z(()=>K(u)==K(t).query.id);sg(e,{get matches(){return K(t)},get group_by_source(){return K(n)},get highlit(){return K(r)},get threshold(){return K(l)}})}}),I(T);var E=W(T,4);$h(E,{get total_pages(){return K(o)},get page(){return K(a)},set page(e){V(a,e,!0)}}),G(e=>{li(y,`min`,K(s)),li(y,`max`,K(c)),br(x,e)},[()=>K(l).toPrecision(4)]),hi(y,()=>K(l),e=>V(l,e)),Y(e,f),R()}var pg=q(`<p>Loading...</p>`),mg=q(`<div class="toolbar-item toolbar-btn"><!></div>`),hg=q(`<div class="toolbar-item toolbar-btn"><!></div>`),gg=q(`<!> <!>`,1),_g=q(`<!> <!>`,1);function vg(e,t){L(t,!0);let n=Q(t,`mode`,7),r=B({sources:[],images:[],transpositions:[]}),i=B([]),a=B(!0),o=B(n()==`cluster`),s=Et({});Em(s);let c=new om;lm(c),Oi(()=>{Promise.all([fetch(t.source_index_url).then(e=>e.json()),fetch(t.sim_matrix_url).then(e=>e.json())]).then(([e,t])=>{let n=Ph(t,e);(e=>{var t=C(e,2);V(r,t[0]),V(i,t[1])})([n.index,n.matches]),c.fetchIIIFNames(K(r).sources),V(a,!1)}),t.metadata_url&&t.metadata_url!==``&&t.metadata_url!=`None`&&c.fetchMetadataNames(t.metadata_url)}),Yt(()=>{n()==`cluster`&&V(o,!0)});var l=_g(),u=U(l),d=e=>{var t=pg();Y(e,t)},f=e=>{var t=gg(),a=U(t),s=e=>{{let t=e=>{var t=mg(),r=H(t);am(r,{icon:`mdi:folder`,onclick:()=>n(`browse`),label:`Switch to Browse Mode`}),I(t),Y(e,t)},a=z(()=>n()==`cluster`);Yh(e,{get index(){return K(r)},get matches(){return K(i)},get visible(){return K(a)},extra_toolbar_items:t,$$slots:{extra_toolbar_items:!0}})}};X(a,e=>{K(o)&&e(s)});var c=W(a,2),l=e=>{fg(e,{get index(){return K(r)},get matches(){return K(i)},extra_toolbar_items:e=>{var t=hg(),r=H(t);am(r,{icon:`mdi:graph`,onclick:()=>n(`cluster`),label:`Cluster the results`}),I(t),Y(e,t)},$$slots:{extra_toolbar_items:!0}})};X(c,e=>{n()==`browse`&&e(l)}),Y(e,t)};X(u,e=>{K(a)?e(d):e(f,!1)});var p=W(u,2);Pm(p,Di(()=>s)),Y(e,l),R()}var yg=q(`<div class="image-generic-outer-wrapper svelte-1xln4oe"><div class="image-generic-inner-wrapper"><div class="image-generic-title"><!></div> <div class="image-generic-content mb-1"><!></div></div></div>`);function bg(e,t){L(t,!0);let n=B(!1);Yt(()=>{V(n,!0)});var r=yg();let i;var a=H(r),o=H(a),s=H(o);wm(s,{get image(){return t.image},filenameDisplay:!1}),I(o);var c=W(o,2),l=H(c);Km(l,{get image(){return t.image}}),I(c),I(a),I(r),G(e=>i=Zr(r,``,i,e),[()=>({opacity:K(n)?1:0})]),Y(e,r),R()}var xg=q(`<li class="column is-one-fourth is-flex"><!></li>`),Sg=q(`<ul class="columns is-mobile is-multiline list-invisible"></ul>`);function Cg(e,t){var n=Sg();jr(n,21,()=>t.image_array,e=>e.id,(e,t)=>{var n=xg(),r=H(n);bg(r,{get image(){return K(t)}}),I(n),Y(e,n)}),I(n),Y(e,n)}function wg(e,t){return{id:e.id,num:t,url:e.url,src:e.src}}function Tg(e){let t=e=>e.split(`/`).slice(0,-1).join(`/`),n=Object.values(e)[0];return[...new Set(Object.entries(n).map(([e,n])=>t(n.url)))].map(e=>({name:e,images:Object.entries(n).filter(([n,r])=>t(r.url)===e).map(([e,t],n)=>wg(t,n))}))}function Eg(e){return Object.entries(e).map(([e,t])=>({name:e,images:Object.entries(t).map(([e,t],n)=>wg(t,n))}))}function Dg(e,t){return{datasetFormat:t,datasetHierarchy:t===`iiif`?`document`:`folder`,datasetContents:t===`iiif`?Eg(e):Tg(e)}}var Og=q(`<div class="dci-wrapper"><div class="dci-title is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><h3 class="id-suffix m-0"> </h3> <!></div> <!></div>`);function kg(e,t){L(t,!0);let n=B(4),r=()=>V(n,K(n)===4?t.datasetContentsItem.images.length:4,!0);function i(e){return e.split(`/`).slice(5).join(`/`)+`/`}var a=Og(),o=H(a),s=H(o),c=H(s);I(s);var l=W(s,2),u=e=>{{let t=z(()=>K(n)===4?`mdi:plus`:`mdi:minus`),i=z(()=>K(n)===4?`See more items`:`See less items`);am(e,{get icon(){return K(t)},get label(){return K(i)},onclick:()=>r()})}};X(l,e=>{t.datasetContentsItem.images.length>4&&e(u)}),I(o);var d=W(o,2);{let e=z(()=>t.datasetContentsItem.images.slice(0,K(n)));Cg(d,{get image_array(){return K(e)}})}I(a),G(e=>br(c,`Images in ${e??``}`),[()=>t.datasetFormat===`iiif`?`document #${t.itemIndex+1}`:`folder ${i(t.datasetContentsItem.name)}`]),Y(e,a),R()}var Ag=q(`<div></div> <!>`,1);function jg(e,t){L(t,!0);let n=new om;lm(n);let r=Dg(t.dataset,t.datasetFormat),i=Et({});Em(i),Oi(()=>{t.metadataURL&&t.metadataURL!==``&&t.metadataURL!=`None`&&n.fetchMetadataNames(t.metadataURL)});var a=Ag(),o=U(a);jr(o,21,()=>r.datasetContents,kr,(e,n,r)=>{kg(e,{get datasetContentsItem(){return K(n)},get datasetFormat(){return t.datasetFormat},itemIndex:r})}),I(o);var s=W(o,2);Pm(s,{}),Y(e,a),R()}var Mg=q(`<p>Loading...</p>`),Ng=q(`<!> <!>`,1);function Pg(e,t){L(t,!0);let n=B(Et({sources:[],images:[],transpositions:[]})),r=B(Et({sources:[],images:[],transpositions:[]})),i=B(Et([])),a=B(!0),o=Et({});Em(o);let s=new om;lm(s),Oi(()=>{Promise.all([fetch(t.source_index_url).then(e=>e.json()),fetch(t.query_result_url).then(e=>e.json())]).then(([e,t])=>{console.log(e,t);let o=Ih(e,t);(e=>{var t=C(e,3);V(n,t[0],!0),V(r,t[1],!0),V(i,t[2],!0)})([o.source_index,o.query_index,o.matches]),s.fetchIIIFNames(K(n).sources),V(a,!1)}),t.metadata_url&&t.metadata_url!==``&&t.metadata_url!=`None`&&s.fetchMetadataNames(t.metadata_url)});var c=Ng(),l=U(c),u=e=>{var t=Mg();Y(e,t)},d=e=>{fg(e,{get index(){return K(n)},get matches(){return K(i)}})};X(l,e=>{K(a)?e(u):e(d,!1)});var f=W(l,2);Pm(f,Di(()=>o)),Y(e,c),R()}function Fg(e,t){V(t,!0)}var Ig=q(`<span contenteditable="true" role="textbox" tabindex="0"></span>`),Lg=q(`<span> </span>`);function Rg(e,t){L(t,!0);let n=Q(t,`value`,15),r=Q(t,`placeholder`,7),i=Q(t,`required`,3,!1),a=Q(t,`editable`,3,!0),o=B(Et(t.editing||!1)),s=B(null),c=B(Et(n()));Yt(()=>{V(c,n(),!0)}),i()&&r(`*`+r());function l(){n((n()||``).trim()),V(c,(K(c)||``).trim(),!0)}function u(e){e.key===`Enter`&&(e.preventDefault(),V(o,!1),t.onenter&&t.onenter())}function d(){V(o,!1),l(),n(K(c)),t.onblur&&t.onblur()}function f(){V(o,!0)}let p=z(()=>!K(c)||K(c).trim()==``);Yt(()=>{t.focus&&K(s)&&setTimeout(()=>{if(!K(s))return;let e=window.getSelection();if(e){let t=document.createRange();t.setStart(K(s),0),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}},100)});var m=J(),h=U(m),g=e=>{var n=Ig();let a;n.__click=[Fg,o],bi(n,e=>V(s,e),()=>K(s)),G(e=>{a=Yr(n,1,Ur(t.class),`svelte-1vvgwho`,a,e),li(n,`placeholder`,r()),li(n,`spellcheck`,K(o))},[()=>({"editable-clickable":!K(o),empty:K(p),required:i()})]),ur(`blur`,n,d),ur(`focus`,n,f),ur(`keypress`,n,u),xi(`innerText`,n,()=>K(c),e=>V(c,e)),Y(e,n)},_=e=>{var n=Lg();let a;var o=H(n,!0);I(n),G(e=>{a=Yr(n,1,Ur(t.class),`svelte-1vvgwho`,a,e),li(n,`placeholder`,r()),br(o,K(c))},[()=>({empty:K(p),required:i()})]),Y(e,n)};X(h,e=>{a()?e(g):e(_,!1)}),Y(e,m),R()}dr([`click`]);var zg=(e,t)=>{t.onChange(``),e.preventDefault()},Bg=q(`<div><!> <div class="actions"><button class="delete"></button></div></div>`);function Vg(e,t){L(t,!0);let n=Q(t,`url`,7),r=()=>{console.log(n()),t.onChange(n())},i=z(()=>n().startsWith(`http://`)||n().startsWith(`https://`));var a=Bg();let o;var s=H(a);Rg(s,{placeholder:`URL`,onblur:r,onenter:r,class:`urllist-item-content`,get value(){return n()},set value(e){n(e)}});var c=W(s,2),l=H(c);l.__click=[zg,t],I(c),I(a),G(e=>o=Yr(a,1,`urllist-item mb-2 svelte-95nsll`,null,o,e),[()=>({valid:K(i)})]),Y(e,a),R()}dr([`click`]);var Hg=q(`<div><!> <input class="input" type="text" placeholder="Type or paste URLs to append to the list above"/></div>`);function Ug(e,t){L(t,!0);let n=Q(t,`field`,7),r=Q(t,`value`,31,()=>Et([]));Oi(()=>{r(JSON.parse(n().value))});function i(e){return t=>{t==``?r().splice(e,1):r(r()[e]=[t],!0),n().value=JSON.stringify(r())}}function a(e){e.key==`Enter`&&(e.preventDefault(),e.currentTarget.value!=``&&(r().push([e.currentTarget.value.trim()]),n().value=JSON.stringify(r())),e.currentTarget.value=``)}function o(e){let t=(e.clipboardData?.getData(`text/plain`))?.split(/\s+/);t&&(r().push(...t.map(e=>[e.trim()]).filter(e=>e[0]!=``)),n().value=JSON.stringify(r()))}var s=Hg(),c=H(s);jr(c,17,r,kr,(e,t,n)=>{{let r=z(()=>i(n));Vg(e,{get url(){return K(t)[0]},get onChange(){return K(r)}})}});var l=W(c,2);l.__keydown=a,I(s),ur(`paste`,l,o),Y(e,s),R()}dr([`keydown`]);var Wg=c(o(((exports,t)=>{
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
(function(n){typeof exports==`object`&&t!==void 0?t.exports=n():typeof define==`function`&&define.amd?define([],n):(typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this).JSZip=n()})(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c=typeof require==`function`&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var l=Error(`Cannot find module '`+o+`'`);throw l.code=`MODULE_NOT_FOUND`,l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a=typeof require==`function`&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e(`./utils`),i=e(`./support`),a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`;n.encode=function(e){for(var t,n,i,o,s,c,l,u=[],d=0,f=e.length,p=f,m=r.getTypeOf(e)!==`string`;d<e.length;)p=f-d,i=m?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|i>>6:64,l=2<p?63&i:64,u.push(a.charAt(o)+a.charAt(s)+a.charAt(c)+a.charAt(l));return u.join(``)},n.decode=function(e){var t,n,r,o,s,c,l=0,u=0,d=`data:`;if(e.substr(0,d.length)===d)throw Error(`Invalid base64 input, it looks like a data url.`);var f,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,``)).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw Error(`Invalid base64 input, bad content length.`);for(f=i.uint8array?new Uint8Array(0|p):Array(0|p);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=a.indexOf(e.charAt(l++))),f[u++]=t,s!==64&&(f[u++]=n),c!==64&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e(`./external`),i=e(`./stream/DataWorker`),a=e(`./stream/Crc32Probe`),o=e(`./stream/DataLengthProbe`);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o(`data_length`)),t=this;return e.on(`end`,function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw Error(`Bug : uncompressed data size mismatch`)}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo(`compressedSize`,this.compressedSize).withStreamInfo(`uncompressedSize`,this.uncompressedSize).withStreamInfo(`crc32`,this.crc32).withStreamInfo(`compression`,this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o(`uncompressedSize`)).pipe(t.compressWorker(n)).pipe(new o(`compressedSize`)).withStreamInfo(`compression`,t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e(`./stream/GenericWorker`);n.STORE={magic:`\0\0`,compressWorker:function(){return new r(`STORE compression`)},uncompressWorker:function(){return new r(`STORE decompression`)}},n.DEFLATE=e(`./flate`)},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e(`./utils`),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return e!==void 0&&e.length?r.getTypeOf(e)===`string`?function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r=typeof Promise<`u`?Promise:e(`lie`),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Uint32Array<`u`,i=e(`pako`),a=e(`./utils`),o=e(`./stream/GenericWorker`),s=r?`uint8array`:`array`;function c(e,t){o.call(this,`FlateWorker/`+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic=`\b\0`,a.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c(`Deflate`,e)},n.uncompressWorker=function(){return new c(`Inflate`,{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r=``;for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,u){var d,f,p=e.file,m=e.compression,h=u!==s.utf8encode,g=a.transformTo(`string`,u(p.name)),_=a.transformTo(`string`,s.utf8encode(p.name)),v=p.comment,y=a.transformTo(`string`,u(v)),b=a.transformTo(`string`,s.utf8encode(v)),x=_.length!==p.name.length,S=b.length!==v.length,C=``,w=``,T=``,E=p.dir,D=p.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),h||!x&&!S||(k|=2048);var A=0,ee=0;E&&(A|=16),o===`UNIX`?(ee=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,E)):(ee=20,A|=function(e){return 63&(e||0)}(p.dosPermissions)),d=D.getUTCHours(),d<<=6,d|=D.getUTCMinutes(),d<<=5,d|=D.getUTCSeconds()/2,f=D.getUTCFullYear()-1980,f<<=4,f|=D.getUTCMonth()+1,f<<=5,f|=D.getUTCDate(),x&&(w=r(1,1)+r(c(g),4)+_,C+=`up`+r(w.length,2)+w),S&&(T=r(1,1)+r(c(y),4)+b,C+=`uc`+r(T.length,2)+T);var j=``;return j+=`
\0`,j+=r(k,2),j+=m.magic,j+=r(d,2),j+=r(f,2),j+=r(O.crc32,4),j+=r(O.compressedSize,4),j+=r(O.uncompressedSize,4),j+=r(g.length,2),j+=r(C.length,2),{fileRecord:l.LOCAL_FILE_HEADER+j+g+C,dirRecord:l.CENTRAL_FILE_HEADER+r(ee,2)+j+r(y.length,2)+`\0\0\0\0`+r(A,4)+r(i,4)+g+C+y}}var a=e(`../utils`),o=e(`../stream/GenericWorker`),s=e(`../utf8`),c=e(`../crc32`),l=e(`../signature`);function u(e,t,n,r){o.call(this,`ZipFileWorker`),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo(`string`,o(i));return l.CENTRAL_DIRECTORY_END+`\0\0\0\0`+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(`error`,function(e){t.error(e)}),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch{}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e(`../compressions`),i=e(`./ZipFileWorker`);n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw Error(n+` is not a valid compression method !`);return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo(`file`,{name:e,dir:c,date:l,comment:n.comment||``,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw Error(`The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.`);this.files=Object.create(null),this.comment=null,this.root=``,this.clone=function(){var e=new r;for(var t in this)typeof this[t]!=`function`&&(e[t]=this[t]);return e}}(r.prototype=e(`./object`)).loadAsync=e(`./load`),r.support=e(`./support`),r.defaults=e(`./defaults`),r.version=`3.10.1`,r.loadAsync=function(e,t){return new r().loadAsync(e,t)},r.external=e(`./external`),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e(`./utils`),i=e(`./external`),a=e(`./utf8`),o=e(`./zipEntries`),s=e(`./stream/Crc32Probe`),c=e(`./nodejsUtils`);function l(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on(`error`,function(e){n(e)}).on(`end`,function(){r.streamInfo.crc32===e.decompressed.crc32?t():n(Error(`Corrupted zip : CRC32 mismatch`))}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(Error(`JSZip can't accept a stream when loading a zip file.`)):r.prepareContent(`the loaded zip file`,e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(l(r[a]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e(`../utils`),i=e(`../stream/GenericWorker`);function a(e,t){i.call(this,`Nodejs stream input adapter for `+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(`data`,function(e){t.push({data:e,meta:{percent:0}})}).on(`error`,function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(`end`,function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e(`readable-stream`).Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on(`data`,function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on(`error`,function(e){i.emit(`error`,e)}).on(`end`,function(){i.push(null)})}e(`../utils`).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:typeof Buffer<`u`,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e==`number`)throw Error(`The "data" argument must not be a number`);return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on==`function`&&typeof e.pause==`function`&&typeof e.resume==`function`}}},{}],15:[function(e,t,n){function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},c);s.date=s.date||new Date,s.compression!==null&&(s.compression=s.compression.toUpperCase()),typeof s.unixPermissions==`string`&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=h(e)),s.createFolders&&(r=m(e))&&g.call(this,r,!0);var d=i===`string`&&!1===s.binary&&!1===s.base64;n&&n.binary!==void 0||(s.binary=!d),(t instanceof l&&t.uncompressedSize===0||s.dir||!t||t.length===0)&&(s.base64=!1,s.binary=!0,t=``,s.compression=`STORE`,i=`string`);var _=null;_=t instanceof l||t instanceof o?t:f.isNode&&f.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,_,s);this.files[e]=v}var i=e(`./utf8`),a=e(`./utils`),o=e(`./stream/GenericWorker`),s=e(`./stream/StreamHelper`),c=e(`./defaults`),l=e(`./compressedObject`),u=e(`./zipObject`),d=e(`./generate`),f=e(`./nodejsUtils`),p=e(`./nodejs/NodejsStreamInputAdapter`),m=function(e){e.slice(-1)===`/`&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(`/`);return 0<t?e.substring(0,t):``},h=function(e){return e.slice(-1)!==`/`&&(e+=`/`),e},g=function(e,t){return t=t===void 0?c.createFolders:t,e=h(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return Object.prototype.toString.call(e)===`[object RegExp]`}t.exports={load:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(arguments.length!==1)return e=this.root+e,r.call(this,e,t,n),this;if(_(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(_(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||=(e.slice(-1)!==`/`&&(e+=`/`),this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:`STORE`,compressionOptions:null,type:``,platform:`DOS`,comment:null,mimeType:`application/zip`,encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),n.type===`binarystring`&&(n.type=`string`),!n.type)throw Error(`No output type specified.`);a.checkSupport(n.type),n.platform!==`darwin`&&n.platform!==`freebsd`&&n.platform!==`linux`&&n.platform!==`sunos`||(n.platform=`UNIX`),n.platform===`win32`&&(n.platform=`DOS`);var r=n.comment||this.comment||``;t=d.generateWorker(this,n,r)}catch(e){(t=new o(`error`)).error(e)}return new s(t,n.type||`string`,n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e||={}).type||(e.type=`nodebuffer`),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e(`stream`)},{stream:void 0}],17:[function(e,t,n){var r=e(`./DataReader`);function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(`../utils`).inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e(`../utils`);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error(`End of data reached (data length = `+this.length+`, asked index = `+e+`). Corrupted zip ?`)},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo(`string`,this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e(`./Uint8ArrayReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e(`./DataReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e(`./ArrayReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array;var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e(`../utils`),i=e(`../support`),a=e(`./ArrayReader`),o=e(`./StringReader`),s=e(`./NodeBufferReader`),c=e(`./Uint8ArrayReader`);t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),t!==`string`||i.uint8array?t===`nodebuffer`?new s(e):i.uint8array?new c(r.transformTo(`uint8array`,e)):new a(r.transformTo(`array`,e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER=`PK`,n.CENTRAL_FILE_HEADER=`PK`,n.CENTRAL_DIRECTORY_END=`PK`,n.ZIP64_CENTRAL_DIRECTORY_LOCATOR=`PK\x07`,n.ZIP64_CENTRAL_DIRECTORY_END=`PK`,n.DATA_DESCRIPTOR=`PK\x07\b`},{}],24:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../utils`);function a(e){r.call(this,`ConvertWorker to `+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../crc32`);function a(){r.call(this,`Crc32Probe`),this.withStreamInfo(`crc32`,0)}e(`../utils`).inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`);function a(e){i.call(this,`DataLengthProbe for `+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`);function a(e){i.call(this,`DataWorker`);var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=``,this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case`string`:e=this.data.substring(this.index,t);break;case`uint8array`:e=this.data.subarray(this.index,t);break;case`array`:case`nodebuffer`:e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||`default`,this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit(`data`,e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(`end`),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(`error`,e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(`error`,e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.end()}),e.on(`error`,function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=`Worker `+this.name;return this.previous?this.previous+` -> `+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e(`../utils`),i=e(`./ConvertWorker`),a=e(`./GenericWorker`),o=e(`../base64`),s=e(`../support`),c=e(`../external`),l=null;if(s.nodestream)try{l=e(`../nodejs/NodejsStreamOutputAdapter`)}catch{}function u(e,t){return new c.Promise(function(n,i){var a=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on(`data`,function(e,n){a.push(e),t&&t(n)}).on(`error`,function(e){a=[],i(e)}).on(`end`,function(){try{var e=function(e,t,n){switch(e){case`blob`:return r.newBlob(r.transformTo(`arraybuffer`,t),n);case`base64`:return o.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case`string`:return t.join(``);case`array`:return Array.prototype.concat.apply([],t);case`uint8array`:for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case`nodebuffer`:return Buffer.concat(t);default:throw Error(`concat : unsupported type '`+e+`'`)}}(s,a),l);n(e)}catch(e){i(e)}a=[]}).resume()})}function d(e,t,n){var o=t;switch(t){case`blob`:case`arraybuffer`:o=`uint8array`;break;case`base64`:o=`string`}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a(`error`),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return e===`data`?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport(`nodestream`),this._outputType!==`nodebuffer`)throw Error(this._outputType+` is not supported by this method`);return new l(this,{objectMode:this._outputType!==`nodebuffer`},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<`u`&&typeof Uint8Array<`u`,n.nodebuffer=typeof Buffer<`u`,n.uint8array=typeof Uint8Array<`u`,typeof ArrayBuffer>`u`)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:`application/zip`}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob(`application/zip`).size===0}catch{n.blob=!1}}}try{n.nodestream=!!e(`readable-stream`).Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e(`./utils`),i=e(`./support`),a=e(`./nodejsUtils`),o=e(`./stream/GenericWorker`),s=Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;s[254]=s[254]=1;function l(){o.call(this,`utf-8 decode`),this.leftOver=null}function u(){o.call(this,`utf-8 encode`)}n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,`utf-8`):function(e){var t,n,r,a,o,s=e.length,c=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):Array(c),a=o=0;o<c;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo(`nodebuffer`,e).toString(`utf-8`):function(e){var t,n,i,a,o=e.length,c=Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)c[n++]=i;else if(4<(a=s[i]))c[n++]=65533,t+=a-1;else{for(i&=a===2?31:a===3?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?`uint8array`:`array`,e))},r.inherits(l,o),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?`uint8array`:`array`,e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t||=e.length)>e.length&&(t=e.length),n=t-1;0<=n&&(192&e[n])==128;)n--;return n<0||n===0?t:n+s[e[n]]>t?n:t}(t),c=t;o!==t.length&&(i.uint8array?(c=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(c=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e(`./support`),i=e(`./base64`),a=e(`./nodejsUtils`),o=e(`./external`);function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e(`setimmediate`),n.newBlob=function(e,t){n.checkSupport(`blob`);try{return new Blob([e],{type:t})}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch{throw Error(`Bug : can't construct the Blob.`)}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)t===`array`||t===`nodebuffer`?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join(``)},stringifyByChar:function(e){for(var t=``,n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if(r===`uint8array`?i=l.applyCanBeUsed.uint8array:r===`nodebuffer`&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:s,array:function(e){return c(e,Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},f.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t||=``,!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split(`/`),n=[],r=0;r<t.length;r++){var i=t[r];i===`.`||i===``&&r!==0&&r!==t.length-1||(i===`..`?n.pop():n.push(i))}return n.join(`/`)},n.getTypeOf=function(e){return typeof e==`string`?`string`:Object.prototype.toString.call(e)===`[object Array]`?`array`:r.nodebuffer&&a.isBuffer(e)?`nodebuffer`:r.uint8array&&e instanceof Uint8Array?`uint8array`:r.arraybuffer&&e instanceof ArrayBuffer?`arraybuffer`:void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw Error(e+` is not supported by this platform`)},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r=``;for(n=0;n<(e||``).length;n++)r+=`\\x`+((t=e.charCodeAt(n))<16?`0`:``)+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&n[t]===void 0&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,l){return o.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||[`[object File]`,`[object Blob]`].indexOf(Object.prototype.toString.call(e))!==-1)&&typeof FileReader<`u`?new o.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var u=n.getTypeOf(t);return u?(u===`arraybuffer`?t=n.transformTo(`uint8array`,t):u===`string`&&(l?t=i.decode(t):a&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):Array(e.length))}(t))),t):o.Promise.reject(Error(`Can't read the data of '`+e+`'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?`))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./signature`),o=e(`./zipEntry`),s=e(`./support`);function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw Error(`Corrupted zip or bug: unexpected signature (`+i.pretty(t)+`, expected `+i.pretty(e)+`)`)}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?`uint8array`:`array`,n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw Error(`Multi-volumes zip are not supported`)},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw Error(`Corrupted zip or bug: expected `+this.centralDirRecords+` records in central dir, got `+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?Error(`Corrupted zip: can't find end of central directory`):Error(`Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html`);this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error(`Corrupted zip: can't find the ZIP64 end of central directory locator`);if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error(`Corrupted zip: can't find the ZIP64 end of central directory`);this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw Error(`Corrupted zip: missing `+Math.abs(r)+` bytes.`)},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./compressedObject`),o=e(`./crc32`),s=e(`./utf8`),c=e(`./compressions`),l=e(`./support`);function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw Error(`Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)`);if((t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod))===null)throw Error(`Corrupted zip : compression `+i.pretty(this.compressionMethod)+` unknown (inner file : `+i.transformTo(`string`,this.fileName)+`)`);this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error(`Encrypted zip are not supported`);e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!==`/`||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||={};e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?`uint8array`:`array`;if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(r!==null)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return t.readInt(1)===1&&o(this.fileName)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return t.readInt(1)===1&&o(this.fileComment)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e(`./stream/StreamHelper`),a=e(`./stream/DataWorker`),o=e(`./utf8`),s=e(`./compressedObject`),c=e(`./stream/GenericWorker`);r.prototype={internalStream:function(e){var t=null,n=`string`;try{if(!e)throw Error(`No output type specified.`);var r=(n=e.toLowerCase())===`string`||n===`text`;n!==`binarystring`&&n!==`text`||(n=`string`),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new c(`error`)).error(e)}return new i(t,n,``)},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||`nodebuffer`).toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var l=[`asText`,`asBinary`,`asNodeBuffer`,`asUint8Array`,`asArrayBuffer`],u=function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(u),s=e.document.createTextNode(``);o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||e.MessageChannel===void 0)n=`document`in e&&`onreadystatechange`in e.document.createElement(`script`)?function(){var t=e.document.createElement(`script`);t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){l.push(e)!==1||r||n()}}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}],37:[function(e,t,n){var r=e(`immediate`);function i(){}var a={},o=[`REJECTED`],s=[`FULFILLED`],c=[`PENDING`];function l(e){if(typeof e!=`function`)throw TypeError(`resolver must be a function`);this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,typeof t==`function`&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof n==`function`&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError(`Cannot resolve promise with itself`)):a.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&(typeof e==`object`||typeof e==`function`)&&typeof t==`function`)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=m(function(){t(i,r)});o.status===`error`&&r(o.value)}function m(e,t){var n={};try{n.value=e(t),n.status=`success`}catch(e){n.status=`error`,n.value=e}return n}(t.exports=l).prototype.finally=function(e){if(typeof e!=`function`)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if(typeof e!=`function`&&this.state===s||typeof t!=`function`&&this.state===o)return this;var n=new this.constructor(i);return this.state===c?this.queue.push(new u(n,e,t)):d(n,this.state===s?e:t,this.outcome),n},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=m(f,t);if(n.status===`error`)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return a.reject(t,e)},l.all=function(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(l,o))},function(e){r||(r=!0,a.reject(l,e))})}},l.race=function(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)c=e[o],t.resolve(c).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))});var c;return s}},{immediate:36}],38:[function(e,t,n){var r={};(0,e(`./lib/utils/common`).assign)(r,e(`./lib/deflate`),e(`./lib/inflate`),e(`./lib/zlib/constants`)),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e(`./zlib/deflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/messages`),s=e(`./zlib/zstream`),c=Object.prototype.toString,l=0,u=-1,d=0,f=8;function p(e){if(!(this instanceof p))return new p(e);this.options=i.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:``},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m=typeof t.dictionary==`string`?a.string2buf(t.dictionary):c.call(t.dictionary)===`[object ArrayBuffer]`?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,m))!==l)throw Error(o[n]);this._dict_set=!0}}function m(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,typeof e==`string`?s.input=a.string2buf(e):c.call(e)===`[object ArrayBuffer]`?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),(n=r.deflate(s,o))!==1&&n!==l)return this.onEnd(n),!(this.ended=!0);s.avail_out!==0&&(s.avail_in!==0||o!==4&&o!==2)||(this.options.to===`string`?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||s.avail_out===0)&&n!==1);return o===4?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):o!==2||(this.onEnd(l),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=m,n.deflateRaw=function(e,t){return(t||={}).raw=!0,m(e,t)},n.gzip=function(e,t){return(t||={}).gzip=!0,m(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e(`./zlib/inflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/constants`),s=e(`./zlib/messages`),c=e(`./zlib/zstream`),l=e(`./zlib/gzheader`),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:``},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,f,p=this.strm,m=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,typeof e==`string`?p.input=a.binstring2buf(e):u.call(e)===`[object ArrayBuffer]`?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new i.Buf8(m),p.next_out=0,p.avail_out=m),(n=r.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&h&&(f=typeof h==`string`?a.string2buf(h):u.call(h)===`[object ArrayBuffer]`?new Uint8Array(h):h,n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(p.avail_out!==0&&n!==o.Z_STREAM_END&&(p.avail_in!==0||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||(this.options.to===`string`?(c=a.utf8border(p.output,p.next_out),l=p.next_out-c,d=a.buf2string(p.output,c),p.next_out=l,p.avail_out=m-l,l&&i.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),p.avail_in===0&&p.avail_out===0&&(g=!0)}while((0<p.avail_in||p.avail_out===0)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t||={}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Int32Array<`u`;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!=`object`)throw TypeError(n+`must be non-object`);for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e(`./common`),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n=``,o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,c=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=o=0;o<c;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(a=o[i]))l[r++]=65533,n+=a-1;else{for(i&=a===2?31:a===3?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},n.utf8border=function(e,t){var n;for((t||=e.length)>e.length&&(t=e.length),n=t-1;0<=n&&(192&e[n])==128;)n--;return n<0||n===0?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;n!==0;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var r,i=e(`../utils/common`),a=e(`./trees`),o=e(`./adler32`),s=e(`./crc32`),c=e(`./messages`),l=0,u=4,d=0,f=-2,p=-1,m=4,h=2,g=8,_=9,v=286,y=30,b=19,x=2*v+1,S=15,C=3,w=258,T=w+C+1,E=42,D=113,O=1,k=2,A=3,ee=4;function j(e,t){return e.msg=c[t],t}function te(e){return(e<<1)-(4<e?9:0)}function ne(e){for(var t=e.length;0<=--t;)e[t]=0}function re(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function ie(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,re(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function ae(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+w,p=l[a+o-1],m=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(l[(n=t)+o]===m&&l[n+o-1]===p&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do;while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<f);if(r=w-(f-a),a=f-w,o<r){if(e.match_start=t,s<=(o=r))break;p=l[a+o-1],m=l[a+o]}}while((t=d[t&u])>c&&--i!=0);return o<=e.lookahead?o:e.lookahead}function N(e){var t,n,r,a,c,l,u,d,f,p,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-T)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);a+=m}if(e.strm.avail_in===0)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=a,p=void 0,p=l.avail_in,f<p&&(p=f),n=p===0?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,d),l.state.wrap===1?l.adler=o(l.adler,u,p,d):l.state.wrap===2&&(l.adler=s(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=C)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+C-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<T&&e.strm.avail_in!==0)}function se(e,t){for(var n,r;;){if(e.lookahead<T){if(N(e),e.lookahead<T&&t===l)return O;if(e.lookahead===0)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-T&&(e.match_length=oe(e,n)),e.match_length>=C)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ie(e,!1),e.strm.avail_out===0))return O}return e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(ie(e,!0),e.strm.avail_out===0?A:ee):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?O:k}function ce(e,t){for(var n,r,i;;){if(e.lookahead<T){if(N(e),e.lookahead<T&&t===l)return O;if(e.lookahead===0)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===1||e.match_length===C&&4096<e.strstart-e.match_start)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-C,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=C-1,e.strstart++,r&&(ie(e,!1),e.strm.avail_out===0))return O}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&ie(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&=(r=a._tr_tally(e,0,e.window[e.strstart-1]),0),e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(ie(e,!0),e.strm.avail_out===0?A:ee):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?O:k}function le(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*v+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=h,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:D,e.adler=t.wrap===2?0:1,t.last_flush=l,a._tr_init(t),d):j(e,f)}function F(e){var t=ue(e);return t===d&&function(e){e.window_size=2*e.w_size,ne(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0}(e.state),t}function de(e,t,n,r,a,o){if(!e)return f;var s=1;if(t===p&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||_<a||n!==g||r<8||15<r||t<0||9<t||o<0||m<o)return j(e,f);r===8&&(r=9);var c=new P;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+C-1)/C),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,F(e)}r=[new le(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(N(e),e.lookahead===0&&t===l)return O;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ie(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-T&&(ie(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(ie(e,!0),e.strm.avail_out===0?A:ee):(e.strstart>e.block_start&&(ie(e,!1),e.strm.avail_out),O)}),new le(4,4,8,4,se),new le(4,5,16,8,se),new le(4,6,32,32,se),new le(4,4,16,16,ce),new le(8,16,32,32,ce),new le(8,16,128,128,ce),new le(8,32,128,256,ce),new le(32,128,258,1024,ce),new le(32,258,258,4096,ce)],n.deflateInit=function(e,t){return de(e,t,g,15,8,0)},n.deflateInit2=de,n.deflateReset=F,n.deflateResetKeep=ue,n.deflateSetHeader=function(e,t){return e&&e.state&&e.state.wrap===2?(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||5<t||t<0)return e?j(e,f):f;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===666&&t!==u)return j(e,e.avail_out===0?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===E)if(i.wrap===2)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,i.level===9?2:2<=i.strategy||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,i.level===9?2:2<=i.strategy||i.level<2?4:0),M(i,3),i.status=D);else{var p=g+(i.w_bits-8<<4)<<8;p|=(2<=i.strategy||i.level<2?0:i.level<6?1:i.level===6?2:3)<<6,i.strstart!==0&&(p|=32),p+=31-p%31,i.status=D,ae(i,p),i.strstart!==0&&(ae(i,e.adler>>>16),ae(i,65535&e.adler)),e.adler=1}if(i.status===69)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),re(e),o=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(i.status===73)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),re(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),c===0&&(i.gzindex=0,i.status=91)}else i.status=91;if(i.status===91)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),re(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),c===0&&(i.status=103)}else i.status=103;if(i.status===103&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&re(e),i.pending+2<=i.pending_buf_size&&(M(i,255&e.adler),M(i,e.adler>>8&255),e.adler=0,i.status=D)):i.status=D),i.pending!==0){if(re(e),e.avail_out===0)return i.last_flush=-1,d}else if(e.avail_in===0&&te(t)<=te(n)&&t!==u)return j(e,-5);if(i.status===666&&e.avail_in!==0)return j(e,-5);if(e.avail_in!==0||i.lookahead!==0||t!==l&&i.status!==666){var m=i.strategy===2?function(e,t){for(var n;;){if(e.lookahead===0&&(N(e),e.lookahead===0)){if(t===l)return O;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ie(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(ie(e,!0),e.strm.avail_out===0?A:ee):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?O:k}(i,t):i.strategy===3?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=w){if(N(e),e.lookahead<=w&&t===l)return O;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=C&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+w;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=w-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(n=a._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ie(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(ie(e,!0),e.strm.avail_out===0?A:ee):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?O:k}(i,t):r[i.level].func(i,t);if(m!==A&&m!==ee||(i.status=666),m===O||m===A)return e.avail_out===0&&(i.last_flush=-1),d;if(m===k&&(t===1?a._tr_align(i):t!==5&&(a._tr_stored_block(i,0,0,!1),t===3&&(ne(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),re(e),e.avail_out===0))return i.last_flush=-1,d}return t===u?i.wrap<=0?1:(i.wrap===2?(M(i,255&e.adler),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,255&e.total_in),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(ae(i,e.adler>>>16),ae(i,65535&e.adler)),re(e),0<i.wrap&&(i.wrap=-i.wrap),i.pending===0?1:d):d},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&t!==69&&t!==73&&t!==91&&t!==103&&t!==D&&t!==666?j(e,f):(e.state=null,t===D?j(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,a,s,c,l,u,p,m=t.length;if(!e||!e.state||(s=(n=e.state).wrap)===2||s===1&&n.status!==E||n.lookahead)return f;for(s===1&&(e.adler=o(e.adler,t,m,0)),n.wrap=0,m>=n.w_size&&(s===0&&(ne(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,m-n.w_size,n.w_size,0),t=p,m=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=m,e.next_in=0,e.input=t,N(n);n.lookahead>=C;){for(r=n.strstart,a=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=C-1,N(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,d},n.deflateInfo=`pako deflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n=e.state,r=e.next_in,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T=e.input,E;i=r+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,m=n.bits,h=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{m<15&&(p+=T[r++]<<m,m+=8,p+=T[r++]<<m,m+=8),y=h[p&_];t:for(;;){if(p>>>=b=y>>>24,m-=b,(b=y>>>16&255)==0)E[a++]=65535&y;else{if(!(16&b)){if(!(64&b)){y=h[(65535&y)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg=`invalid literal/length code`,n.mode=30;break e}x=65535&y,(b&=15)&&(m<b&&(p+=T[r++]<<m,m+=8),x+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=T[r++]<<m,m+=8,p+=T[r++]<<m,m+=8),y=g[p&v];r:for(;;){if(p>>>=b=y>>>24,m-=b,!(16&(b=y>>>16&255))){if(!(64&b)){y=g[(65535&y)+(p&(1<<b)-1)];continue r}e.msg=`invalid distance code`,n.mode=30;break e}if(S=65535&y,m<(b&=15)&&(p+=T[r++]<<m,(m+=8)<b&&(p+=T[r++]<<m,m+=8)),c<(S+=p&(1<<b)-1)){e.msg=`invalid distance too far back`,n.mode=30;break e}if(p>>>=b,m-=b,(b=a-o)<S){if(u<(b=S-b)&&n.sane){e.msg=`invalid distance too far back`,n.mode=30;break e}if(w=f,(C=0)===d){if(C+=l-b,b<x){for(x-=b;E[a++]=f[C++],--b;);C=a-S,w=E}}else if(d<b){if(C+=l+d-b,(b-=d)<x){for(x-=b;E[a++]=f[C++],--b;);if(C=0,d<x){for(x-=b=d;E[a++]=f[C++],--b;);C=a-S,w=E}}}else if(C+=d-b,b<x){for(x-=b;E[a++]=f[C++],--b;);C=a-S,w=E}for(;2<x;)E[a++]=w[C++],E[a++]=w[C++],E[a++]=w[C++],x-=3;x&&(E[a++]=w[C++],1<x&&(E[a++]=w[C++]))}else{for(C=a-S;E[a++]=E[C++],E[a++]=E[C++],E[a++]=E[C++],2<(x-=3););x&&(E[a++]=E[C++],1<x&&(E[a++]=E[C++]))}break}}break}}while(r<i&&a<s);r-=x=m>>3,p&=(1<<(m-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=m}},{}],49:[function(e,t,n){var r=e(`../utils/common`),i=e(`./adler32`),a=e(`./crc32`),o=e(`./inffast`),s=e(`./inftrees`),c=1,l=2,u=0,d=-2,f=1,p=852,m=592;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=``,t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(p),t.distcode=t.distdyn=new r.Buf32(m),t.sane=1,t.back=-1,u):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,_(e)):d}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):d}function b(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):d}var x,S,C=!0;function w(e){if(C){var t;for(x=new r.Buf32(512),S=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,S,0,e.work,{bits:5}),C=!1}e.lencode=x,e.lenbits=9,e.distcode=S,e.distbits=5}function T(e,t,n,i){var a,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=v,n.inflateReset2=y,n.inflateResetKeep=_,n.inflateInit=function(e){return b(e,15)},n.inflateInit2=b,n.inflate=function(e,t){var n,p,m,g,_,v,y,b,x,S,C,E,D,O,k,A,ee,j,te,ne,re,ie,M,ae,oe=0,N=new r.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return d;(n=e.state).mode===12&&(n.mode=13),_=e.next_out,m=e.output,y=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,b=n.hold,x=n.bits,S=v,C=y,ie=u;e:for(;;)switch(n.mode){case f:if(n.wrap===0){n.mode=13;break}for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(2&n.wrap&&b===35615){N[n.check=0]=255&b,N[1]=b>>>8&255,n.check=a(n.check,N,2,0),x=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg=`incorrect header check`,n.mode=30;break}if((15&b)!=8){e.msg=`unknown compression method`,n.mode=30;break}if(x-=4,re=8+(15&(b>>>=4)),n.wbits===0)n.wbits=re;else if(re>n.wbits){e.msg=`invalid window size`,n.mode=30;break}n.dmax=1<<re,e.adler=n.check=1,n.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(n.flags=b,(255&n.flags)!=8){e.msg=`unknown compression method`,n.mode=30;break}if(57344&n.flags){e.msg=`unknown header flags set`,n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(N[0]=255&b,N[1]=b>>>8&255,n.check=a(n.check,N,2,0)),x=b=0,n.mode=3;case 3:for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.head&&(n.head.time=b),512&n.flags&&(N[0]=255&b,N[1]=b>>>8&255,N[2]=b>>>16&255,N[3]=b>>>24&255,n.check=a(n.check,N,4,0)),x=b=0,n.mode=4;case 4:for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(N[0]=255&b,N[1]=b>>>8&255,n.check=a(n.check,N,2,0)),x=b=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(N[0]=255&b,N[1]=b>>>8&255,n.check=a(n.check,N,2,0)),x=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(E=n.length)&&(E=v),E&&(n.head&&(re=n.head.extra_len-n.length,n.head.extra||(n.head.extra=Array(n.head.extra_len)),r.arraySet(n.head.extra,p,g,E,re)),512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(v===0)break e;for(E=0;re=p[g+ E++],n.head&&re&&n.length<65536&&(n.head.name+=String.fromCharCode(re)),re&&E<v;);if(512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,re)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(v===0)break e;for(E=0;re=p[g+ E++],n.head&&re&&n.length<65536&&(n.head.comment+=String.fromCharCode(re)),re&&E<v;);if(512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,re)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b!==(65535&n.check)){e.msg=`header crc mismatch`,n.mode=30;break}x=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}e.adler=n.check=h(b),x=b=0,n.mode=11;case 11:if(n.havedict===0)return e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(t===5||t===6)break e;case 13:if(n.last){b>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}switch(n.last=1&b,--x,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,t!==6)break;b>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg=`invalid block type`,n.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){e.msg=`invalid stored block lengths`,n.mode=30;break}if(n.length=65535&b,x=b=0,n.mode=15,t===6)break e;case 15:n.mode=16;case 16:if(E=n.length){if(v<E&&(E=v),y<E&&(E=y),E===0)break e;r.arraySet(m,p,g,E,_),v-=E,g+=E,y-=E,_+=E,n.length-=E;break}n.mode=12;break;case 17:for(;x<14;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(n.nlen=257+(31&b),b>>>=5,x-=5,n.ndist=1+(31&b),b>>>=5,x-=5,n.ncode=4+(15&b),b>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg=`too many length or distance symbols`,n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.lens[se[n.have++]]=7&b,b>>>=3,x-=3}for(;n.have<19;)n.lens[se[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},ie=s(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,ie){e.msg=`invalid code lengths set`,n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(oe=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,ee=65535&oe,!((k=oe>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(ee<16)b>>>=k,x-=k,n.lens[n.have++]=ee;else{if(ee===16){for(ae=k+2;x<ae;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b>>>=k,x-=k,n.have===0){e.msg=`invalid bit length repeat`,n.mode=30;break}re=n.lens[n.have-1],E=3+(3&b),b>>>=2,x-=2}else if(ee===17){for(ae=k+3;x<ae;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}x-=k,re=0,E=3+(7&(b>>>=k)),b>>>=3,x-=3}else{for(ae=k+7;x<ae;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}x-=k,re=0,E=11+(127&(b>>>=k)),b>>>=7,x-=7}if(n.have+E>n.nlen+n.ndist){e.msg=`invalid bit length repeat`,n.mode=30;break}for(;E--;)n.lens[n.have++]=re}}if(n.mode===30)break;if(n.lens[256]===0){e.msg=`invalid code -- missing end-of-block`,n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},ie=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,ie){e.msg=`invalid literal/lengths set`,n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},ie=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,ie){e.msg=`invalid distances set`,n.mode=30;break}if(n.mode=20,t===6)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=y){e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,o(e,C),_=e.next_out,m=e.output,y=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,b=n.hold,x=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;A=(oe=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,ee=65535&oe,!((k=oe>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(A&&!(240&A)){for(j=k,te=A,ne=ee;A=(oe=n.lencode[ne+((b&(1<<j+te)-1)>>j)])>>>16&255,ee=65535&oe,!(j+(k=oe>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}b>>>=j,x-=j,n.back+=j}if(b>>>=k,x-=k,n.back+=k,n.length=ee,A===0){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg=`invalid literal/length code`,n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(ae=n.extra;x<ae;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(oe=n.distcode[b&(1<<n.distbits)-1])>>>16&255,ee=65535&oe,!((k=oe>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(!(240&A)){for(j=k,te=A,ne=ee;A=(oe=n.distcode[ne+((b&(1<<j+te)-1)>>j)])>>>16&255,ee=65535&oe,!(j+(k=oe>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}b>>>=j,x-=j,n.back+=j}if(b>>>=k,x-=k,n.back+=k,64&A){e.msg=`invalid distance code`,n.mode=30;break}n.offset=ee,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(ae=n.extra;x<ae;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=`invalid distance too far back`,n.mode=30;break}n.mode=25;case 25:if(y===0)break e;if(E=C-y,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg=`invalid distance too far back`,n.mode=30;break}D=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),O=n.window}else O=m,D=_-n.offset,E=n.length;for(y<E&&(E=y),y-=E,n.length-=E;m[_++]=O[D++],--E;);n.length===0&&(n.mode=21);break;case 26:if(y===0)break e;m[_++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(v===0)break e;v--,b|=p[g++]<<x,x+=8}if(C-=y,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?a(n.check,m,C,_-C):i(n.check,m,C,_-C)),C=y,(n.flags?b:h(b))!==n.check){e.msg=`incorrect data check`,n.mode=30;break}x=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b!==(4294967295&n.total)){e.msg=`incorrect length check`,n.mode=30;break}x=b=0}n.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return d}return e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,(n.wsize||C!==e.avail_out&&n.mode<30&&(n.mode<27||t!==4))&&T(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,C-=e.avail_out,e.total_in+=S,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?a(n.check,m,C,e.next_out-C):i(n.check,m,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(S==0&&C===0||t===4)&&ie===u&&(ie=-5),ie)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&=null,e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?(n=e.state).wrap!==0&&n.mode!==11?d:n.mode===11&&i(1,t,r,0)!==n.check?-3:T(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo=`pako inflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e(`../utils/common`),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,f){var p,m,h,g,_,v,y,b,x,S=f.bits,C=0,w=0,T=0,E=0,D=0,O=0,k=0,A=0,ee=0,j=0,te=null,ne=0,re=new r.Buf16(16),ie=new r.Buf16(16),M=null,ae=0;for(C=0;C<=15;C++)re[C]=0;for(w=0;w<c;w++)re[t[n+w]]++;for(D=S,E=15;1<=E&&re[E]===0;E--);if(E<D&&(D=E),E===0)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(T=1;T<E&&re[T]===0;T++);for(D<T&&(D=T),C=A=1;C<=15;C++)if(A<<=1,(A-=re[C])<0)return-1;if(0<A&&(e===0||E!==1))return-1;for(ie[1]=0,C=1;C<15;C++)ie[C+1]=ie[C]+re[C];for(w=0;w<c;w++)t[n+w]!==0&&(d[ie[t[n+w]]++]=w);if(v=e===0?(te=M=d,19):e===1?(te=i,ne-=257,M=a,ae-=257,256):(te=o,M=s,-1),C=T,_=u,k=w=j=0,h=-1,g=(ee=1<<(O=D))-1,e===1&&852<ee||e===2&&592<ee)return 1;for(;;){for(y=C-k,x=d[w]<v?(b=0,d[w]):d[w]>v?(b=M[ae+d[w]],te[ne+d[w]]):(b=96,0),p=1<<C-k,T=m=1<<O;l[_+(j>>k)+(m-=p)]=y<<24|b<<16|x|0,m!==0;);for(p=1<<C-1;j&p;)p>>=1;if(p===0?j=0:(j&=p-1,j+=p),w++,--re[C]==0){if(C===E)break;C=t[n+d[w]]}if(D<C&&(j&g)!==h){for(k===0&&(k=D),_+=T,A=1<<(O=C-k);O+k<E&&!((A-=re[O+k])<=0);)O++,A<<=1;if(ee+=1<<O,e===1&&852<ee||e===2&&592<ee)return 1;l[h=j&g]=D<<24|O<<16|_-u|0}}return j!==0&&(l[_+j]=C-k<<24|4194304),f.bits=D,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`}},{}],52:[function(e,t,n){var r=e(`../utils/common`),i=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,l=256,u=l+1+c,d=30,f=19,p=2*u+1,m=15,h=16,g=7,_=256,v=16,y=17,b=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=Array(2*(u+2));o(T);var E=Array(2*d);o(E);var D=Array(512);o(D);var O=Array(256);o(O);var k=Array(c);o(k);var A,ee,j,te=Array(d);function ne(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function re(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function ie(e){return e<256?D[e]:D[256+(e>>>7)]}function M(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function ae(e,t,n){e.bi_valid>h-n?(e.bi_buf|=t<<e.bi_valid&65535,M(e,e.bi_buf),e.bi_buf=t>>h-e.bi_valid,e.bi_valid+=n-h):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function oe(e,t,n){ae(e,n[2*t],n[2*t+1])}function N(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function se(e,t,n){var r,i,a=Array(m+1),o=0;for(r=1;r<=m;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];s!==0&&(e[2*i]=N(a[s]++,s))}}function ce(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function le(e){8<e.bi_valid?M(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function ue(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&P(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!P(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function F(e,t,n){var r,i,a,o,s=0;if(e.last_lit!==0)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,r===0?oe(e,i,t):(oe(e,(a=O[i])+l+1,t),(o=x[a])!==0&&ae(e,i-=k[a],o),oe(e,a=ie(--r),n),(o=S[a])!==0&&ae(e,r-=te[a],o)),s<e.last_lit;);oe(e,_,t)}function de(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<c;n++)a[2*n]===0?a[2*n+1]=0:(e.heap[++e.heap_len]=l=n,e.depth[n]=0);for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)ue(e,a,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ue(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,ue(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,g=t.stat_desc.max_length,_=0;for(a=0;a<=m;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)g<(a=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(a=g,_++),c[2*r+1]=a,l<r||(e.bl_count[a]++,o=0,h<=r&&(o=f[r-h]),s=c[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*r+1]+o)));if(_!==0){do{for(a=g-1;e.bl_count[a]===0;)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,_-=2}while(0<_);for(a=g;a!==0;a--)for(r=e.bl_count[a];r!==0;)l<(i=e.heap[--n])||(c[2*i+1]!==a&&(e.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),r--)}}(e,t),se(a,l,e.bl_count)}function fe(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<l?e.bl_tree[2*i]+=s:i===0?s<=10?e.bl_tree[2*y]++:e.bl_tree[2*b]++:(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*v]++),a=i,l=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4))}function I(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<l)for(;oe(e,i,e.bl_tree),--s!=0;);else i===0?s<=10?(oe(e,y,e.bl_tree),ae(e,s-3,3)):(oe(e,b,e.bl_tree),ae(e,s-11,7)):(i!==a&&(oe(e,i,e.bl_tree),s--),oe(e,v,e.bl_tree),ae(e,s-3,2));a=i,l=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4)}}o(te);var pe=!1;function me(e,t,n,i){ae(e,(s<<1)+(i?1:0),3),function(e,t,n,i){le(e),i&&(M(e,n),M(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){pe||=(function(){var e,t,n,r,i,a=Array(m+1);for(r=n=0;r<c-1;r++)for(k[r]=n,e=0;e<1<<x[r];e++)O[n++]=r;for(O[n-1]=r,r=i=0;r<16;r++)for(te[r]=i,e=0;e<1<<S[r];e++)D[i++]=r;for(i>>=7;r<d;r++)for(te[r]=i<<7,e=0;e<1<<S[r]-7;e++)D[256+ i++]=r;for(t=0;t<=m;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(se(T,u+1,a),e=0;e<d;e++)E[2*e+1]=5,E[2*e]=N(e,5);A=new ne(T,x,l+1,u,m),ee=new ne(E,S,0,d,m),j=new ne([],C,0,f,g)}(),!0),e.l_desc=new re(e.dyn_ltree,A),e.d_desc=new re(e.dyn_dtree,ee),e.bl_desc=new re(e.bl_tree,j),e.bi_buf=0,e.bi_valid=0,ce(e)},n._tr_stored_block=me,n._tr_flush_block=function(e,t,n,r){var o,s,c=0;0<e.level?(e.strm.data_type===2&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&e.dyn_ltree[2*t]!==0)return i;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return a;for(t=32;t<l;t++)if(e.dyn_ltree[2*t]!==0)return a;return i}(e)),de(e,e.l_desc),de(e,e.d_desc),c=function(e){var t;for(fe(e,e.dyn_ltree,e.l_desc.max_code),fe(e,e.dyn_dtree,e.d_desc.max_code),de(e,e.bl_desc),t=f-1;3<=t&&e.bl_tree[2*w[t]+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&t!==-1?me(e,t,n,r):e.strategy===4||s===o?(ae(e,2+(r?1:0),3),F(e,T,E)):(ae(e,4+(r?1:0),3),function(e,t,n,r){var i;for(ae(e,t-257,5),ae(e,n-1,5),ae(e,r-4,4),i=0;i<r;i++)ae(e,e.bl_tree[2*w[i]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),F(e,e.dyn_ltree,e.dyn_dtree)),ce(e),r&&le(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,t===0?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+l+1)]++,e.dyn_dtree[2*ie(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){ae(e,2,3),oe(e,_,T),function(e){e.bi_valid===16?(M(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){(function(e,t){if(!e.setImmediate){var n,r,i,a,o=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n={}.toString.call(e.process)===`[object process]`?function(e){process.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(``,`*`),e.onmessage=n,t}}()?(a=`setImmediate$`+Math.random()+`$`,e.addEventListener?e.addEventListener(`message`,p,!1):e.attachEvent(`onmessage`,p),function(t){e.postMessage(a+t,`*`)}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){i.port2.postMessage(e)}):l&&`onreadystatechange`in l.createElement(`script`)?(r=l.documentElement,function(e){var t=l.createElement(`script`);t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){typeof e!=`function`&&(e=Function(``+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return s[o]={callback:e,args:t},n(o),o++},u.clearImmediate=d}function d(e){delete s[e]}function f(e){if(c)setTimeout(f,0,e);else{var n=s[e];if(n){c=!0;try{(function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}})(n)}finally{d(e),c=!1}}}}function p(t){t.source===e&&typeof t.data==`string`&&t.data.indexOf(a)===0&&f(+t.data.slice(a.length))}})(typeof self>`u`?e===void 0?this:e:self)}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}]},{},[10])(10)})}))());async function Gg(e,t=2048,n){if(!e.type.startsWith(`image/`))throw Error(`File is not an image`);let r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(e){if(!e.target?.result)throw Error(`Failed to read file`);let r=new Blob([e.target.result]);window.URL=window.URL||window.webkitURL;let i=window.URL.createObjectURL(r);var a=new Image;a.src=i,a.onload=function(){Kg(a,t,n)}}}function Kg(e,t=2048,n){let r=document.createElement(`canvas`),i=r.getContext(`2d`);if(!i)throw Error(`Failed to get canvas context`);let a=e.width,o=e.height;if(a>t||o>t){let n=Math.min(t/a,t/o);r.width=a*n,r.height=o*n,i.drawImage(e,0,0,r.width,r.height)}else r.width=a,r.height=o,i.drawImage(e,0,0,r.width,r.height);return r.toBlob(n,`image/jpeg`,.85)}var qg=q(`<span class="mr-2">Reuse existing dataset</span> <!>`,1),Jg=q(`<option> </option>`),Yg=q(`<div class="select"><select><option>Use dataset from</option><!></select></div>`),Xg=q(`<div class="notification dropper is-info is-overlay">Drop files here</div>`),Zg=q(`<div class="column is-3"><!></div> <div class="column is-3"><!></div> <div class="column is-3"><!></div> <div class="column is-3"><!></div>`,1),Qg=q(`<li class="column is-3 is-flex"><div class="image-generic-outer-wrapper" style="opacity: 1;"><div class="image-generic-inner-wrapper"><div class="image-generic-title"><!> <span class="title-identification"><span class="tag is-light is-bold mb-3"> </span> <span class="is-size-7"> </span></span></div> <div class="image-generic-content mb-1"><img/></div></div></div></li>`),$g=(e,t)=>t(Array.from(e.target.files??[])),e_=q(`<ul class="columns is-mobile is-multiline list-invisible"></ul> <div class="file has-name is-fullwidth" id="id_pdf_file-wrapper"><label class="file-label"><span class="file-cta"><span class="file-icon"><span class="iconify" data-icon="mdi:upload"></span></span> <span class="file-label">Select files...</span></span> <span class="file-name"> </span> <input type="file" accept="image/*" class="file-input" style="display: none;" multiple/></label></div>`,1),t_=q(`<div class="file has-name is-fullwidth" id="id_zip_file-wrapper"><label class="file-label"><span class="file-cta"><span class="file-icon"><span class="iconify" data-icon="mdi:upload"></span></span> <span class="file-label">Select a file...</span></span> <span class="file-name"> </span></label></div>`),n_=q(`<div class="file has-name is-fullwidth" id="id_pdf_file-wrapper"><label class="file-label"><span class="file-cta"><span class="file-icon"><span class="iconify" data-icon="mdi:upload"></span></span> <span class="file-label">Select a file...</span></span> <span class="file-name"> </span></label></div>`),r_=q(`<!> <!> <!> <!> <!>`,1),i_=q(`<div class="has-background-light"><div class="top-notification notification py-3 px-4"><span class="iconify" data-icon="mdi:info-outline"></span> You can drag and drop files
                here</div> <!> <!></div>`),a_=q(`<div class="dataset-compose-form is-relative"><div class="dataset-reuse-toggle"><!></div> <!></div>`);function o_(e,t){let n=yr();L(t,!0);let r=`No file selected`,i=Q(t,`ready`,15),a=t.form.querySelector(`#id_reuse_dataset`),o=t.form.querySelector(`#id_dataset`),s=t.form.querySelector(`#id_format`),c=t.form.querySelector(`#id_iiif_manifests`),l=t.form.querySelector(`#id_zip_file`),u=t.form.querySelector(`#id_pdf_file`),d=l.form,f=B(Et(a.checked)),p=B(Et(o.value)),m=B(Et([])),h=B(r),g=B(r),_=B(Et([])),v=new Wg.default,y=B(`zip`),b=B(!1);Oi(()=>(V(h,l.files?.[0]?.name??r,!0),l.onchange=()=>{V(h,l.files?.[0]?.name??r,!0)},V(g,u.files?.[0]?.name??r,!0),u.onchange=()=>{V(g,u.files?.[0]?.name??r,!0)},V(y,s.value,!0),d&&(d.onsubmit=e=>{K(y)!==`zip`&&(l.files=null),K(y)!==`pdf`&&(u.files=null),K(y)==`images`&&(e.preventDefault(),v.generateAsync({type:`blob`}).then(e=>{let t=new DataTransfer;t.items.add(new File([e],`dataset.zip`,{type:`application/zip`})),l.files=t.files,d.submit()}))}),()=>{l.onchange=null,u.onchange=null,d.onsubmit=null}));function x(e){console.log(e),e.forEach(e=>{Gg(e,2048,t=>{t&&(v.file(e.name,t),V(_,[...K(_),{name:e.name,blob:t}],!0))})}),V(y,`images`)}function S(e){return()=>{let t=K(_)[e];v.remove(t.name),K(_).splice(e,1)}}function C(e){e.preventDefault(),e.stopPropagation(),V(b,!1);let t=e.dataTransfer?.files;t&&(t[0].type.startsWith(`image/`)&&x(Array.from(t).filter(e=>e.type.startsWith(`image/`))),t[0].type.startsWith(`application/zip`)&&(l.files=t,V(h,t[0].name,!0),V(y,`zip`)),t[0].type.startsWith(`application/pdf`)&&(u.files=t,V(g,t[0].name,!0),V(y,`pdf`)))}function w(e){s.value=e==`images`?`zip`:e}function T(e){a.checked=e}Yt(()=>{o.value=K(p)}),Yt(()=>{i(K(f)?K(p)!=``:K(y)==`images`&&K(_).length>0||K(y)==`zip`&&K(h)!==r||K(y)==`iiif`&&K(m).length>0||K(y)==`pdf`&&K(g)!==r)});var E=a_(),D=H(E),O=H(D);Rr(O,()=>Op,(e,t)=>{t(e,{onPressedChange:T,get pressed(){return K(f)},set pressed(e){V(f,e,!0)},children:(e,t)=>{var n=qg(),r=W(U(n),2);vo(r,{icon:`mdi:sync`}),Y(e,n)},$$slots:{default:!0}})}),I(D);var k=W(D,2),A=e=>{var t=Yg(),n=H(t),r=H(n);r.value=r.__value=``;var i=W(r);jr(i,17,()=>o.children,kr,(e,t)=>{var n=J(),r=U(n),i=e=>{var n=Jg(),r=H(n,!0);I(n);var i={};G(()=>{br(r,K(t).text),i!==(i=K(t).value)&&(n.value=(n.__value=K(t).value)??``)}),Y(e,n)};X(r,e=>{K(t)instanceof HTMLOptionElement&&K(t).value!=``&&e(i)}),Y(e,n)}),I(n),I(t),ei(n,()=>K(p),e=>V(p,e)),Y(e,t)},ee=e=>{var t=i_(),r=W(H(t),2),i=e=>{var t=Xg();Y(e,t)};X(r,e=>{K(b)&&e(i)});var a=W(r,2);Rr(a,()=>_p,(e,t)=>{t(e,{onValueChange:w,get value(){return K(y)},set value(e){V(y,e,!0)},children:(e,t)=>{var r=r_(),i=U(r);Rr(i,()=>xp,(e,t)=>{t(e,{class:`columns gap-2`,children:(e,t)=>{var n=Zg(),r=U(n),i=H(r);Rr(i,()=>Cp,(e,t)=>{t(e,{value:`images`,class:``,children:(e,t)=>{pe();var n=vr(`Image files`);Y(e,n)},$$slots:{default:!0}})}),I(r);var a=W(r,2),o=H(a);Rr(o,()=>Cp,(e,t)=>{t(e,{value:`zip`,class:``,children:(e,t)=>{pe();var n=vr(`Zip file`);Y(e,n)},$$slots:{default:!0}})}),I(a);var s=W(a,2),c=H(s);Rr(c,()=>Cp,(e,t)=>{t(e,{value:`iiif`,class:``,children:(e,t)=>{pe();var n=vr(`IIIF manifests`);Y(e,n)},$$slots:{default:!0}})}),I(s);var l=W(s,2),u=H(l);Rr(u,()=>Cp,(e,t)=>{t(e,{value:`pdf`,class:``,children:(e,t)=>{pe();var n=vr(`PDF file`);Y(e,n)},$$slots:{default:!0}})}),I(l),Y(e,n)},$$slots:{default:!0}})});var a=W(i,2);Rr(a,()=>yp,(e,t)=>{t(e,{value:`images`,children:(e,t)=>{var r=e_(),i=U(r);jr(i,22,()=>K(_),e=>e,(e,t,n)=>{var r=Qg(),i=H(r),a=H(i),o=H(a),s=H(o);{let e=z(()=>S(K(n)));am(s,{icon:`mdi:delete`,get onclick(){return K(e)}})}var c=W(s,2),l=H(c),u=H(l);I(l);var d=W(l,2),f=H(d,!0);I(d),I(c),I(o);var p=W(o,2),m=H(p);I(p),I(a),I(i),I(r),G(e=>{li(c,`title`,t.name),br(u,`Image #${K(n)??``}`),br(f,t.name),li(m,`src`,e),li(m,`alt`,t.name)},[()=>URL.createObjectURL(t.blob)]),Y(e,r)}),I(i);var a=W(i,2),o=H(a),s=W(H(o),2),c=H(s);I(s);var l=W(s,2);l.__change=[$g,x],I(o),I(a),G(()=>{li(o,`for`,`${n}-img-input`),br(c,`Images (${K(_).length??``})`),li(l,`id`,`${n}-img-input`)}),Y(e,r)},$$slots:{default:!0}})});var o=W(a,2);Rr(o,()=>yp,(e,t)=>{t(e,{value:`zip`,children:(e,t)=>{var n=t_(),r=H(n),i=W(H(r),2),a=H(i,!0);I(i),I(r),I(n),G(()=>{li(r,`for`,l.id),br(a,K(h))}),Y(e,n)},$$slots:{default:!0}})});var s=W(o,2);Rr(s,()=>yp,(e,t)=>{t(e,{value:`iiif`,children:(e,t)=>{Ug(e,{get field(){return c},get value(){return K(m)},set value(e){V(m,e,!0)}})},$$slots:{default:!0}})});var d=W(s,2);Rr(d,()=>yp,(e,t)=>{t(e,{value:`pdf`,children:(e,t)=>{var n=n_(),r=H(n),i=W(H(r),2),a=H(i,!0);I(i),I(r),I(n),G(()=>{li(r,`for`,u.id),br(a,K(g))}),Y(e,n)},$$slots:{default:!0}})}),Y(e,r)},$$slots:{default:!0}})}),I(t),ur(`drop`,t,C),ur(`dragover`,t,e=>{e.preventDefault(),e.stopPropagation(),V(b,!0)}),ur(`dragleave`,t,e=>{e.preventDefault(),e.stopPropagation(),V(b,!1)}),Y(e,t)};X(k,e=>{K(f)?e(A):e(ee,!1)}),I(E),Y(e,E),R()}dr([`change`]);var s_=q(`<!> <span>I have <b>samples</b> and I want to <b>search</b> for similar watermarks in a <b>database</b></span>`,1),c_=q(`<!> <span>I have a <b>database</b> of watermarks that I want to make <b>searchable</b></span>`,1),l_=q(`<!> <span>I have a <b>set</b> of watermarks that I want to <b>compare</b> to each other</span>`,1),u_=q(`<!> <!> <!>`,1);function d_(e,t){L(t,!0);let n=Q(t,`value`,15),r=Q(t,`field`,7);function i(e){r().value=e}Oi(()=>{n(r().value)});var a=J(),o=U(a);Rr(o,()=>Rp,(e,t)=>{t(e,{type:`single`,onValueChange:i,class:`columns toggle-analysis-type`,get value(){return n()},set value(e){n(e)},children:(e,t)=>{var n=u_(),r=U(n);Rr(r,()=>Bp,(e,t)=>{t(e,{value:`query`,class:`column is-3 has-text-centered`,children:(e,t)=>{var n=s_(),r=U(n);vo(r,{icon:`mdi:database-search`}),pe(2),Y(e,n)},$$slots:{default:!0}})});var i=W(r,2);Rr(i,()=>Bp,(e,t)=>{t(e,{value:`indexing`,class:`column is-3 has-text-centered`,children:(e,t)=>{var n=c_(),r=U(n);vo(r,{icon:`mdi:database-plus`}),pe(2),Y(e,n)},$$slots:{default:!0}})});var a=W(i,2);Rr(a,()=>Bp,(e,t)=>{t(e,{value:`similarity`,class:`column is-3 has-text-centered`,children:(e,t)=>{var n=l_(),r=U(n);vo(r,{icon:`mdi:compare-horizontal`}),pe(2),Y(e,n)},$$slots:{default:!0}})}),Y(e,n)},$$slots:{default:!0}})}),Y(e,a),R()}function f_(e,t){L(t,!0);let n=Q(t,`value`,15),r=z(()=>t.options.map(e=>({label:Array.from(e.childNodes).filter(e=>e.tagName!==`INPUT`).map(e=>e.outerHTML||e.textContent).join(``),input:e.querySelector(`input`)})));function i(e){K(r).forEach(({input:t})=>{t.value===e?t.checked=!0:t.checked=!1})}Oi(()=>{K(r).forEach(({input:e})=>{e.checked&&n(e.value)})});var a=J(),o=U(a);Rr(o,()=>Rp,(e,t)=>{t(e,{type:`single`,onValueChange:i,orientation:`vertical`,class:`dataset-compose-form`,get value(){return n()},set value(e){n(e)},children:(e,t)=>{var n=J(),i=U(n);jr(i,17,()=>K(r),kr,(e,t)=>{let n=()=>K(t).input,r=()=>K(t).label;var i=J(),a=U(i);Rr(a,()=>Bp,(e,t)=>{t(e,{get value(){return n().value},class:`search-index-option`,children:(e,t)=>{var n=J(),i=U(n);Lr(i,r),Y(e,n)},$$slots:{default:!0}})}),Y(e,i)},e=>{var t=J(),n=U(t);Rr(n,()=>Bp,(e,t)=>{t(e,{value:``,class:`search-index-option`,children:(e,t)=>{pe();var n=vr(`No index available`);Y(e,n)},$$slots:{default:!0}})}),Y(e,t)}),Y(e,n)},$$slots:{default:!0}})}),Y(e,a),R()}var p_=q(`<!> <span><b>Detect and crop</b> watermarks inside the images</span>`,1),m_=q(`<!> <span>Watermarks are already cropped, use <b>full images</b></span>`,1),h_=q(`<!> <!>`,1);function g_(e,t){L(t,!0);let n=Q(t,`value`,15),r=Q(t,`field`,7),i=B(Et(n()?`true`:`false`));function a(e){V(i,e,!0),n(K(i)==`true`),r().checked=n()}Oi(()=>{V(i,r().checked?`true`:`false`,!0),n(K(i)==`true`)});var o=J(),s=U(o);Rr(s,()=>Rp,(e,t)=>{t(e,{get value(){return K(i)},type:`single`,onValueChange:a,class:`columns toggle-analysis-type`,children:(e,t)=>{var n=h_(),r=U(n);Rr(r,()=>Bp,(e,t)=>{t(e,{value:`true`,class:`column is-3 has-text-centered`,children:(e,t)=>{var n=p_(),r=U(n);vo(r,{icon:`mdi:image-size-select-large`}),pe(2),Y(e,n)},$$slots:{default:!0}})});var i=W(r,2);Rr(i,()=>Bp,(e,t)=>{t(e,{value:`false`,class:`column is-3 has-text-centered`,children:(e,t)=>{var n=m_(),r=U(n);vo(r,{icon:`mdi:fullscreen`}),pe(2),Y(e,n)},$$slots:{default:!0}})}),Y(e,n)},$$slots:{default:!0}})}),Y(e,o),R()}var __=q(`<div class="notification is-danger is-light py-3 px-4 mt-5 mb-2"><p class="error">Please fill in all the fields.</p> <!></div>`),v_=q(`<h4 class="mt-6 mb-5">What index do you want to query?</h4> <!>`,1),y_=q(`<h4 class="mt-6 mb-5"><!></h4> <div class="box has-background-light"><!></div> <h4 class="mt-6 mb-5">Are those image cropped and centered?</h4> <!> <div class="mb-4"></div>`,1),b_=q(`<!> <h4 class="mb-5">What do you want to do?</h4> <!> <!> <!>`,1);function x_(e,t){L(t,!0);let n=t.originalForm.querySelector(`#id_name`),r=t.originalForm.querySelector(`#id_analysis_type`),i=B(Et(r.value)),a=Array.from(t.originalForm.querySelectorAll(`[name=query_target_index]`)).map(e=>e.parentElement),o=B(``),s=t.originalForm.querySelector(`.dataset-form`),c=t.originalForm.querySelector(`#id_need_regions`),l=B(Et(c.checked)),u=t.originalForm.querySelectorAll(`.errorlist`),d=r.form.querySelector(`input[type=submit]`),f=B(!1);Yt(()=>{K(i)===`query`?n.value=`Query on `+a.find(e=>e.querySelector(`input`).value===K(o))?.querySelector(`.index-title`)?.textContent.trim():n.value=K(i).charAt(0).toUpperCase()+K(i).slice(1)}),Yt(()=>{d.disabled=K(i)===``||K(i)===`query`&&K(o)===``||!K(f)});var p=b_(),m=U(p),h=e=>{var t=__(),n=W(H(t),2);jr(n,17,()=>u,kr,(e,t)=>{var n=J(),r=U(n);Lr(r,()=>K(t).outerHTML),Y(e,n)}),I(t),Y(e,t)};X(m,e=>{u.length>0&&e(h)});var g=W(m,4);d_(g,{get field(){return r},get value(){return K(i)},set value(e){V(i,e,!0)}});var _=W(g,2),v=e=>{var t=v_(),n=W(U(t),2);f_(n,{get options(){return a},get value(){return K(o)},set value(e){V(o,e,!0)}}),Y(e,t)};X(_,e=>{K(i)===`query`&&e(v)});var y=W(_,2),b=e=>{var t=y_(),n=U(t),r=H(n),a=e=>{var t=vr(`What images do you want to use as a query?`);Y(e,t)},o=e=>{var t=vr(`What is your dataset?`);Y(e,t)};X(r,e=>{K(i)===`query`?e(a):e(o,!1)}),I(n);var u=W(n,2),d=H(u);o_(d,{get form(){return s},get ready(){return K(f)},set ready(e){V(f,e,!0)}}),I(u);var p=W(u,4);g_(p,{get field(){return c},get value(){return K(l)},set value(e){V(l,e,!0)}}),pe(2),Y(e,t)};X(y,e=>{K(i)&&(K(i)!==`query`||K(o)!=``)&&e(b)}),Y(e,p),R()}function S_(e){let t=document.createElement(`div`);e.parentNode?.insertBefore(t,e.nextSibling),xr(x_,{target:t,props:{originalForm:e}}),e.style.display=`none`}function C_(e,t,n,r,i,a){xr(Th,{target:e,props:{clustering_data:Dh(t),base_url:n,editable:r,editing:i,formfield:a}})}function w_(e,t){xr(Mh,{target:e,props:{tracking_url:t}})}function T_(e,t,n,r,i){xr(vg,{target:e,props:{source_index_url:t,sim_matrix_url:n,mode:r,metadata_url:i}})}function E_(e,t,n,r){xr(Pg,{target:e,props:{source_index_url:t,query_result_url:n,metadata_url:r}})}function D_(e,t){xr(Cg,{target:e,props:{image_array:t}})}function O_(e,t,n,r){xr(jg,{target:e,props:{dataset:t,datasetFormat:n,metadataURL:r}})}window.DemoTools={initClusterViewer:C_,initProgressTracker:w_,initSimilarityApp:T_,initImageGenericList:D_,initDatasetImageBrowser:O_,initSearchResults:E_,initWatermarksForm:S_}});